<?xml version="1.0" encoding="utf-8" standalone="yes"?><?xml-stylesheet href="/pretty-feed-v3.xsl" type="text/xsl"?><rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom"><channel><title>python on Hugo van Kemenade</title><link>https://hugovk.dev/tags/python/</link><description>Recent content in python on Hugo van Kemenade</description><generator>Hugo</generator><language>en</language><copyright>&lt;a href="https://creativecommons.org/licenses/by-sa/4.0/">{{&lt; icon "cc" >}}&amp;hairsp;{{&lt; icon "cc-by" >}}&amp;hairsp;{{&lt; icon "cc-sa" >}}&lt;/a>&amp;nbsp;Hugo van Kemenade&lt;br>&lt;p class="text-xs text-neutral-500 dark:text-neutral-400">Powered by &lt;a class="hover:underline hover:decoration-primary-400 hover:text-primary-500" href="https://gohugo.io/" target="_blank" rel="noopener noreferrer">Hugo&lt;/a> &amp;amp; &lt;a class="hover:underline hover:decoration-primary-400 hover:text-primary-500" href="https://github.com/jpanther/congo" target="_blank" rel="noopener noreferrer">Congo&lt;/a> &amp;amp; &lt;a class="hover:underline hover:decoration-primary-400 hover:text-primary-500" href="https://hugovk.dev" target="_blank" rel="noopener noreferrer">Hugo&lt;/a>&lt;/p></copyright><lastBuildDate>Fri, 14 Feb 2025 15:11:00 +0000</lastBuildDate><atom:link href="https://hugovk.dev/tags/python/index.xml" rel="self" type="application/rss+xml"/><item><title>Improving licence metadata</title><link>https://hugovk.dev/blog/2025/improving-licence-metadata/</link><pubDate>Fri, 14 Feb 2025 15:11:00 +0000</pubDate><guid>https://hugovk.dev/blog/2025/improving-licence-metadata/</guid><description>&lt;h2 id="what" class="relative group">What? &lt;span class="absolute top-0 w-6 transition-opacity opacity-0 -start-6 not-prose group-hover:opacity-100">&lt;a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700" style="text-decoration-line: none !important;" href="#what" aria-label="Anchor">#&lt;/a>&lt;/span>&lt;/h2>&lt;p>&lt;a href="https://peps.python.org/pep-0639/" target="_blank" rel="noreferrer">PEP 639&lt;/a> defines a spec on how to document licences
used in Python projects.&lt;/p>
&lt;p>Instead of using a &lt;a href="https://pypi.org/classifiers/" target="_blank" rel="noreferrer">Trove classifier&lt;/a> such as &amp;ldquo;License ::
OSI Approved :: BSD License&amp;rdquo;, which is imprecise (for example, which
&lt;a href="https://en.wikipedia.org/wiki/BSD_licenses" target="_blank" rel="noreferrer">BSD licence&lt;/a>?), the
&lt;a href="https://spdx.github.io/spdx-spec/v2.2.2/SPDX-license-expressions/" target="_blank" rel="noreferrer">SPDX licence expression syntax&lt;/a>
is used.&lt;/p>
&lt;h2 id="how" class="relative group">How? &lt;span class="absolute top-0 w-6 transition-opacity opacity-0 -start-6 not-prose group-hover:opacity-100">&lt;a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700" style="text-decoration-line: none !important;" href="#how" aria-label="Anchor">#&lt;/a>&lt;/span>&lt;/h2>&lt;h3 id="pypprojecttoml" class="relative group">&lt;code>pypproject.toml&lt;/code> &lt;span class="absolute top-0 w-6 transition-opacity opacity-0 -start-6 not-prose group-hover:opacity-100">&lt;a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700" style="text-decoration-line: none !important;" href="#pypprojecttoml" aria-label="Anchor">#&lt;/a>&lt;/span>&lt;/h3>&lt;p>Change &lt;code>pyproject.toml&lt;/code> as follows.&lt;/p>
&lt;p>I usually use Hatchling as a build backend, and support was added in 1.27:&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-diff" data-lang="diff">&lt;span class="line">&lt;span class="cl"> [build-system]
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> build-backend = &amp;#34;hatchling.build&amp;#34;
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> requires = [
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &amp;#34;hatch-vcs&amp;#34;,
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="gd">- &amp;#34;hatchling&amp;#34;,
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="gd">&lt;/span>&lt;span class="gi">+ &amp;#34;hatchling&amp;gt;=1.27&amp;#34;,
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="gi">&lt;/span> ]
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>Replace the freeform &lt;code>license&lt;/code> field with a valid SPDX license expression, and add
&lt;code>license-files&lt;/code> which points to the licence files in the repo. There&amp;rsquo;s often only one,
but if you have more than one, list them all:&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-diff" data-lang="diff">&lt;span class="line">&lt;span class="cl"> [project]
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> ...
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="gd">-license = { text = &amp;#34;MIT&amp;#34; }
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="gd">&lt;/span>&lt;span class="gi">+license = &amp;#34;MIT&amp;#34;
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="gi">+license-files = [ &amp;#34;LICENSE&amp;#34; ]
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>Optionally delete the deprecated licence classifier:&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-diff" data-lang="diff">&lt;span class="line">&lt;span class="cl"> classifiers = [
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &amp;#34;Development Status :: 5 - Production/Stable&amp;#34;,
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &amp;#34;Intended Audience :: Developers&amp;#34;,
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="gd">- &amp;#34;License :: OSI Approved :: MIT License&amp;#34;,
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="gd">&lt;/span> &amp;#34;Operating System :: OS Independent&amp;#34;,
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>For example, see &lt;a href="https://github.com/python-humanize/humanize/pull/236" target="_blank" rel="noreferrer">humanize#236&lt;/a>
and &lt;a href="https://github.com/prettytable/prettytable/pull/350" target="_blank" rel="noreferrer">prettytable#350&lt;/a>.&lt;/p>
&lt;h3 id="upload" class="relative group">Upload &lt;span class="absolute top-0 w-6 transition-opacity opacity-0 -start-6 not-prose group-hover:opacity-100">&lt;a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700" style="text-decoration-line: none !important;" href="#upload" aria-label="Anchor">#&lt;/a>&lt;/span>&lt;/h3>&lt;p>Then make sure to use a PyPI uploader that supports this.&lt;/p>
&lt;p>I recommend using &lt;a href="https://docs.pypi.org/trusted-publishers/" target="_blank" rel="noreferrer">Trusted Publishing&lt;/a> which
I use with &lt;a href="https://github.com/pypa/gh-action-pypi-publish" target="_blank" rel="noreferrer">pypa/gh-action-pypi-publish&lt;/a>
to deploy from GitHub Actions. I didn&amp;rsquo;t need to make any changes here, just make a
release as usual.&lt;/p>
&lt;h2 id="result" class="relative group">Result &lt;span class="absolute top-0 w-6 transition-opacity opacity-0 -start-6 not-prose group-hover:opacity-100">&lt;a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700" style="text-decoration-line: none !important;" href="#result" aria-label="Anchor">#&lt;/a>&lt;/span>&lt;/h2>&lt;h3 id="pypi" class="relative group">PyPI &lt;span class="absolute top-0 w-6 transition-opacity opacity-0 -start-6 not-prose group-hover:opacity-100">&lt;a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700" style="text-decoration-line: none !important;" href="#pypi" aria-label="Anchor">#&lt;/a>&lt;/span>&lt;/h3>&lt;p>PyPI &lt;a href="https://pypi.org/project/prettytable/3.13.0/" target="_blank" rel="noreferrer">shows the new metadata&lt;/a>:&lt;/p>
&lt;p>





&lt;figure>
 
 








 
 &lt;picture
 class="mx-auto my-0 rounded-md"
 
 >
 
 
 
 
 &lt;source
 
 
 srcset="https://hugovk.dev/blog/2025/improving-licence-metadata/pypi-licence_hu_e5c3369e83f68c8a.webp"
 
 
 sizes="100vw"
 type="image/webp"
 />
 
 &lt;img
 width="586"
 height="372"
 class="mx-auto my-0 rounded-md"
 alt="Screenshot of PyPI showing licence expression: BSD-3-Clause"
 loading="lazy" decoding="async"
 
 src="https://hugovk.dev/blog/2025/improving-licence-metadata/pypi-licence.png"
 
 />
 &lt;/picture>
 


&lt;/figure>
&lt;/p>
&lt;h3 id="pip" class="relative group">pip &lt;span class="absolute top-0 w-6 transition-opacity opacity-0 -start-6 not-prose group-hover:opacity-100">&lt;a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700" style="text-decoration-line: none !important;" href="#pip" aria-label="Anchor">#&lt;/a>&lt;/span>&lt;/h3>&lt;p>pip can also show you the metadata:&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-shell" data-lang="shell">&lt;span class="line">&lt;span class="cl">â¯ pip install &lt;span class="nv">prettytable&lt;/span>&lt;span class="o">==&lt;/span>3.13.0
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">â¯ pip show prettytable
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">Name: prettytable
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">Version: 3.13.0
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">...
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">License-Expression: BSD-3-Clause
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">Location: /Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">Requires: wcwidth
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">Required-by: norwegianblue, pypistats
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;h2 id="thank-you" class="relative group">Thank you! &lt;span class="absolute top-0 w-6 transition-opacity opacity-0 -start-6 not-prose group-hover:opacity-100">&lt;a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700" style="text-decoration-line: none !important;" href="#thank-you" aria-label="Anchor">#&lt;/a>&lt;/span>&lt;/h2>&lt;p>A lot of work went into this. Thank you to PEP authors
&lt;a href="https://github.com/pombredanne" target="_blank" rel="noreferrer">Philippe Ombredanne&lt;/a> for creating the first draft in
2019, to &lt;a href="https://github.com/cam-gerlach" target="_blank" rel="noreferrer">C.A.M. Gerlach&lt;/a> for the second draft in 2021,
and especially to &lt;a href="https://karolinasurma.eu/" target="_blank" rel="noreferrer">Karolina Surma&lt;/a> for getting the third
draft over the finish line and helping with the implementation.&lt;/p>
&lt;p>And many projects were updated to support this, thanks to the maintainers and
contributors of at least:&lt;/p>
&lt;ul>
&lt;li>&lt;a href="https://github.com/pypi/warehouse/issues/16620" target="_blank" rel="noreferrer">PyPI/Warehouse&lt;/a>&lt;/li>
&lt;li>&lt;a href="https://packaging.pypa.io/en/stable/changelog.html" target="_blank" rel="noreferrer">packaging 24.2&lt;/a>&lt;/li>
&lt;li>&lt;a href="https://hatch.pypa.io/dev/history/hatchling/" target="_blank" rel="noreferrer">Hatchling 1.27&lt;/a>&lt;/li>
&lt;li>&lt;a href="https://twine.readthedocs.io/en/stable/changelog.html" target="_blank" rel="noreferrer">Twine 6.1.0&lt;/a>&lt;/li>
&lt;li>&lt;a href="https://github.com/pypa/gh-action-pypi-publish/releases/tag/v1.12.4" target="_blank" rel="noreferrer">PyPI publish GitHub Action v1.12.4&lt;/a>&lt;/li>
&lt;li>&lt;a href="https://github.com/hynek/build-and-inspect-python-package/releases/tag/v2.12.0" target="_blank" rel="noreferrer">build-and-inspect-python-package v2.12.0&lt;/a>&lt;/li>
&lt;li>&lt;a href="https://ichard26.github.io/blog/2025/01/whats-new-in-pip-25.0/" target="_blank" rel="noreferrer">pip 25.0&lt;/a>&lt;/li>
&lt;/ul>
&lt;hr>
&lt;p>&lt;small>Header photo:
&lt;a target="_blank" rel="noopener noreferrer" href="https://www.flickr.com/photos/sdasmarchives/49801923846/">Amelia
Earhart&amp;rsquo;s 1932 pilot licence&lt;/a> in the
&lt;a target="_blank" rel="noopener noreferrer" href="https://www.flickr.com/photos/sdasmarchives/">San
Diego Air and Space Museum Archive&lt;/a>, with
&lt;a target="_blank" rel="noopener noreferrer" href="https://www.flickr.com/commons/usage/">no
known copyright restrictions&lt;/a>.&lt;/small>&lt;/p></description></item><item><title>I'm excited to join the Sovereign Tech Fellowship</title><link>https://hugovk.dev/blog/2025/im-excited-to-join-the-sovereign-tech-fellowship/</link><pubDate>Thu, 06 Feb 2025 11:40:00 +0000</pubDate><guid>https://hugovk.dev/blog/2025/im-excited-to-join-the-sovereign-tech-fellowship/</guid><description>&lt;p>For the duration of 2025, I&amp;rsquo;m thrilled to join the
&lt;a href="https://www.sovereign.tech/programs/fellowship" target="_blank" rel="noreferrer">Sovereign Tech Fellowship for Maintainers&lt;/a>!&lt;/p>
&lt;p>This is a pilot programme from the &lt;a href="https://www.sovereign.tech/" target="_blank" rel="noreferrer">Sovereign Tech Agency&lt;/a>
to pay maintainers of critical open source technologies in the public interest.&lt;/p>
&lt;p>I&amp;rsquo;m one of six participants in this first cohort and I&amp;rsquo;ll be working on Python, with a
focus on &lt;a href="https://github.com/python/cpython" target="_blank" rel="noreferrer">CPython&lt;/a>, including as release manager for
&lt;a href="https://peps.python.org/pep-0745/" target="_blank" rel="noreferrer">Python 3.14&lt;/a> (under development with full release
due in October 2025, supported until 2030) and the next one (development starts in May
2025 for release in October 2026, supported until 2031).&lt;/p>
&lt;p>I&amp;rsquo;m delighted to work with the Sovereign Tech Agency as they really get open source.
Supported by Germany&amp;rsquo;s Ministry for Economic Affairs and Climate Action, they recognise
the importance of open source and its place as critical digital infrastructure in the
public interest. In their &lt;a href="https://www.sovereign.tech/mission" target="_blank" rel="noreferrer">own words&lt;/a>:&lt;/p>
&lt;blockquote>
&lt;p>The Sovereign Tech Agency supports the development, improvement, and maintenance of
open digital infrastructure. Our goal is to sustainably strengthen the open source
ecosystem. We focus on security, resilience, technological diversity, and the people
behind the code.&lt;/p>
&lt;p>We often donâ€™t notice how much our lives depend on digital infrastructure until it
stops working. But making it available, accessible and secure is key for
digitalization in the public interest. The Sovereign Tech Agency invests in open
digital infrastructure. It is critical for innovation and economic growth, and forms
the foundation for digitalization across sectors.&lt;/p>&lt;/blockquote>
&lt;p>In addition to CPython core development and release management, I&amp;rsquo;ll continue to
maintain other Python projects such as &lt;a href="https://pillow.readthedocs.io/" target="_blank" rel="noreferrer">Pillow&lt;/a>,
&lt;a href="https://github.com/python-humanize/humanize" target="_blank" rel="noreferrer">humanize&lt;/a> and
&lt;a href="https://github.com/termcolor/termcolor" target="_blank" rel="noreferrer">termcolor&lt;/a>, and CLI utilities such as
&lt;a href="https://github.com/hugovk/norwegianblue" target="_blank" rel="noreferrer">norwegianblue&lt;/a>,
&lt;a href="https://github.com/hugovk/pypistats" target="_blank" rel="noreferrer">pypistats&lt;/a> and
&lt;a href="https://github.com/hugovk/pepotron" target="_blank" rel="noreferrer">pepotron&lt;/a>, and help out more widely in the Python
ecosystem.&lt;/p>
&lt;p>Tasks include:&lt;/p>
&lt;ul>
&lt;li>Bug fixing, issue triaging, PR review and security improvements&lt;/li>
&lt;li>Mentoring new contributors to foster community growth and diversity&lt;/li>
&lt;li>Communicating updates to the wider community via &lt;a href="https://hugovk.dev/" target="_blank" rel="noreferrer">blog posts&lt;/a> and
&lt;a href="https://mastodon.social/@hugovk" target="_blank" rel="noreferrer">social&lt;/a> &lt;a href="https://bsky.app/profile/hugovk.dev" target="_blank" rel="noreferrer">media&lt;/a>&lt;/li>
&lt;li>&lt;a href="https://github.com/python/core-workflow" target="_blank" rel="noreferrer">Workflow&lt;/a>,
&lt;a href="https://github.com/python/cpython/actions/" target="_blank" rel="noreferrer">CI&lt;/a>, and infrastructure optimisations to
streamline core development tasks&lt;/li>
&lt;li>Maintenance and improvement of &lt;a href="http://peps.python.org/" target="_blank" rel="noreferrer">PEP&lt;/a> editing infrastructure
and related documentation tools&lt;/li>
&lt;li>Automation and &lt;a href="https://hugovk.github.io/dashboard/" target="_blank" rel="noreferrer">dashboard&lt;/a> creation for triage
scripts to assist other contributors&lt;/li>
&lt;li>Process and workflow improvements for CI and core contributor environments&lt;/li>
&lt;li>Ongoing documentation enhancements, including hosting monthly
&lt;a href="https://docs-community.readthedocs.io/en/latest/" target="_blank" rel="noreferrer">Documentation Working Group&lt;/a>
meetings, improving build processes, and focusing on accessibility&lt;/li>
&lt;li>Updating and modernising projects for compatibility with the latest Python versions&lt;/li>
&lt;li>Implementing stronger security measures and using
&lt;a href="https://docs.pypi.org/trusted-publishers/" target="_blank" rel="noreferrer">Trusted Publishing&lt;/a> and
&lt;a href="https://docs.pypi.org/attestations/" target="_blank" rel="noreferrer">digital attestations&lt;/a>&lt;/li>
&lt;li>Adding and maintaining Python support for widely used PyPI packages&lt;/li>
&lt;li>Improving community-wide tooling, documentation, and accessibility&lt;/li>
&lt;/ul>
&lt;p>Meet my
&lt;a href="https://www.sovereign.tech/news/meet-the-sovereign-tech-fellows" target="_blank" rel="noreferrer">fellow Sovereign Tech Fellows&lt;/a>,
and by the way, the Sovereign Tech Agency is currently hiring, check out their
&lt;a href="https://www.sovereign.tech/jobs" target="_blank" rel="noreferrer">open positions&lt;/a>.&lt;/p></description></item><item><title>How to delay a Python release</title><link>https://hugovk.dev/blog/2025/how-to-delay-a-python-release/</link><pubDate>Tue, 04 Feb 2025 18:55:00 +0000</pubDate><guid>https://hugovk.dev/blog/2025/how-to-delay-a-python-release/</guid><description>&lt;h2 id="prologue" class="relative group">Prologue &lt;span class="absolute top-0 w-6 transition-opacity opacity-0 -start-6 not-prose group-hover:opacity-100">&lt;a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700" style="text-decoration-line: none !important;" href="#prologue" aria-label="Anchor">#&lt;/a>&lt;/span>&lt;/h2>&lt;p>This was a &lt;a href="https://www.wikihow.com/Delete-a-Twitter-Account" target="_blank" rel="noreferrer">Twitter&lt;/a>
&lt;a href="https://web.archive.org/web/20220115150826/https://twitter.com/hugovk/status/1482367773577822208" target="_blank" rel="noreferrer">thread from 15th January 2022&lt;/a>
about my first CPython bug. Eight days from report to fix to merge, not bad!&lt;/p>
&lt;hr>
&lt;h2 id="delay" class="relative group">Delay &lt;span class="absolute top-0 w-6 transition-opacity opacity-0 -start-6 not-prose group-hover:opacity-100">&lt;a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700" style="text-decoration-line: none !important;" href="#delay" aria-label="Anchor">#&lt;/a>&lt;/span>&lt;/h2>&lt;p>I helped
&lt;a href="https://web.archive.org/web/20220114231910/https://twitter.com/pyblogsal/status/1482128909286227972" target="_blank" rel="noreferrer">delay the release of Python 3.11.0a4&lt;/a>!
But in a good way! ðŸ˜‡&lt;/p>
&lt;p>Python 3.11 is due out in October, but they make early alpha, beta and release
candidates available for people to help test Python itself and their own code before the
big release.&lt;/p>
&lt;p>So I tested &lt;a href="https://fosstodon.org/@pillow" target="_blank" rel="noreferrer">Pillow&lt;/a>&amp;hellip;&lt;/p>
&lt;p>





&lt;figure>
 
 








 
 &lt;picture
 class="mx-auto my-0 rounded-md"
 
 >
 
 
 
 
 &lt;source
 
 srcset="https://hugovk.dev/blog/2025/how-to-delay-a-python-release/pablo_hu_1a285f0d90966c8c.webp 330w,/blog/2025/how-to-delay-a-python-release/pablo_hu_6329ba064ce19b7b.webp 660w
 
 ,/blog/2025/how-to-delay-a-python-release/pablo_hu_257a23053aa7f6b6.webp 1024w
 
 
 ,/blog/2025/how-to-delay-a-python-release/pablo_hu_c5cdc6182813beac.webp 1320w
 "
 
 sizes="100vw"
 type="image/webp"
 />
 
 &lt;img
 width="1510"
 height="1236"
 class="mx-auto my-0 rounded-md"
 alt="Release manager Pablo tweeting: Yeah, no kidding! ðŸ˜µâ€ðŸ’« 3.11.0a4 had a ridiculous amount of release blockers ðŸ§ we needed to solve and while everything was on fire we discovered something that made us make an early 3.10.2 release ðŸ¤¯(you should upgrade: read the release notes for more infoâš ï¸)! What a week ðŸ˜…"
 loading="lazy" decoding="async"
 
 src="https://hugovk.dev/blog/2025/how-to-delay-a-python-release/pablo_hu_75f173606e2cad95.png"
 srcset="https://hugovk.dev/blog/2025/how-to-delay-a-python-release/pablo_hu_93eba480630d0e67.png 330w,/blog/2025/how-to-delay-a-python-release/pablo_hu_75f173606e2cad95.png 660w
 
 ,/blog/2025/how-to-delay-a-python-release/pablo_hu_50deca9cff8bc5a5.png 1024w
 
 
 ,/blog/2025/how-to-delay-a-python-release/pablo_hu_c1bc78ab097bfeed.png 1320w
 "
 sizes="100vw"
 
 />
 &lt;/picture>
 


&lt;/figure>
&lt;/p>
&lt;h2 id="tests" class="relative group">Tests &lt;span class="absolute top-0 w-6 transition-opacity opacity-0 -start-6 not-prose group-hover:opacity-100">&lt;a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700" style="text-decoration-line: none !important;" href="#tests" aria-label="Anchor">#&lt;/a>&lt;/span>&lt;/h2>&lt;p>The Pillow test suite passed with 3.11 âœ…&lt;/p>
&lt;p>Next I tried building the documentation with 3.11 âŒ&lt;/p>
&lt;p>The docs program, Sphinx, emitted a couple of warnings. Warnings are often missed
because they don&amp;rsquo;t error. But luckily we use the &amp;ldquo;-W&amp;rdquo; option to turn warnings into hard
errors.&lt;/p>
&lt;p>





&lt;figure>
 
 








 
 &lt;picture
 class="mx-auto my-0 rounded-md"
 
 >
 
 
 
 
 &lt;source
 
 srcset="https://hugovk.dev/blog/2025/how-to-delay-a-python-release/sphinx1_hu_7bbe76a48d7c226a.webp 330w,/blog/2025/how-to-delay-a-python-release/sphinx1_hu_61cccac32a6d5644.webp 660w
 
 ,/blog/2025/how-to-delay-a-python-release/sphinx1_hu_2c4147de3c848de5.webp 1024w
 
 
 
 ,/blog/2025/how-to-delay-a-python-release/sphinx1_hu_a9bb4b3f81f5d891.webp 1200w
 
 "
 
 sizes="100vw"
 type="image/webp"
 />
 
 &lt;img
 width="1200"
 height="885"
 class="mx-auto my-0 rounded-md"
 alt="Sphinx output showing &amp;ldquo;WARNING: image file not readable&amp;rdquo;"
 loading="lazy" decoding="async"
 
 src="https://hugovk.dev/blog/2025/how-to-delay-a-python-release/sphinx1_hu_2f718fa74beb8777.jpg"
 srcset="https://hugovk.dev/blog/2025/how-to-delay-a-python-release/sphinx1_hu_a430f9d625751c48.jpg 330w,/blog/2025/how-to-delay-a-python-release/sphinx1_hu_2f718fa74beb8777.jpg 660w
 
 ,/blog/2025/how-to-delay-a-python-release/sphinx1_hu_7cbc75f94ea650b.jpg 1024w
 
 
 ,/blog/2025/how-to-delay-a-python-release/sphinx1.jpg 1200w
 "
 sizes="100vw"
 
 />
 &lt;/picture>
 


&lt;/figure>







&lt;figure>
 
 








 
 &lt;picture
 class="mx-auto my-0 rounded-md"
 
 >
 
 
 
 
 &lt;source
 
 srcset="https://hugovk.dev/blog/2025/how-to-delay-a-python-release/sphinx2_hu_7ece0bd22701090f.webp 330w,/blog/2025/how-to-delay-a-python-release/sphinx2_hu_4dd0964be0070811.webp 660w
 
 ,/blog/2025/how-to-delay-a-python-release/sphinx2_hu_5a0c76d1911f65da.webp 1024w
 
 
 
 ,/blog/2025/how-to-delay-a-python-release/sphinx2_hu_74857cd42aa1d63d.webp 1082w
 
 "
 
 sizes="100vw"
 type="image/webp"
 />
 
 &lt;img
 width="1082"
 height="1136"
 class="mx-auto my-0 rounded-md"
 alt="Sphinx output turning the warning into an error"
 loading="lazy" decoding="async"
 
 src="https://hugovk.dev/blog/2025/how-to-delay-a-python-release/sphinx2_hu_9af2d4db071fc699.jpg"
 srcset="https://hugovk.dev/blog/2025/how-to-delay-a-python-release/sphinx2_hu_7f9354d3abdde0b6.jpg 330w,/blog/2025/how-to-delay-a-python-release/sphinx2_hu_9af2d4db071fc699.jpg 660w
 
 ,/blog/2025/how-to-delay-a-python-release/sphinx2_hu_397edcb0f6736026.jpg 1024w
 
 
 ,/blog/2025/how-to-delay-a-python-release/sphinx2.jpg 1082w
 "
 sizes="100vw"
 
 />
 &lt;/picture>
 


&lt;/figure>
&lt;/p>
&lt;h2 id="sphinx" class="relative group">Sphinx &lt;span class="absolute top-0 w-6 transition-opacity opacity-0 -start-6 not-prose group-hover:opacity-100">&lt;a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700" style="text-decoration-line: none !important;" href="#sphinx" aria-label="Anchor">#&lt;/a>&lt;/span>&lt;/h2>&lt;p>Maybe Sphinx isn&amp;rsquo;t ready for Python 3.11?&lt;/p>
&lt;p>Rather than submitting a report with the full Pillow documentation (lots of files) I
made a
&lt;a href="https://github.com/hugovk/test/tree/3.11-sphinx" target="_blank" rel="noreferrer">new, &amp;ldquo;minimal&amp;rdquo; example with just enough stuff to reproduce it&lt;/a>.&lt;/p>
&lt;p>This makes it easier to investigate what&amp;rsquo;s up.&lt;/p>
&lt;h2 id="report-1" class="relative group">Report 1 &lt;span class="absolute top-0 w-6 transition-opacity opacity-0 -start-6 not-prose group-hover:opacity-100">&lt;a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700" style="text-decoration-line: none !important;" href="#report-1" aria-label="Anchor">#&lt;/a>&lt;/span>&lt;/h2>&lt;p>I &lt;a href="https://github.com/sphinx-doc/sphinx/issues/10030" target="_blank" rel="noreferrer">reported this to Sphinx&lt;/a>. The
problem was that a page in a subdirectory could load an image from one directory, but
not from another, further away directory.&lt;/p>
&lt;p>It occurs for the Python 3.11.0a3 alpha, but not 3.7-3.10.&lt;/p>
&lt;p>





&lt;figure>
 
 








 
 &lt;picture
 class="mx-auto my-0 rounded-md"
 
 >
 
 
 
 
 &lt;source
 
 srcset="https://hugovk.dev/blog/2025/how-to-delay-a-python-release/sphinx3_hu_6c1dc8f46067a19.webp 330w,/blog/2025/how-to-delay-a-python-release/sphinx3_hu_c904614bd2b18ddd.webp 660w
 
 ,/blog/2025/how-to-delay-a-python-release/sphinx3_hu_8b4230436c446188.webp 1024w
 
 
 
 ,/blog/2025/how-to-delay-a-python-release/sphinx3_hu_24c8631293a16342.webp 1044w
 
 "
 
 sizes="100vw"
 type="image/webp"
 />
 
 &lt;img
 width="1044"
 height="682"
 class="mx-auto my-0 rounded-md"
 alt="A screenshot of a GitHub bug report"
 loading="lazy" decoding="async"
 
 src="https://hugovk.dev/blog/2025/how-to-delay-a-python-release/sphinx3_hu_6f88fb6be0af20a.jpg"
 srcset="https://hugovk.dev/blog/2025/how-to-delay-a-python-release/sphinx3_hu_5b7c3b0145311743.jpg 330w,/blog/2025/how-to-delay-a-python-release/sphinx3_hu_6f88fb6be0af20a.jpg 660w
 
 ,/blog/2025/how-to-delay-a-python-release/sphinx3_hu_24e4e906b21b98fb.jpg 1024w
 
 
 ,/blog/2025/how-to-delay-a-python-release/sphinx3.jpg 1044w
 "
 sizes="100vw"
 
 />
 &lt;/picture>
 


&lt;/figure>
&lt;/p>
&lt;h2 id="cpython" class="relative group">CPython &lt;span class="absolute top-0 w-6 transition-opacity opacity-0 -start-6 not-prose group-hover:opacity-100">&lt;a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700" style="text-decoration-line: none !important;" href="#cpython" aria-label="Anchor">#&lt;/a>&lt;/span>&lt;/h2>&lt;p>A few hours later the Sphinx maintainer Takeshi said it looks like a change to a part of
Python itself &amp;ndash; &lt;code>os.path.normpath()&lt;/code> &amp;ndash; since 3.11.0a3, and as it wasn&amp;rsquo;t mentioned on
the &lt;a href="https://docs.python.org/3/whatsnew/3.11.html" target="_blank" rel="noreferrer">&amp;ldquo;What&amp;rsquo;s New in Python 3.11&amp;rdquo;&lt;/a> page it
could be a bug in Python.&lt;/p>
&lt;p>He asked me to report it to Python.&lt;/p>
&lt;p>





&lt;figure>
 
 








 
 &lt;picture
 class="mx-auto my-0 rounded-md"
 
 >
 
 
 
 
 &lt;source
 
 srcset="https://hugovk.dev/blog/2025/how-to-delay-a-python-release/sphinx4_hu_c7e10738c0b7220.webp 330w,/blog/2025/how-to-delay-a-python-release/sphinx4_hu_dfd0876b7b880a05.webp 660w
 
 ,/blog/2025/how-to-delay-a-python-release/sphinx4_hu_2bdb7d4962c5870c.webp 1024w
 
 
 
 ,/blog/2025/how-to-delay-a-python-release/sphinx4_hu_21bf5c8d7edc26e7.webp 1200w
 
 "
 
 sizes="100vw"
 type="image/webp"
 />
 
 &lt;img
 width="1200"
 height="824"
 class="mx-auto my-0 rounded-md"
 alt="Screenshot of Takeshi&amp;rsquo;s reply"
 loading="lazy" decoding="async"
 
 src="https://hugovk.dev/blog/2025/how-to-delay-a-python-release/sphinx4_hu_491035a5d95deee7.jpg"
 srcset="https://hugovk.dev/blog/2025/how-to-delay-a-python-release/sphinx4_hu_4a5005a7a8dac55b.jpg 330w,/blog/2025/how-to-delay-a-python-release/sphinx4_hu_491035a5d95deee7.jpg 660w
 
 ,/blog/2025/how-to-delay-a-python-release/sphinx4_hu_ba0a46bbb862b06.jpg 1024w
 
 
 ,/blog/2025/how-to-delay-a-python-release/sphinx4.jpg 1200w
 "
 sizes="100vw"
 
 />
 &lt;/picture>
 


&lt;/figure>
&lt;/p>
&lt;h2 id="report-2" class="relative group">Report 2 &lt;span class="absolute top-0 w-6 transition-opacity opacity-0 -start-6 not-prose group-hover:opacity-100">&lt;a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700" style="text-decoration-line: none !important;" href="#report-2" aria-label="Anchor">#&lt;/a>&lt;/span>&lt;/h2>&lt;p>I &lt;a href="https://bugs.python.org/issue46208" target="_blank" rel="noreferrer">reported it to Python&lt;/a> with Takeshi&amp;rsquo;s even more
minimal example.&lt;/p>
&lt;p>Half an hour later Christian pointed out a change which may have caused this.&lt;/p>
&lt;p>I tested and confirmed.&lt;/p>
&lt;p>The next day Steve confirmed it was a bug and set it as a &amp;ldquo;release blocker&amp;rdquo;.&lt;/p>
&lt;h2 id="fix" class="relative group">Fix &lt;span class="absolute top-0 w-6 transition-opacity opacity-0 -start-6 not-prose group-hover:opacity-100">&lt;a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700" style="text-decoration-line: none !important;" href="#fix" aria-label="Anchor">#&lt;/a>&lt;/span>&lt;/h2>&lt;p>Steve also said it will needs tests, because this bug slipped out due to a gap in
testing.&lt;/p>
&lt;p>I didn&amp;rsquo;t know how to fix the bug, but I could write some test cases!&lt;/p>
&lt;p>neonene then took the tests and
&lt;a href="https://github.com/python/cpython/pull/30362" target="_blank" rel="noreferrer">fixed the bug&lt;/a>! In doing so they found
even more bugs!&lt;/p>
&lt;h2 id="merge" class="relative group">Merge &lt;span class="absolute top-0 w-6 transition-opacity opacity-0 -start-6 not-prose group-hover:opacity-100">&lt;a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700" style="text-decoration-line: none !important;" href="#merge" aria-label="Anchor">#&lt;/a>&lt;/span>&lt;/h2>&lt;p>These extra bugs also existed in earlier versions.&lt;/p>
&lt;p>But it turns out path handling can get pretty complicated in places, so Steve decided to
only fix my bug now to get it released and the others can be sorted later.&lt;/p>
&lt;p>The fix was merged and I confirmed it also worked with Sphinx âœ…&lt;/p>
&lt;h2 id="conclusion" class="relative group">Conclusion &lt;span class="absolute top-0 w-6 transition-opacity opacity-0 -start-6 not-prose group-hover:opacity-100">&lt;a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700" style="text-decoration-line: none !important;" href="#conclusion" aria-label="Anchor">#&lt;/a>&lt;/span>&lt;/h2>&lt;p>And that&amp;rsquo;s about it!&lt;/p>
&lt;p>It&amp;rsquo;s now fixed in 3.11.0a4; much better to find these before 3.11.0 final is released to
the world in October. Along the way we found more issues to address.&lt;/p>
&lt;p>Short version: test your code with 3.11 now, you may find issues in your code or in
Python itself ðŸš€&lt;/p>
&lt;hr>
&lt;h2 id="epilogue" class="relative group">Epilogue &lt;span class="absolute top-0 w-6 transition-opacity opacity-0 -start-6 not-prose group-hover:opacity-100">&lt;a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700" style="text-decoration-line: none !important;" href="#epilogue" aria-label="Anchor">#&lt;/a>&lt;/span>&lt;/h2>&lt;p>Back to 2025: Please test and delay
&lt;a href="https://discuss.python.org/tag/release" target="_blank" rel="noreferrer">Python 3.14 alpha&lt;/a> &amp;ndash; but in a good way! ðŸ˜‡&lt;/p></description></item><item><title>A surprising thing about PyPI's BigQuery data</title><link>https://hugovk.dev/blog/2024/a-surprising-thing-about-pypis-bigquery-data/</link><pubDate>Sun, 24 Nov 2024 20:45:31 +0000</pubDate><guid>https://hugovk.dev/blog/2024/a-surprising-thing-about-pypis-bigquery-data/</guid><description>&lt;p>You can get download numbers for PyPI packages (or projects) from a
&lt;a href="https://packaging.python.org/en/latest/guides/analyzing-pypi-package-downloads/" target="_blank" rel="noreferrer">Google BigQuery dataset&lt;/a>.
You need a Google account and credentials, and Google gives 1 TiB of free quota per
month.&lt;/p>
&lt;p>Each month, I have automation to fetch the download numbers for the 8,000 most popular
packages over the past 30 days, and make it available as more accessible JSON and CSV
files at &lt;a href="https://hugovk.github.io/top-pypi-packages/" target="_blank" rel="noreferrer">Top PyPI Packages&lt;/a>. This data is
&lt;a href="https://hugovk.github.io/top-pypi-packages/#users" target="_blank" rel="noreferrer">widely used&lt;/a> for
&lt;a href="https://github.com/hugovk/top-pypi-packages/issues/23" target="_blank" rel="noreferrer">research in academia and industry&lt;/a>.&lt;/p>
&lt;p>However, as more packages and releases are uploaded to PyPI, and there are more and more
downloads logged, the amount of billed data increases too.&lt;/p>
&lt;p>





&lt;figure>
 
 








 
 &lt;picture
 class="mx-auto my-0 rounded-md"
 
 >
 
 
 
 
 &lt;source
 
 srcset="https://hugovk.dev/blog/2024/a-surprising-thing-about-pypis-bigquery-data/sego7uxbpslifzd791ee_hu_5541ba41a97408a.webp 330w,/blog/2024/a-surprising-thing-about-pypis-bigquery-data/sego7uxbpslifzd791ee_hu_752d7bb266b67ac3.webp 660w
 
 
 ,/blog/2024/a-surprising-thing-about-pypis-bigquery-data/sego7uxbpslifzd791ee_hu_17abab72ccb9a0f1.webp 828w
 
 
 
 
 ,/blog/2024/a-surprising-thing-about-pypis-bigquery-data/sego7uxbpslifzd791ee_hu_17abab72ccb9a0f1.webp 828w
 
 "
 
 sizes="100vw"
 type="image/webp"
 />
 
 &lt;img
 width="828"
 height="502"
 class="mx-auto my-0 rounded-md"
 alt="BigQuery TB billed"
 loading="lazy" decoding="async"
 
 src="https://hugovk.dev/blog/2024/a-surprising-thing-about-pypis-bigquery-data/sego7uxbpslifzd791ee_hu_4a76d2a7cfda7097.png"
 srcset="https://hugovk.dev/blog/2024/a-surprising-thing-about-pypis-bigquery-data/sego7uxbpslifzd791ee_hu_80b9d14bd0734c2b.png 330w,/blog/2024/a-surprising-thing-about-pypis-bigquery-data/sego7uxbpslifzd791ee_hu_4a76d2a7cfda7097.png 660w
 
 ,/blog/2024/a-surprising-thing-about-pypis-bigquery-data/sego7uxbpslifzd791ee.png 828w
 
 
 ,/blog/2024/a-surprising-thing-about-pypis-bigquery-data/sego7uxbpslifzd791ee.png 828w
 "
 sizes="100vw"
 
 />
 &lt;/picture>
 


&lt;/figure>
&lt;/p>
&lt;p>This chart shows the amount of data billed per month.&lt;/p>
&lt;p>At first, I was only collecting downloads data for 4,000 packages, and it was fetched
for two queries: downloads over 365 days and over 30 days. But as time passed, it
started using up too much quota to download data for 365 days.&lt;/p>
&lt;p>So I ditched the 365-day data, and increased the 30-day data from 4,000 to 5,000
packages. Later, I checked how much quota was being used and increased from 5,000
packages to 8,000 packages.&lt;/p>
&lt;p>But then I exceeded the BigQuery monthly quota of 1 TiB fetching data for July 2024.&lt;/p>
&lt;p>To fetch the missing data and investigate what&amp;rsquo;s going in, I started Google Cloud&amp;rsquo;s
90-day, $300 (â‚¬277.46) free-trial ðŸ’¸&lt;/p>
&lt;p>Here&amp;rsquo;s what I found!&lt;/p>
&lt;h2 id="finding-it-costs-more-to-get-data-for-downloads-from-only-pip-than-from-all-installers" class="relative group">Finding: it costs more to get data for downloads from only pip than from all installers &lt;span class="absolute top-0 w-6 transition-opacity opacity-0 -start-6 not-prose group-hover:opacity-100">&lt;a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700" style="text-decoration-line: none !important;" href="#finding-it-costs-more-to-get-data-for-downloads-from-only-pip-than-from-all-installers" aria-label="Anchor">#&lt;/a>&lt;/span>&lt;/h2>&lt;p>I use the &lt;a href="https://github.com/ofek/pypinfo" target="_blank" rel="noreferrer">pypinfo&lt;/a> client to help query BigQuery. By
default, it only fetches downloads for pip.&lt;/p>
&lt;h3 id="only-pip" class="relative group">Only pip &lt;span class="absolute top-0 w-6 transition-opacity opacity-0 -start-6 not-prose group-hover:opacity-100">&lt;a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700" style="text-decoration-line: none !important;" href="#only-pip" aria-label="Anchor">#&lt;/a>&lt;/span>&lt;/h3>&lt;p>This command gets one day&amp;rsquo;s download data for the top 10 packages, &lt;em>for pip only&lt;/em>:&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-console" data-lang="console">&lt;span class="line">&lt;span class="cl">&lt;span class="gp">$&lt;/span> pypinfo --limit &lt;span class="m">10&lt;/span> --days &lt;span class="m">1&lt;/span> &lt;span class="s2">&amp;#34;&amp;#34;&lt;/span> project
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="go">Served from cache: False
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="go">Data processed: 58.21 GiB
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="go">Data billed: 58.21 GiB
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="go">Estimated cost: $0.29
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>Results:&lt;/p>
&lt;table>
 &lt;thead>
 &lt;tr>
 &lt;th>project&lt;/th>
 &lt;th style="text-align: right">download count&lt;/th>
 &lt;/tr>
 &lt;/thead>
 &lt;tbody>
 &lt;tr>
 &lt;td>boto3&lt;/td>
 &lt;td style="text-align: right">37,251,744&lt;/td>
 &lt;/tr>
 &lt;tr>
 &lt;td>aiobotocore&lt;/td>
 &lt;td style="text-align: right">16,252,824&lt;/td>
 &lt;/tr>
 &lt;tr>
 &lt;td>urllib3&lt;/td>
 &lt;td style="text-align: right">16,243,278&lt;/td>
 &lt;/tr>
 &lt;tr>
 &lt;td>botocore&lt;/td>
 &lt;td style="text-align: right">15,687,125&lt;/td>
 &lt;/tr>
 &lt;tr>
 &lt;td>requests&lt;/td>
 &lt;td style="text-align: right">13,271,314&lt;/td>
 &lt;/tr>
 &lt;tr>
 &lt;td>s3fs&lt;/td>
 &lt;td style="text-align: right">12,865,055&lt;/td>
 &lt;/tr>
 &lt;tr>
 &lt;td>s3transfer&lt;/td>
 &lt;td style="text-align: right">12,014,278&lt;/td>
 &lt;/tr>
 &lt;tr>
 &lt;td>fsspec&lt;/td>
 &lt;td style="text-align: right">11,982,305&lt;/td>
 &lt;/tr>
 &lt;tr>
 &lt;td>charset-normalizer&lt;/td>
 &lt;td style="text-align: right">11,684,740&lt;/td>
 &lt;/tr>
 &lt;tr>
 &lt;td>certifi&lt;/td>
 &lt;td style="text-align: right">11,639,584&lt;/td>
 &lt;/tr>
 &lt;tr>
 &lt;td>&lt;strong>Total&lt;/strong>&lt;/td>
 &lt;td style="text-align: right">&lt;strong>158,892,247&lt;/strong>&lt;/td>
 &lt;/tr>
 &lt;/tbody>
&lt;/table>
&lt;h3 id="all-installers" class="relative group">All installers &lt;span class="absolute top-0 w-6 transition-opacity opacity-0 -start-6 not-prose group-hover:opacity-100">&lt;a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700" style="text-decoration-line: none !important;" href="#all-installers" aria-label="Anchor">#&lt;/a>&lt;/span>&lt;/h3>&lt;p>Adding the &lt;code>--all&lt;/code> flag gets one day&amp;rsquo;s download data for the top 10 packages, &lt;em>for all
installers&lt;/em>:&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-console" data-lang="console">&lt;span class="line">&lt;span class="cl">&lt;span class="gp">$&lt;/span> pypinfo --all --limit &lt;span class="m">10&lt;/span> --days &lt;span class="m">1&lt;/span> &lt;span class="s2">&amp;#34;&amp;#34;&lt;/span> project
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="go">Served from cache: False
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="go">Data processed: 46.63 GiB
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="go">Data billed: 46.63 GiB
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="go">Estimated cost: $0.23
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;table>
 &lt;thead>
 &lt;tr>
 &lt;th>project&lt;/th>
 &lt;th style="text-align: right">download count&lt;/th>
 &lt;/tr>
 &lt;/thead>
 &lt;tbody>
 &lt;tr>
 &lt;td>boto3&lt;/td>
 &lt;td style="text-align: right">39,495,624&lt;/td>
 &lt;/tr>
 &lt;tr>
 &lt;td>botocore&lt;/td>
 &lt;td style="text-align: right">17,281,187&lt;/td>
 &lt;/tr>
 &lt;tr>
 &lt;td>urllib3&lt;/td>
 &lt;td style="text-align: right">17,225,121&lt;/td>
 &lt;/tr>
 &lt;tr>
 &lt;td>aiobotocore&lt;/td>
 &lt;td style="text-align: right">16,430,826&lt;/td>
 &lt;/tr>
 &lt;tr>
 &lt;td>requests&lt;/td>
 &lt;td style="text-align: right">14,287,965&lt;/td>
 &lt;/tr>
 &lt;tr>
 &lt;td>s3fs&lt;/td>
 &lt;td style="text-align: right">12,958,516&lt;/td>
 &lt;/tr>
 &lt;tr>
 &lt;td>charset-normalizer&lt;/td>
 &lt;td style="text-align: right">12,781,405&lt;/td>
 &lt;/tr>
 &lt;tr>
 &lt;td>certifi&lt;/td>
 &lt;td style="text-align: right">12,647,098&lt;/td>
 &lt;/tr>
 &lt;tr>
 &lt;td>setuptools&lt;/td>
 &lt;td style="text-align: right">12,608,120&lt;/td>
 &lt;/tr>
 &lt;tr>
 &lt;td>idna&lt;/td>
 &lt;td style="text-align: right">12,510,335&lt;/td>
 &lt;/tr>
 &lt;tr>
 &lt;td>&lt;strong>Total&lt;/strong>&lt;/td>
 &lt;td style="text-align: right">&lt;strong>168,226,197&lt;/strong>&lt;/td>
 &lt;/tr>
 &lt;/tbody>
&lt;/table>
&lt;p>So we can see the default pip-only costs an extra 25% data processed and data billed,
and costs an extra 25% in dollars.&lt;/p>
&lt;p>Unsurprisingly, the actual download counts are higher for all installers. The ranking
has changed a bit, but I expect we&amp;rsquo;re still getting more-or-less the same packages in
the top thousands of results.&lt;/p>
&lt;h3 id="queries" class="relative group">Queries &lt;span class="absolute top-0 w-6 transition-opacity opacity-0 -start-6 not-prose group-hover:opacity-100">&lt;a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700" style="text-decoration-line: none !important;" href="#queries" aria-label="Anchor">#&lt;/a>&lt;/span>&lt;/h3>&lt;p>It sends a query like this to BigQuery for only pip:&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-sql" data-lang="sql">&lt;span class="line">&lt;span class="cl">&lt;span class="k">SELECT&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="n">file&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="n">project&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="k">as&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">project&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="k">COUNT&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="o">*&lt;/span>&lt;span class="p">)&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="k">as&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">download_count&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="k">FROM&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="o">`&lt;/span>&lt;span class="n">bigquery&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="k">public&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="k">data&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="n">pypi&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="n">file_downloads&lt;/span>&lt;span class="o">`&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="k">WHERE&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="k">timestamp&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="k">BETWEEN&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">TIMESTAMP_ADD&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="k">CURRENT_TIMESTAMP&lt;/span>&lt;span class="p">(),&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="nb">INTERVAL&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="mi">2&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="k">DAY&lt;/span>&lt;span class="p">)&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="k">AND&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">TIMESTAMP_ADD&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="k">CURRENT_TIMESTAMP&lt;/span>&lt;span class="p">(),&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="nb">INTERVAL&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="mi">1&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="k">DAY&lt;/span>&lt;span class="p">)&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="k">AND&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">details&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="n">installer&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="n">name&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="s2">&amp;#34;pip&amp;#34;&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="k">GROUP&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="k">BY&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="n">project&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="k">ORDER&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="k">BY&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="n">download_count&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="k">DESC&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="k">LIMIT&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="mi">10&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>And for all installers:&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-sql" data-lang="sql">&lt;span class="line">&lt;span class="cl">&lt;span class="k">SELECT&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="n">file&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="n">project&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="k">as&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">project&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="k">COUNT&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="o">*&lt;/span>&lt;span class="p">)&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="k">as&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">download_count&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="k">FROM&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="o">`&lt;/span>&lt;span class="n">bigquery&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="k">public&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="k">data&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="n">pypi&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="n">file_downloads&lt;/span>&lt;span class="o">`&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="k">WHERE&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="k">timestamp&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="k">BETWEEN&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">TIMESTAMP_ADD&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="k">CURRENT_TIMESTAMP&lt;/span>&lt;span class="p">(),&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="nb">INTERVAL&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="mi">2&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="k">DAY&lt;/span>&lt;span class="p">)&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="k">AND&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">TIMESTAMP_ADD&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="k">CURRENT_TIMESTAMP&lt;/span>&lt;span class="p">(),&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="nb">INTERVAL&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="mi">1&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="k">DAY&lt;/span>&lt;span class="p">)&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="k">GROUP&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="k">BY&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="n">project&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="k">ORDER&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="k">BY&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="n">download_count&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="k">DESC&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="k">LIMIT&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="mi">10&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>These queries are the same, except the default has an extra
&lt;code>AND details.installer.name = &amp;quot;pip&amp;quot;&lt;/code> condition. It seems reasonable it would cost more
to do extra filtering work.&lt;/p>
&lt;h3 id="installers" class="relative group">Installers &lt;span class="absolute top-0 w-6 transition-opacity opacity-0 -start-6 not-prose group-hover:opacity-100">&lt;a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700" style="text-decoration-line: none !important;" href="#installers" aria-label="Anchor">#&lt;/a>&lt;/span>&lt;/h3>&lt;p>Let&amp;rsquo;s look at the installers:&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-console" data-lang="console">&lt;span class="line">&lt;span class="cl">&lt;span class="gp">$&lt;/span> pypinfo --all --limit &lt;span class="m">100&lt;/span> --days &lt;span class="m">1&lt;/span> &lt;span class="s2">&amp;#34;&amp;#34;&lt;/span> installer
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="go">Served from cache: False
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="go">Data processed: 29.49 GiB
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="go">Data billed: 29.49 GiB
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="go">Estimated cost: $0.15
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;table>
 &lt;thead>
 &lt;tr>
 &lt;th>installer name&lt;/th>
 &lt;th style="text-align: right">download count&lt;/th>
 &lt;/tr>
 &lt;/thead>
 &lt;tbody>
 &lt;tr>
 &lt;td>pip&lt;/td>
 &lt;td style="text-align: right">1,121,198,711&lt;/td>
 &lt;/tr>
 &lt;tr>
 &lt;td>uv&lt;/td>
 &lt;td style="text-align: right">117,194,833&lt;/td>
 &lt;/tr>
 &lt;tr>
 &lt;td>requests&lt;/td>
 &lt;td style="text-align: right">29,828,272&lt;/td>
 &lt;/tr>
 &lt;tr>
 &lt;td>poetry&lt;/td>
 &lt;td style="text-align: right">23,009,454&lt;/td>
 &lt;/tr>
 &lt;tr>
 &lt;td>None&lt;/td>
 &lt;td style="text-align: right">8,916,745&lt;/td>
 &lt;/tr>
 &lt;tr>
 &lt;td>bandersnatch&lt;/td>
 &lt;td style="text-align: right">6,171,555&lt;/td>
 &lt;/tr>
 &lt;tr>
 &lt;td>setuptools&lt;/td>
 &lt;td style="text-align: right">1,362,797&lt;/td>
 &lt;/tr>
 &lt;tr>
 &lt;td>Bazel&lt;/td>
 &lt;td style="text-align: right">1,280,271&lt;/td>
 &lt;/tr>
 &lt;tr>
 &lt;td>Browser&lt;/td>
 &lt;td style="text-align: right">1,096,328&lt;/td>
 &lt;/tr>
 &lt;tr>
 &lt;td>Nexus&lt;/td>
 &lt;td style="text-align: right">593,230&lt;/td>
 &lt;/tr>
 &lt;tr>
 &lt;td>Homebrew&lt;/td>
 &lt;td style="text-align: right">510,247&lt;/td>
 &lt;/tr>
 &lt;tr>
 &lt;td>Artifactory&lt;/td>
 &lt;td style="text-align: right">69,063&lt;/td>
 &lt;/tr>
 &lt;tr>
 &lt;td>pdm&lt;/td>
 &lt;td style="text-align: right">62,904&lt;/td>
 &lt;/tr>
 &lt;tr>
 &lt;td>OS&lt;/td>
 &lt;td style="text-align: right">13,108&lt;/td>
 &lt;/tr>
 &lt;tr>
 &lt;td>devpi&lt;/td>
 &lt;td style="text-align: right">9,530&lt;/td>
 &lt;/tr>
 &lt;tr>
 &lt;td>conda&lt;/td>
 &lt;td style="text-align: right">2,272&lt;/td>
 &lt;/tr>
 &lt;tr>
 &lt;td>pex&lt;/td>
 &lt;td style="text-align: right">194&lt;/td>
 &lt;/tr>
 &lt;tr>
 &lt;td>&lt;strong>Total&lt;/strong>&lt;/td>
 &lt;td style="text-align: right">&lt;strong>1,311,319,514&lt;/strong>&lt;/td>
 &lt;/tr>
 &lt;/tbody>
&lt;/table>
&lt;p>pip still by far the most popular, and unsurprising uv is up there too, with about 10%
of pip&amp;rsquo;s downloads.&lt;/p>
&lt;p>The others are about 25% or less of uv. A lot of them are mirroring services that we
wanted to exclude before.&lt;/p>
&lt;p>I think given uv&amp;rsquo;s importance, and my expectation that it will continue to take a bigger
share of the pie, plus especially the extra cost for filtering by just pip, means that
we should switch to fetching data for all downloaders. Plus the others don&amp;rsquo;t account for
that much of the pie.&lt;/p>
&lt;h2 id="finding-the-number-of-packages-doesnt-affect-the-cost" class="relative group">Finding: the number of packages doesn&amp;rsquo;t affect the cost &lt;span class="absolute top-0 w-6 transition-opacity opacity-0 -start-6 not-prose group-hover:opacity-100">&lt;a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700" style="text-decoration-line: none !important;" href="#finding-the-number-of-packages-doesnt-affect-the-cost" aria-label="Anchor">#&lt;/a>&lt;/span>&lt;/h2>&lt;p>This was the biggest surprise. Earlier I&amp;rsquo;d been increasing or decreasing the number to
try and remain under quota. But it turns out it makes no difference how many packages
you query!&lt;/p>
&lt;p>I fetched data for just one day and all installers for different package limits: 1000,
2000, 3000, 4000, 5000, 6000, 7000, 8000. Sample query:&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-sql" data-lang="sql">&lt;span class="line">&lt;span class="cl">&lt;span class="k">SELECT&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="n">file&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="n">project&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="k">as&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">project&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="k">COUNT&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="o">*&lt;/span>&lt;span class="p">)&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="k">as&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">download_count&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="k">FROM&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="o">`&lt;/span>&lt;span class="n">bigquery&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="k">public&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="k">data&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="n">pypi&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="n">file_downloads&lt;/span>&lt;span class="o">`&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="k">WHERE&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="k">timestamp&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="k">BETWEEN&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">TIMESTAMP_ADD&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="k">CURRENT_TIMESTAMP&lt;/span>&lt;span class="p">(),&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="nb">INTERVAL&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="mi">2&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="k">DAY&lt;/span>&lt;span class="p">)&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="k">AND&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">TIMESTAMP_ADD&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="k">CURRENT_TIMESTAMP&lt;/span>&lt;span class="p">(),&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="nb">INTERVAL&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="mi">1&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="k">DAY&lt;/span>&lt;span class="p">)&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="k">GROUP&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="k">BY&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="n">project&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="k">ORDER&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="k">BY&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="n">download_count&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="k">DESC&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="k">LIMIT&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="mi">8000&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>





&lt;figure>
 
 








 
 &lt;picture
 class="mx-auto my-0 rounded-md"
 
 >
 
 
 
 
 &lt;source
 
 srcset="https://hugovk.dev/blog/2024/a-surprising-thing-about-pypis-bigquery-data/03tmt980ypp67qryra26_hu_bb34712bea554397.webp 330w,/blog/2024/a-surprising-thing-about-pypis-bigquery-data/03tmt980ypp67qryra26_hu_8c99c86576a603dc.webp 660w
 
 ,/blog/2024/a-surprising-thing-about-pypis-bigquery-data/03tmt980ypp67qryra26_hu_e81005dc66f4c019.webp 1024w
 
 
 ,/blog/2024/a-surprising-thing-about-pypis-bigquery-data/03tmt980ypp67qryra26_hu_5c360b11f537ffd0.webp 1320w
 "
 
 sizes="100vw"
 type="image/webp"
 />
 
 &lt;img
 width="1440"
 height="870"
 class="mx-auto my-0 rounded-md"
 alt="Cost and bytes for 1 day with different package limits are the same"
 loading="lazy" decoding="async"
 
 src="https://hugovk.dev/blog/2024/a-surprising-thing-about-pypis-bigquery-data/03tmt980ypp67qryra26_hu_67de864fba1ad011.png"
 srcset="https://hugovk.dev/blog/2024/a-surprising-thing-about-pypis-bigquery-data/03tmt980ypp67qryra26_hu_6f2bea590a05eb0d.png 330w,/blog/2024/a-surprising-thing-about-pypis-bigquery-data/03tmt980ypp67qryra26_hu_67de864fba1ad011.png 660w
 
 ,/blog/2024/a-surprising-thing-about-pypis-bigquery-data/03tmt980ypp67qryra26_hu_a5efb9abd27e126f.png 1024w
 
 
 ,/blog/2024/a-surprising-thing-about-pypis-bigquery-data/03tmt980ypp67qryra26_hu_f127f42719748375.png 1320w
 "
 sizes="100vw"
 
 />
 &lt;/picture>
 


&lt;/figure>
&lt;/p>
&lt;p>&lt;strong>Result:&lt;/strong> Interestingly, the cost is the same for all limits (1000-8000): $0.31.&lt;/p>
&lt;p>Repeating with one day but filtering for pip only:&lt;/p>
&lt;p>





&lt;figure>
 
 








 
 &lt;picture
 class="mx-auto my-0 rounded-md"
 
 >
 
 
 
 
 &lt;source
 
 srcset="https://hugovk.dev/blog/2024/a-surprising-thing-about-pypis-bigquery-data/al96xqbescc64lavi4y7_hu_e3ab84f7a5f24173.webp 330w,/blog/2024/a-surprising-thing-about-pypis-bigquery-data/al96xqbescc64lavi4y7_hu_c68fb508c0c1d512.webp 660w
 
 ,/blog/2024/a-surprising-thing-about-pypis-bigquery-data/al96xqbescc64lavi4y7_hu_a708e2d7f1a96898.webp 1024w
 
 
 ,/blog/2024/a-surprising-thing-about-pypis-bigquery-data/al96xqbescc64lavi4y7_hu_b5cd7cc1f0cbeabf.webp 1320w
 "
 
 sizes="100vw"
 type="image/webp"
 />
 
 &lt;img
 width="1444"
 height="866"
 class="mx-auto my-0 rounded-md"
 alt="Cost and bytes for 1 day still the same for pip"
 loading="lazy" decoding="async"
 
 src="https://hugovk.dev/blog/2024/a-surprising-thing-about-pypis-bigquery-data/al96xqbescc64lavi4y7_hu_fbe0aef235e27050.png"
 srcset="https://hugovk.dev/blog/2024/a-surprising-thing-about-pypis-bigquery-data/al96xqbescc64lavi4y7_hu_8b7681998cb1181d.png 330w,/blog/2024/a-surprising-thing-about-pypis-bigquery-data/al96xqbescc64lavi4y7_hu_fbe0aef235e27050.png 660w
 
 ,/blog/2024/a-surprising-thing-about-pypis-bigquery-data/al96xqbescc64lavi4y7_hu_1d4b04633efde814.png 1024w
 
 
 ,/blog/2024/a-surprising-thing-about-pypis-bigquery-data/al96xqbescc64lavi4y7_hu_c43ce814fe99990c.png 1320w
 "
 sizes="100vw"
 
 />
 &lt;/picture>
 


&lt;/figure>
&lt;/p>
&lt;p>&lt;strong>Result:&lt;/strong> Cost increased to $0.39 but again the same for all limits.&lt;/p>
&lt;p>Let&amp;rsquo;s repeat with all installers, but for 30 days, and this time query in decreasing
limits, in case we were only paying for incremental changes: 8000, 7000, 6000, 5000,
4000, 3000, 2000, 1000:&lt;/p>
&lt;p>





&lt;figure>
 
 








 
 &lt;picture
 class="mx-auto my-0 rounded-md"
 
 >
 
 
 
 
 &lt;source
 
 srcset="https://hugovk.dev/blog/2024/a-surprising-thing-about-pypis-bigquery-data/jhci1bcxrgncb34wwldm_hu_6325c562cf6d2a56.webp 330w,/blog/2024/a-surprising-thing-about-pypis-bigquery-data/jhci1bcxrgncb34wwldm_hu_22b3c3fa6c254f0.webp 660w
 
 ,/blog/2024/a-surprising-thing-about-pypis-bigquery-data/jhci1bcxrgncb34wwldm_hu_7005aa6a997f7e73.webp 1024w
 
 
 ,/blog/2024/a-surprising-thing-about-pypis-bigquery-data/jhci1bcxrgncb34wwldm_hu_161ae60dd8399b39.webp 1320w
 "
 
 sizes="100vw"
 type="image/webp"
 />
 
 &lt;img
 width="1436"
 height="878"
 class="mx-auto my-0 rounded-md"
 alt="Cost and bytes for 30 day still the same no matter how many packages"
 loading="lazy" decoding="async"
 
 src="https://hugovk.dev/blog/2024/a-surprising-thing-about-pypis-bigquery-data/jhci1bcxrgncb34wwldm_hu_6cf6504133379781.png"
 srcset="https://hugovk.dev/blog/2024/a-surprising-thing-about-pypis-bigquery-data/jhci1bcxrgncb34wwldm_hu_6eef9c8ce571b7ce.png 330w,/blog/2024/a-surprising-thing-about-pypis-bigquery-data/jhci1bcxrgncb34wwldm_hu_6cf6504133379781.png 660w
 
 ,/blog/2024/a-surprising-thing-about-pypis-bigquery-data/jhci1bcxrgncb34wwldm_hu_cc42323696dd6b.png 1024w
 
 
 ,/blog/2024/a-surprising-thing-about-pypis-bigquery-data/jhci1bcxrgncb34wwldm_hu_da72ca16f9e8bd0d.png 1320w
 "
 sizes="100vw"
 
 />
 &lt;/picture>
 


&lt;/figure>
&lt;/p>
&lt;p>&lt;strong>Result:&lt;/strong> Again, the cost is the same regardless of package limit: $4.89 per query.&lt;/p>
&lt;p>Well then, let&amp;rsquo;s repeat with the limit increasing by powers of ten, up to 1,000,000!
This last one fetches data for all 531,022 packages on PyPI:&lt;/p>
&lt;table>
 &lt;thead>
 &lt;tr>
 &lt;th>limit&lt;/th>
 &lt;th>projects count&lt;/th>
 &lt;th>estimated cost&lt;/th>
 &lt;th>bytes billed&lt;/th>
 &lt;th>bytes processed&lt;/th>
 &lt;/tr>
 &lt;/thead>
 &lt;tbody>
 &lt;tr>
 &lt;td>1&lt;/td>
 &lt;td>1&lt;/td>
 &lt;td>0.20&lt;/td>
 &lt;td>43,447,746,560&lt;/td>
 &lt;td>43,447,720,943&lt;/td>
 &lt;/tr>
 &lt;tr>
 &lt;td>10&lt;/td>
 &lt;td>10&lt;/td>
 &lt;td>0.20&lt;/td>
 &lt;td>43,447,746,560&lt;/td>
 &lt;td>43,447,720,943&lt;/td>
 &lt;/tr>
 &lt;tr>
 &lt;td>100&lt;/td>
 &lt;td>100&lt;/td>
 &lt;td>0.20&lt;/td>
 &lt;td>43,447,746,560&lt;/td>
 &lt;td>43,447,720,943&lt;/td>
 &lt;/tr>
 &lt;tr>
 &lt;td>1000&lt;/td>
 &lt;td>1,000&lt;/td>
 &lt;td>0.20&lt;/td>
 &lt;td>43,447,746,560&lt;/td>
 &lt;td>43,447,720,943&lt;/td>
 &lt;/tr>
 &lt;tr>
 &lt;td>8000&lt;/td>
 &lt;td>8,000&lt;/td>
 &lt;td>0.20&lt;/td>
 &lt;td>43,447,746,560&lt;/td>
 &lt;td>43,447,720,943&lt;/td>
 &lt;/tr>
 &lt;tr>
 &lt;td>10000&lt;/td>
 &lt;td>10,000&lt;/td>
 &lt;td>0.20&lt;/td>
 &lt;td>43,447,746,560&lt;/td>
 &lt;td>43,447,720,943&lt;/td>
 &lt;/tr>
 &lt;tr>
 &lt;td>100000&lt;/td>
 &lt;td>100,000&lt;/td>
 &lt;td>0.20&lt;/td>
 &lt;td>43,447,746,560&lt;/td>
 &lt;td>43,447,720,943&lt;/td>
 &lt;/tr>
 &lt;tr>
 &lt;td>1000000&lt;/td>
 &lt;td>531,022&lt;/td>
 &lt;td>0.20&lt;/td>
 &lt;td>43,447,746,560&lt;/td>
 &lt;td>43,447,720,943&lt;/td>
 &lt;/tr>
 &lt;/tbody>
&lt;/table>
&lt;p>





&lt;figure>
 
 








 
 &lt;picture
 class="mx-auto my-0 rounded-md"
 
 >
 
 
 
 
 &lt;source
 
 srcset="https://hugovk.dev/blog/2024/a-surprising-thing-about-pypis-bigquery-data/3pitkptggoit9xdypjp2_hu_90ee4dd64a23615c.webp 330w,/blog/2024/a-surprising-thing-about-pypis-bigquery-data/3pitkptggoit9xdypjp2_hu_5d66886b9992da80.webp 660w
 
 ,/blog/2024/a-surprising-thing-about-pypis-bigquery-data/3pitkptggoit9xdypjp2_hu_4ebeaf65218f5ad8.webp 1024w
 
 
 ,/blog/2024/a-surprising-thing-about-pypis-bigquery-data/3pitkptggoit9xdypjp2_hu_79e7d5fe73b5ed93.webp 1320w
 "
 
 sizes="100vw"
 type="image/webp"
 />
 
 &lt;img
 width="1434"
 height="868"
 class="mx-auto my-0 rounded-md"
 alt="Still same flat cost and bytes for 1 or 10 or 1,000 or 1,000,000 packages"
 loading="lazy" decoding="async"
 
 src="https://hugovk.dev/blog/2024/a-surprising-thing-about-pypis-bigquery-data/3pitkptggoit9xdypjp2_hu_d2b6ec8db1e93645.png"
 srcset="https://hugovk.dev/blog/2024/a-surprising-thing-about-pypis-bigquery-data/3pitkptggoit9xdypjp2_hu_88f90f867a4564bc.png 330w,/blog/2024/a-surprising-thing-about-pypis-bigquery-data/3pitkptggoit9xdypjp2_hu_d2b6ec8db1e93645.png 660w
 
 ,/blog/2024/a-surprising-thing-about-pypis-bigquery-data/3pitkptggoit9xdypjp2_hu_e0cad5099b97e86e.png 1024w
 
 
 ,/blog/2024/a-surprising-thing-about-pypis-bigquery-data/3pitkptggoit9xdypjp2_hu_a0e5eca0d8f0263d.png 1320w
 "
 sizes="100vw"
 
 />
 &lt;/picture>
 


&lt;/figure>
&lt;/p>
&lt;p>&lt;strong>Result:&lt;/strong> Again, same cost, whether for 1 package or 531,022 packages!&lt;/p>
&lt;h2 id="finding-the-number-of-days-affects-the-cost" class="relative group">Finding: the number of days affects the cost &lt;span class="absolute top-0 w-6 transition-opacity opacity-0 -start-6 not-prose group-hover:opacity-100">&lt;a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700" style="text-decoration-line: none !important;" href="#finding-the-number-of-days-affects-the-cost" aria-label="Anchor">#&lt;/a>&lt;/span>&lt;/h2>&lt;p>No surprise. I&amp;rsquo;d earlier noticed 365 days too took much quota, and I could continue with
30 days.&lt;/p>
&lt;p>Here&amp;rsquo;s the estimated cost and bytes billed (for one package, all installers) between one
and 30 days (&lt;code>f&amp;quot;pypinfo --all --json --indent 0 --days {days} --limit 1 '' project&amp;quot;&lt;/code>),
showing a roughly linear increase:&lt;/p>
&lt;p>





&lt;figure>
 
 








 
 &lt;picture
 class="mx-auto my-0 rounded-md"
 
 >
 
 
 
 
 &lt;source
 
 srcset="https://hugovk.dev/blog/2024/a-surprising-thing-about-pypis-bigquery-data/aa4kq8d5neuxj9mf1g2v_hu_eb64444357965ace.webp 330w,/blog/2024/a-surprising-thing-about-pypis-bigquery-data/aa4kq8d5neuxj9mf1g2v_hu_24f12565a4cdfd4.webp 660w
 
 ,/blog/2024/a-surprising-thing-about-pypis-bigquery-data/aa4kq8d5neuxj9mf1g2v_hu_d7464b515c69fe4d.webp 1024w
 
 
 ,/blog/2024/a-surprising-thing-about-pypis-bigquery-data/aa4kq8d5neuxj9mf1g2v_hu_4eb013ee3c7f4c7e.webp 1320w
 "
 
 sizes="100vw"
 type="image/webp"
 />
 
 &lt;img
 width="1672"
 height="1028"
 class="mx-auto my-0 rounded-md"
 alt="Cost and bytes increase as the number of days increase"
 loading="lazy" decoding="async"
 
 src="https://hugovk.dev/blog/2024/a-surprising-thing-about-pypis-bigquery-data/aa4kq8d5neuxj9mf1g2v_hu_69723e8da7425ce5.png"
 srcset="https://hugovk.dev/blog/2024/a-surprising-thing-about-pypis-bigquery-data/aa4kq8d5neuxj9mf1g2v_hu_3d69111fe3afdc27.png 330w,/blog/2024/a-surprising-thing-about-pypis-bigquery-data/aa4kq8d5neuxj9mf1g2v_hu_69723e8da7425ce5.png 660w
 
 ,/blog/2024/a-surprising-thing-about-pypis-bigquery-data/aa4kq8d5neuxj9mf1g2v_hu_310b59d623c3845d.png 1024w
 
 
 ,/blog/2024/a-surprising-thing-about-pypis-bigquery-data/aa4kq8d5neuxj9mf1g2v_hu_b422133ddee91e6a.png 1320w
 "
 sizes="100vw"
 
 />
 &lt;/picture>
 


&lt;/figure>
&lt;/p>
&lt;h2 id="conclusion" class="relative group">Conclusion &lt;span class="absolute top-0 w-6 transition-opacity opacity-0 -start-6 not-prose group-hover:opacity-100">&lt;a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700" style="text-decoration-line: none !important;" href="#conclusion" aria-label="Anchor">#&lt;/a>&lt;/span>&lt;/h2>&lt;ul>
&lt;li>
&lt;p>It doesn&amp;rsquo;t matter how many packages I fetch data for, I might as well fetch all and
make it available to everyone, depending on the size of the data file. It will make
sense to still offer a smaller file with 8,000 or so packages: often you just need a
large-ish yet manageable number.&lt;/p>
&lt;/li>
&lt;li>
&lt;p>It costs more to filter for only downloads from pip, so I&amp;rsquo;ve switched to fetching data
for all installers.&lt;/p>
&lt;/li>
&lt;li>
&lt;p>The number of days affects the cost, so I will need to decrease this in the future to
stay within quota. For example, at some point I may need to switch from 30 to 25 days,
and later from 25 to 20 days.&lt;/p>
&lt;/li>
&lt;/ul>
&lt;p>More details from the investigation, the scripts and data files can be found at
&lt;a href="https://github.com/hugovk/top-pypi-packages/issues/36" target="_blank" rel="noreferrer">hugovk/top-pypi-packages#36&lt;/a>.&lt;/p>
&lt;p>And let me know if you know any tricks to reduce costs!&lt;/p>
&lt;hr>
&lt;p>&lt;small>Header photo:
&amp;ldquo;&lt;a target="_blank" rel="noopener noreferrer" href="https://www.flickr.com/photos/royalaustralianhistoricalsociety/44366270300/">The
Balancing Rock, Stonehenge, Near Glen Innes, NSW&lt;/a>&amp;rdquo; by the
&lt;a target="_blank" rel="noopener noreferrer" href="https://www.flickr.com/photos/royalaustralianhistoricalsociety/">Royal
Australian Historical Society&lt;/a>, with
&lt;a target="_blank" rel="noopener noreferrer" href="https://www.flickr.com/commons/usage/">no
known copyright restrictions&lt;/a>.&lt;/small>&lt;/p></description></item><item><title>Speed up CI with uv âš¡</title><link>https://hugovk.dev/blog/2024/speed-up-ci-with-uv/</link><pubDate>Sat, 02 Nov 2024 13:11:22 +0000</pubDate><guid>https://hugovk.dev/blog/2024/speed-up-ci-with-uv/</guid><description>&lt;p>We can use &lt;a href="https://github.com/astral-sh/uv" target="_blank" rel="noreferrer">uv&lt;/a> to make linting and testing on GitHub
Actions around 1.5 times as fast.&lt;/p>
&lt;h2 id="linting" class="relative group">Linting &lt;span class="absolute top-0 w-6 transition-opacity opacity-0 -start-6 not-prose group-hover:opacity-100">&lt;a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700" style="text-decoration-line: none !important;" href="#linting" aria-label="Anchor">#&lt;/a>&lt;/span>&lt;/h2>&lt;p>When using &lt;a href="https://pre-commit.com/" target="_blank" rel="noreferrer">pre-commit&lt;/a> for linting:&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-yml" data-lang="yml">&lt;span class="line">&lt;span class="cl">&lt;span class="nt">name&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">Lint&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="nt">on&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="l">push, pull_request, workflow_dispatch]&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="nt">env&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">FORCE_COLOR&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="m">1&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="nt">permissions&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">contents&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">read&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="nt">jobs&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">lint&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">runs-on&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">ubuntu-latest&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">steps&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>- &lt;span class="nt">uses&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">actions/checkout@v4&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">with&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">persist-credentials&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="kc">false&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>- &lt;span class="nt">uses&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">actions/setup-python@v5&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">with&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">python-version&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="s2">&amp;#34;3.x&amp;#34;&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">cache&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">pip&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>- &lt;span class="nt">uses&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">pre-commit/action@v3.0.1&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>We can replace &lt;a href="https://github.com/pre-commit/action" target="_blank" rel="noreferrer">pre-commit/action&lt;/a> with
&lt;a href="https://github.com/tox-dev/action-pre-commit-uv" target="_blank" rel="noreferrer">tox-dev/action-pre-commit-uv&lt;/a>:&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-diff" data-lang="diff">&lt;span class="line">&lt;span class="cl"> - uses: actions/setup-python@v5
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> with:
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> python-version: &amp;#34;3.x&amp;#34;
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="gd">- cache: pip
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="gd">- - uses: pre-commit/action@v3.0.1
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="gd">&lt;/span>&lt;span class="gi">+ - uses: tox-dev/action-pre-commit-uv@v1
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-yml" data-lang="yml">&lt;span class="line">&lt;span class="cl">&lt;span class="nt">name&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">Lint&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="nt">on&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="l">push, pull_request, workflow_dispatch]&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="nt">env&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">FORCE_COLOR&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="m">1&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="nt">permissions&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">contents&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">read&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="nt">jobs&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">lint&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">runs-on&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">ubuntu-latest&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">steps&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>- &lt;span class="nt">uses&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">actions/checkout@v4&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">with&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">persist-credentials&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="kc">false&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>- &lt;span class="nt">uses&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">actions/setup-python@v5&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">with&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">python-version&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="s2">&amp;#34;3.x&amp;#34;&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>- &lt;span class="nt">uses&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">tox-dev/action-pre-commit-uv@v1&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>This means uv will create virtual environments and install packages for pre-commit,
which is faster for the initial seed operation when there&amp;rsquo;s no cache.&lt;/p>
&lt;h3 id="lint-comparison" class="relative group">Lint comparison &lt;span class="absolute top-0 w-6 transition-opacity opacity-0 -start-6 not-prose group-hover:opacity-100">&lt;a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700" style="text-decoration-line: none !important;" href="#lint-comparison" aria-label="Anchor">#&lt;/a>&lt;/span>&lt;/h3>&lt;p>For example: &lt;a href="https://github.com/python/blurb/pull/32" target="_blank" rel="noreferrer">python/blurb#32&lt;/a>&lt;/p>
&lt;table>
 &lt;thead>
 &lt;tr>
 &lt;th>&lt;/th>
 &lt;th>Before&lt;/th>
 &lt;th>After&lt;/th>
 &lt;th>Times faster&lt;/th>
 &lt;/tr>
 &lt;/thead>
 &lt;tbody>
 &lt;tr>
 &lt;td>&lt;strong>No cache&lt;/strong>&lt;/td>
 &lt;td>&lt;a href="https://github.com/hugovk/blurb/actions/runs/11635610765/job/32405339441" target="_blank" rel="noreferrer">60s&lt;/a>&lt;/td>
 &lt;td>&lt;a href="https://github.com/hugovk/blurb/actions/runs/11635612034/job/32405343101" target="_blank" rel="noreferrer">37s&lt;/a>&lt;/td>
 &lt;td>1.62&lt;/td>
 &lt;/tr>
 &lt;tr>
 &lt;td>&lt;strong>With cache&lt;/strong>&lt;/td>
 &lt;td>&lt;a href="https://github.com/hugovk/blurb/actions/runs/11635702058/job/32405618322" target="_blank" rel="noreferrer">11s&lt;/a>&lt;/td>
 &lt;td>&lt;a href="https://github.com/hugovk/blurb/actions/runs/11635703339/job/32405622146" target="_blank" rel="noreferrer">11s&lt;/a>&lt;/td>
 &lt;td>1.00&lt;/td>
 &lt;/tr>
 &lt;/tbody>
&lt;/table>
&lt;h2 id="testing" class="relative group">Testing &lt;span class="absolute top-0 w-6 transition-opacity opacity-0 -start-6 not-prose group-hover:opacity-100">&lt;a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700" style="text-decoration-line: none !important;" href="#testing" aria-label="Anchor">#&lt;/a>&lt;/span>&lt;/h2>&lt;p>When testing with tox:&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-yml" data-lang="yml">&lt;span class="line">&lt;span class="cl">&lt;span class="nt">name&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">Test&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="nt">on&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="l">push, pull_request, workflow_dispatch]&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="nt">permissions&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">contents&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">read&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="nt">env&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">FORCE_COLOR&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="m">1&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="nt">jobs&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">test&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">runs-on&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">ubuntu-latest&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">strategy&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">fail-fast&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="kc">false&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">matrix&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">python-version&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="s2">&amp;#34;3.9&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="s2">&amp;#34;3.10&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="s2">&amp;#34;3.11&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="s2">&amp;#34;3.12&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="s2">&amp;#34;3.13&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="s2">&amp;#34;3.14&amp;#34;&lt;/span>&lt;span class="p">]&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">steps&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>- &lt;span class="nt">uses&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">actions/checkout@v4&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">with&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">persist-credentials&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="kc">false&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>- &lt;span class="nt">name&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">Set up Python ${{ matrix.python-version }}&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">uses&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">actions/setup-python@v5&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">with&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">python-version&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">${{ matrix.python-version }}&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">allow-prereleases&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="kc">true&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">cache&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">pip&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>- &lt;span class="nt">name&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">Install dependencies&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">run&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">|&lt;/span>&lt;span class="sd">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="sd"> python --version
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="sd"> python -m pip install -U pip
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="sd"> python -m pip install -U tox&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>- &lt;span class="nt">name&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">Tox tests&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">run&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">|&lt;/span>&lt;span class="sd">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="sd"> tox -e py&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>We can replace &lt;a href="https://github.com/tox-dev/tox" target="_blank" rel="noreferrer">tox&lt;/a> with
&lt;a href="https://github.com/tox-dev/tox-uv" target="_blank" rel="noreferrer">tox-uv&lt;/a>:&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-diff" data-lang="diff">&lt;span class="line">&lt;span class="cl"> - name: Set up Python ${{ matrix.python-version }}
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> uses: actions/setup-python@v5
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> with:
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> python-version: ${{ matrix.python-version }}
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> allow-prereleases: true
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="gd">- cache: pip
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="gd">&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="gd">- - name: Install dependencies
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="gd">- run: |
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="gd">- python --version
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="gd">- python -m pip install -U pip
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="gd">- python -m pip install -U tox
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="gd">&lt;/span>&lt;span class="gi">+ - name: Install uv
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="gi">+ uses: hynek/setup-cached-uv@v2
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="gi">&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> - name: Tox tests
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> run: |
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="gd">- tox -e py
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="gd">&lt;/span>&lt;span class="gi">+ uvx --with tox-uv tox -e py
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-yml" data-lang="yml">&lt;span class="line">&lt;span class="cl">&lt;span class="nt">name&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">Test&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="nt">on&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="l">push, pull_request, workflow_dispatch]&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="nt">permissions&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">contents&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">read&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="nt">env&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">FORCE_COLOR&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="m">1&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="nt">jobs&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">test&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">runs-on&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">ubuntu-latest&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">strategy&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">fail-fast&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="kc">false&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">matrix&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">python-version&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="s2">&amp;#34;3.9&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="s2">&amp;#34;3.10&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="s2">&amp;#34;3.11&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="s2">&amp;#34;3.12&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="s2">&amp;#34;3.13&amp;#34;&lt;/span>&lt;span class="p">]&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">steps&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>- &lt;span class="nt">uses&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">actions/checkout@v4&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">with&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">persist-credentials&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="kc">false&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>- &lt;span class="nt">name&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">Set up Python ${{ matrix.python-version }}&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">uses&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">actions/setup-python@v5&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">with&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">python-version&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">${{ matrix.python-version }}&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">allow-prereleases&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="kc">true&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>- &lt;span class="nt">name&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">Install uv&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">uses&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">hynek/setup-cached-uv@v2&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>- &lt;span class="nt">name&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">Tox tests&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">run&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">|&lt;/span>&lt;span class="sd">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="sd"> uvx --with tox-uv tox -e py&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>tox-uv is tox plugin to replace virtualenv and pip with uv in your tox environments. We
only need to install uv, and use &lt;code>uvx&lt;/code> to both install tox-uv and run tox, for faster
installs of tox, the virtual environment, and the dependencies within it.&lt;/p>
&lt;h3 id="test-comparison" class="relative group">Test comparison &lt;span class="absolute top-0 w-6 transition-opacity opacity-0 -start-6 not-prose group-hover:opacity-100">&lt;a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700" style="text-decoration-line: none !important;" href="#test-comparison" aria-label="Anchor">#&lt;/a>&lt;/span>&lt;/h3>&lt;p>For example: &lt;a href="https://github.com/python/blurb/pull/32" target="_blank" rel="noreferrer">python/blurb#32&lt;/a>&lt;/p>
&lt;table>
 &lt;thead>
 &lt;tr>
 &lt;th>&lt;/th>
 &lt;th>Before&lt;/th>
 &lt;th>After&lt;/th>
 &lt;th>Times faster&lt;/th>
 &lt;/tr>
 &lt;/thead>
 &lt;tbody>
 &lt;tr>
 &lt;td>&lt;strong>No cache&lt;/strong>&lt;/td>
 &lt;td>&lt;a href="https://github.com/hugovk/blurb/actions/runs/11635722298/usage" target="_blank" rel="noreferrer">2m 0s&lt;/a>&lt;/td>
 &lt;td>&lt;a href="https://github.com/hugovk/blurb/actions/runs/11635723255/usage" target="_blank" rel="noreferrer">1m 26s&lt;/a>&lt;/td>
 &lt;td>1.40&lt;/td>
 &lt;/tr>
 &lt;tr>
 &lt;td>&lt;strong>With cache&lt;/strong>&lt;/td>
 &lt;td>&lt;a href="https://github.com/hugovk/blurb/actions/runs/11635745236/usage" target="_blank" rel="noreferrer">1m 58s&lt;/a>&lt;/td>
 &lt;td>&lt;a href="https://github.com/hugovk/blurb/actions/runs/11635746618/usage" target="_blank" rel="noreferrer">1m 22s&lt;/a>&lt;/td>
 &lt;td>1.44&lt;/td>
 &lt;/tr>
 &lt;/tbody>
&lt;/table>
&lt;h3 id="no-pip-with-tox-uv" class="relative group">No pip with tox-uv &lt;span class="absolute top-0 w-6 transition-opacity opacity-0 -start-6 not-prose group-hover:opacity-100">&lt;a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700" style="text-decoration-line: none !important;" href="#no-pip-with-tox-uv" aria-label="Anchor">#&lt;/a>&lt;/span>&lt;/h3>&lt;p>One difference with uv environments compared to regular venv/virtualenv ones is that
they do not have pip. This means calls to pip need replacing, for example in &lt;code>tox.ini&lt;/code>:&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-diff" data-lang="diff">&lt;span class="line">&lt;span class="cl"> [testenv]
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="gd">-commands_pre =
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="gd">- {envpython} -m pip install -U -r requirements.txt
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="gd">&lt;/span>&lt;span class="gi">+deps =
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="gi">+ -r requirements.txt
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="gi">&lt;/span> pass_env =
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> FORCE_COLOR
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> commands =
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> {envpython} -m pytest {posargs}
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>If you still need pip (or setuptools or wheel), add
&lt;a href="https://github.com/tox-dev/tox-uv#environment-creation" target="_blank" rel="noreferrer">&lt;code>uv_seed = True&lt;/code>&lt;/a> to your
&lt;code>[testenv]&lt;/code> to inject them.&lt;/p>
&lt;h2 id="bonus-tip" class="relative group">Bonus tip &lt;span class="absolute top-0 w-6 transition-opacity opacity-0 -start-6 not-prose group-hover:opacity-100">&lt;a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700" style="text-decoration-line: none !important;" href="#bonus-tip" aria-label="Anchor">#&lt;/a>&lt;/span>&lt;/h2>&lt;p>Run the new tool &lt;a href="https://github.com/woodruffw/zizmor" target="_blank" rel="noreferrer">zizmor&lt;/a> to find security issues
in GitHub Actions.&lt;/p>
&lt;hr>
&lt;p>&lt;small>Header photo:
&amp;ldquo;&lt;a target="_blank" rel="noopener noreferrer" href="https://finna.fi/Record/hkm.BB327C7B-90B8-45DF-90A1-ABC7B74F6BAA?imgid=1">Road
cycling at the 1952 Helsinki Olympics&lt;/a>&amp;rdquo; by
&lt;a target="_blank" rel="noopener noreferrer" href="https://www.flickr.com/people/nlmhmd/">Olympia-Kuva
Oy &amp;amp; Helsinki City Museum&lt;/a>,
&lt;a target="_blank" rel="noopener noreferrer" href="https://creativecommons.org/publicdomain/mark/1.0/deed.en">Public
Domain&lt;/a>.&lt;/small>&lt;/p></description></item><item><title>Python Core Developer Sprint 2024</title><link>https://hugovk.dev/blog/2024/python-core-developer-sprint-2024/</link><pubDate>Sat, 05 Oct 2024 19:39:48 +0000</pubDate><guid>https://hugovk.dev/blog/2024/python-core-developer-sprint-2024/</guid><description>&lt;p>ðŸðŸƒThe week before last was the annual Python Core Dev Sprint, graciously hosted by
Meta in Bellevue, WA!&lt;/p>
&lt;p>The idea: bring a bunch of Python core team members, triagers, and special guests to the
same room for a week. It&amp;rsquo;s hugely beneficial and productive, we held many in-depth
discussions that just don&amp;rsquo;t happen when we&amp;rsquo;re all remote and async, and got to work on
many different things together.&lt;/p>
&lt;p>





&lt;figure>
 
 








 
 &lt;picture
 class="mx-auto my-0 rounded-md"
 
 >
 
 
 
 
 &lt;source
 
 srcset="https://hugovk.dev/blog/2024/python-core-developer-sprint-2024/5rpkesswa2xbczkuwoq7_hu_2cb255f735f2cf3c.webp 330w,/blog/2024/python-core-developer-sprint-2024/5rpkesswa2xbczkuwoq7_hu_51b1e998f55c4fc7.webp 660w
 
 ,/blog/2024/python-core-developer-sprint-2024/5rpkesswa2xbczkuwoq7_hu_6e87c16b29f2b874.webp 1024w
 
 
 ,/blog/2024/python-core-developer-sprint-2024/5rpkesswa2xbczkuwoq7_hu_a5ffb3a12746bb6a.webp 1320w
 "
 
 sizes="100vw"
 type="image/webp"
 />
 
 &lt;img
 width="4096"
 height="1305"
 class="mx-auto my-0 rounded-md"
 alt="A panoramic shot of a room of people, some sitting at desks, some standing, some working on laptops, some in discussion."
 loading="lazy" decoding="async"
 
 src="https://hugovk.dev/blog/2024/python-core-developer-sprint-2024/5rpkesswa2xbczkuwoq7_hu_bdb706f56d7fe1bf.jpg"
 srcset="https://hugovk.dev/blog/2024/python-core-developer-sprint-2024/5rpkesswa2xbczkuwoq7_hu_93f46f803d689b7a.jpg 330w,/blog/2024/python-core-developer-sprint-2024/5rpkesswa2xbczkuwoq7_hu_bdb706f56d7fe1bf.jpg 660w
 
 ,/blog/2024/python-core-developer-sprint-2024/5rpkesswa2xbczkuwoq7_hu_7e1c1cda06dc9e04.jpg 1024w
 
 
 ,/blog/2024/python-core-developer-sprint-2024/5rpkesswa2xbczkuwoq7_hu_24db564ba457b78d.jpg 1320w
 "
 sizes="100vw"
 
 />
 &lt;/picture>
 


&lt;/figure>
&lt;/p>
&lt;center>&lt;small>The sprint room&lt;/small>&lt;/center>
&lt;p>During the week, I reviewed 39 PRs, created 15, merged 10, updated 4, and closed 2
issues.&lt;/p>
&lt;h2 id="monday-highlights" class="relative group">Monday highlights &lt;span class="absolute top-0 w-6 transition-opacity opacity-0 -start-6 not-prose group-hover:opacity-100">&lt;a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700" style="text-decoration-line: none !important;" href="#monday-highlights" aria-label="Anchor">#&lt;/a>&lt;/span>&lt;/h2>&lt;p>As release manager for &lt;a href="https://peps.python.org/pep-0745/" target="_blank" rel="noreferrer">Python 3.14&lt;/a>, I discussed
with &lt;a href="https://fosstodon.org/@brettcannon" target="_blank" rel="noreferrer">Brett Cannon&lt;/a> one of his project ideas which
will come after lock files, and after the next big one.&lt;/p>
&lt;p>Also as RM, discussed with &lt;a href="https://cloudisland.nz/@freakboy3742" target="_blank" rel="noreferrer">Russell Keith-Magee&lt;/a>,
Ned Deily, &lt;a href="https://mastodon.social/@ambv" target="_blank" rel="noreferrer">Åukasz Langa&lt;/a> and
&lt;a href="https://social.coop/@Yhg1s" target="_blank" rel="noreferrer">Thomas Wouters&lt;/a> about
&lt;a href="https://beeware.org/news/buzz/2024q4-roadmap/" target="_blank" rel="noreferrer">including official binaries for iOS and Android&lt;/a>,
which wandered into ideas about security releases.&lt;/p>
&lt;p>I did some maintenance of our PyPI projects, adding
&lt;a href="https://peps.python.org/pep-0740/" target="_blank" rel="noreferrer">PEP 740 attestations&lt;/a>, support for the
&lt;a href="https://peps.python.org/pep-0719/" target="_blank" rel="noreferrer">new Python 3.13&lt;/a> and dropping support for the
&lt;a href="https://peps.python.org/pep-0569/" target="_blank" rel="noreferrer">very-nearly-EOL 3.8&lt;/a>.&lt;/p>
&lt;h2 id="tuesday-highlights" class="relative group">Tuesday highlights &lt;span class="absolute top-0 w-6 transition-opacity opacity-0 -start-6 not-prose group-hover:opacity-100">&lt;a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700" style="text-decoration-line: none !important;" href="#tuesday-highlights" aria-label="Anchor">#&lt;/a>&lt;/span>&lt;/h2>&lt;p>Started investigating slow doctest on 3.13+ with
&lt;a href="https://fosstodon.org/@AlexWaygood" target="_blank" rel="noreferrer">Alex Waygood&lt;/a>, who on Wednesday narrowed it down to
a problem with the
&lt;a href="https://github.com/python/cpython/issues/124567" target="_blank" rel="noreferrer">new incremental garbage collector&lt;/a>,
which would go on to be reverted by Friday and result in
&lt;a href="https://discuss.python.org/t/python-3-12-7-and-3-13-0rc3-released/66306?u=hugovk" target="_blank" rel="noreferrer">Python 3.13&amp;rsquo;s Monday release to be postponed and replaced with an extra release candidate&lt;/a>.
Not ideal, but much better to discover these things before the big release.&lt;/p>
&lt;p>We had a Q&amp;amp;A session with the Steering Council:
&lt;a href="https://mastodon.social/@pumpichank" target="_blank" rel="noreferrer">Barry Warsaw&lt;/a>, Emily Morehouse,
&lt;a href="https://infosec.exchange/@gpshead" target="_blank" rel="noreferrer">Gregory P. Smith&lt;/a>, Pablo Galindo Salgado and Thomas.&lt;/p>
&lt;p>





&lt;figure>
 
 








 
 &lt;picture
 class="mx-auto my-0 rounded-md"
 
 >
 
 
 
 
 &lt;source
 
 srcset="https://hugovk.dev/blog/2024/python-core-developer-sprint-2024/g7yyzyqtztoednyacr1r_hu_71fb3a1ab96d930c.webp 330w,/blog/2024/python-core-developer-sprint-2024/g7yyzyqtztoednyacr1r_hu_3295fe516057c486.webp 660w
 
 ,/blog/2024/python-core-developer-sprint-2024/g7yyzyqtztoednyacr1r_hu_dfd6da0dcb7e494b.webp 1024w
 
 
 ,/blog/2024/python-core-developer-sprint-2024/g7yyzyqtztoednyacr1r_hu_15349551b507d652.webp 1320w
 "
 
 sizes="100vw"
 type="image/webp"
 />
 
 &lt;img
 width="4000"
 height="3000"
 class="mx-auto my-0 rounded-md"
 alt="The steering council: Barry, Emily, Greg with a microphone, Pablo and Thomas sitting on high stools."
 loading="lazy" decoding="async"
 
 src="https://hugovk.dev/blog/2024/python-core-developer-sprint-2024/g7yyzyqtztoednyacr1r_hu_c23613b6a8d4c118.jpg"
 srcset="https://hugovk.dev/blog/2024/python-core-developer-sprint-2024/g7yyzyqtztoednyacr1r_hu_2b1b2cf49079bb4.jpg 330w,/blog/2024/python-core-developer-sprint-2024/g7yyzyqtztoednyacr1r_hu_c23613b6a8d4c118.jpg 660w
 
 ,/blog/2024/python-core-developer-sprint-2024/g7yyzyqtztoednyacr1r_hu_cd4120b71246f2d9.jpg 1024w
 
 
 ,/blog/2024/python-core-developer-sprint-2024/g7yyzyqtztoednyacr1r_hu_a5ad8e3fd8fd5f55.jpg 1320w
 "
 sizes="100vw"
 
 />
 &lt;/picture>
 


&lt;/figure>
&lt;/p>
&lt;center>&lt;small>The Python Steering Council&lt;/small>&lt;/center>
&lt;p>Proofread Guido van Rossum&amp;rsquo;s
&lt;a href="https://discuss.python.org/t/changing-pep-13-to-adopt-bloc-star-voting/64971?u=hugovk" target="_blank" rel="noreferrer">STAR voting proposal&lt;/a>
for electing future steering councils.&lt;/p>
&lt;p>Discussed with Eric Snow his novel method for displaying many code samples in a table,
using &lt;code>&amp;lt;details&amp;gt;&lt;/code> disclosures to prevent the table being too wide. Looks like a good
solution!&lt;/p>
&lt;h2 id="wednesday-highlights" class="relative group">Wednesday highlights &lt;span class="absolute top-0 w-6 transition-opacity opacity-0 -start-6 not-prose group-hover:opacity-100">&lt;a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700" style="text-decoration-line: none !important;" href="#wednesday-highlights" aria-label="Anchor">#&lt;/a>&lt;/span>&lt;/h2>&lt;p>I applied the &lt;a href="https://github.com/python/peps/pull/3995" target="_blank" rel="noreferrer">finishing touches&lt;/a> to
&lt;a href="https://peps.python.org/pep-2026/" target="_blank" rel="noreferrer">PEP 2026&lt;/a> (Calendar versioning for Python) and Barry
gave it a final review. Ready for submission!&lt;/p>
&lt;p>&lt;a href="https://fosstodon.org/@sethmlarson" target="_blank" rel="noreferrer">Seth Larson&lt;/a>, the PSF
&lt;a href="https://sethmlarson.dev/security-developer-in-residence" target="_blank" rel="noreferrer">Security Developer-in-Residence&lt;/a>,
wasn&amp;rsquo;t at the sprint but we discussed our plan to stop providing GPG signatures for
CPython and rely on SigStore instead. Expect a PEP soon!&lt;/p>
&lt;p>Also not at the sprint, I recommended PSF
&lt;a href="https://pyfound.blogspot.com/2024/07/announcing-our-new-infrastructure.html" target="_blank" rel="noreferrer">Infrastructure Engineer&lt;/a>
&lt;a href="https://fosstodon.org/@Monorepo" target="_blank" rel="noreferrer">Jacob Coffee&lt;/a> as a &lt;a href="CPython">CPython triager&lt;/a>. Welcome
aboard!&lt;/p>
&lt;p>The whole room discussed including
&lt;a href="https://discuss.python.org/t/static-type-annotations-in-cpython/65068?u=hugovk" target="_blank" rel="noreferrer">static type annotations in CPython&lt;/a>.&lt;/p>
&lt;p>We had a Q&amp;amp;A session with two of the three Developers-in-Residence, Åukasz and
&lt;a href="https://mastodon.social/@encukou" target="_blank" rel="noreferrer">Petr Viktorin&lt;/a>.&lt;/p>
&lt;p>





&lt;figure>
 
 








 
 &lt;picture
 class="mx-auto my-0 rounded-md"
 
 >
 
 
 
 
 &lt;source
 
 srcset="https://hugovk.dev/blog/2024/python-core-developer-sprint-2024/vbn0yvsz7t9t2j7yfd2j_hu_4b3c69a773c8cf45.webp 330w,/blog/2024/python-core-developer-sprint-2024/vbn0yvsz7t9t2j7yfd2j_hu_f7f8c567c03bad3b.webp 660w
 
 ,/blog/2024/python-core-developer-sprint-2024/vbn0yvsz7t9t2j7yfd2j_hu_11ee3f29625bb8a.webp 1024w
 
 
 ,/blog/2024/python-core-developer-sprint-2024/vbn0yvsz7t9t2j7yfd2j_hu_d8700b90f3cd22d7.webp 1320w
 "
 
 sizes="100vw"
 type="image/webp"
 />
 
 &lt;img
 width="4000"
 height="3000"
 class="mx-auto my-0 rounded-md"
 alt="Åukasz (with a microphone) and Petr sitting on high stools."
 loading="lazy" decoding="async"
 
 src="https://hugovk.dev/blog/2024/python-core-developer-sprint-2024/vbn0yvsz7t9t2j7yfd2j_hu_da29803447686f1.jpg"
 srcset="https://hugovk.dev/blog/2024/python-core-developer-sprint-2024/vbn0yvsz7t9t2j7yfd2j_hu_43dd0803853494d5.jpg 330w,/blog/2024/python-core-developer-sprint-2024/vbn0yvsz7t9t2j7yfd2j_hu_da29803447686f1.jpg 660w
 
 ,/blog/2024/python-core-developer-sprint-2024/vbn0yvsz7t9t2j7yfd2j_hu_a1a828bd39c1c513.jpg 1024w
 
 
 ,/blog/2024/python-core-developer-sprint-2024/vbn0yvsz7t9t2j7yfd2j_hu_32e85f4fc4bc6402.jpg 1320w
 "
 sizes="100vw"
 
 />
 &lt;/picture>
 


&lt;/figure>
&lt;/p>
&lt;center>&lt;small>Q&amp;A with Åukasz and Petr&lt;/small>&lt;/center>
&lt;p>Discussed
&lt;a href="https://discuss.python.org/t/collecting-feedback-about-expanding-the-voter-pool-for-sc-elections?u=hugovk" target="_blank" rel="noreferrer">expanding the voter pool for Steering Council elections&lt;/a>
with &lt;a href="https://fosstodon.org/@mariatta" target="_blank" rel="noreferrer">Mariatta&lt;/a>, Greg and Thomas.&lt;/p>
&lt;p>Larry Hastings handed out, in return for &lt;em>oohs&lt;/em> and &lt;em>aahs&lt;/em>, some nice P.C.D.S. 2024
stickers he generously designed and printed up for us. Thanks!&lt;/p>
&lt;p>





&lt;figure>
 
 








 
 &lt;picture
 class="mx-auto my-0 rounded-md"
 
 >
 
 
 
 
 &lt;source
 
 srcset="https://hugovk.dev/blog/2024/python-core-developer-sprint-2024/arqsq2qg7h1giiko2g40_hu_207ff0d89a54bb0c.webp 330w,/blog/2024/python-core-developer-sprint-2024/arqsq2qg7h1giiko2g40_hu_848b9f5cc4005cb6.webp 660w
 
 ,/blog/2024/python-core-developer-sprint-2024/arqsq2qg7h1giiko2g40_hu_8c0ec814e53ca930.webp 1024w
 
 
 ,/blog/2024/python-core-developer-sprint-2024/arqsq2qg7h1giiko2g40_hu_e9a6c0f91222ffa3.webp 1320w
 "
 
 sizes="100vw"
 type="image/webp"
 />
 
 &lt;img
 width="4000"
 height="3000"
 class="mx-auto my-0 rounded-md"
 alt="Two stickers. One yellow snake with its body looping and spelling out the letters PCDS (for Python Core Dev Sprint), one blue snake spelling 2024."
 loading="lazy" decoding="async"
 
 src="https://hugovk.dev/blog/2024/python-core-developer-sprint-2024/arqsq2qg7h1giiko2g40_hu_b50637303fa4d8d9.jpg"
 srcset="https://hugovk.dev/blog/2024/python-core-developer-sprint-2024/arqsq2qg7h1giiko2g40_hu_5a5ce67348451d0f.jpg 330w,/blog/2024/python-core-developer-sprint-2024/arqsq2qg7h1giiko2g40_hu_b50637303fa4d8d9.jpg 660w
 
 ,/blog/2024/python-core-developer-sprint-2024/arqsq2qg7h1giiko2g40_hu_807bde96ce9dd5a8.jpg 1024w
 
 
 ,/blog/2024/python-core-developer-sprint-2024/arqsq2qg7h1giiko2g40_hu_6287bfb1bbafa287.jpg 1320w
 "
 sizes="100vw"
 
 />
 &lt;/picture>
 


&lt;/figure>
&lt;/p>
&lt;center>&lt;small>PCDS 2024 stickers by Larry&lt;/small>&lt;/center>
&lt;h2 id="thursday-highlights" class="relative group">Thursday highlights &lt;span class="absolute top-0 w-6 transition-opacity opacity-0 -start-6 not-prose group-hover:opacity-100">&lt;a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700" style="text-decoration-line: none !important;" href="#thursday-highlights" aria-label="Anchor">#&lt;/a>&lt;/span>&lt;/h2>&lt;p>On the 26th September, at 10:26 Bellevue time (20:26 Helsinki time), I
&lt;a href="https://github.com/python/steering-council/issues/255" target="_blank" rel="noreferrer">submitted PEP 2026 to the Steering Council!&lt;/a>ðŸ¤ž&lt;/p>
&lt;p>Brett discussed whether we should update
&lt;a href="https://discuss.python.org/t/updating-pep-387-to-prefer-5-year-deprecations-instead-of-2-years/65166?u=hugovk" target="_blank" rel="noreferrer">PEP 387 to prefer 5 year deprecations instead of 2 years&lt;/a>.&lt;/p>
&lt;p>Brandt Bucher gave us all an update on the progress of the Just-in-Time (JIT) compiler
(&amp;ldquo;we went from 0% slower to 0% faster!&amp;rdquo;) and we discussed plans for Python 3.14.&lt;/p>
&lt;p>Because I couldn&amp;rsquo;t attend Thursday&amp;rsquo;s
&lt;a href="https://helsinki-python.github.io/" target="_blank" rel="noreferrer">Helsinki Python meetup&lt;/a> due to being at another
kind of Python meetup on the other side of the world, I gave the famous HelPy quiz to
the assembled core devs. Unsurprisingly they did pretty well, but the most incorrect
answer was a pleasant surprise: we&amp;rsquo;ve had ~400 not ~80 new contributors to Python 3.13!&lt;/p>
&lt;p>Pablo performed card tricks!&lt;/p>
&lt;p>





&lt;figure>
 
 








 
 &lt;picture
 class="mx-auto my-0 rounded-md"
 
 >
 
 
 
 
 &lt;source
 
 srcset="https://hugovk.dev/blog/2024/python-core-developer-sprint-2024/tlusli7ylxa3di48nmct_hu_5633532ec2d31a64.webp 330w,/blog/2024/python-core-developer-sprint-2024/tlusli7ylxa3di48nmct_hu_d044a0b3fe1e82bf.webp 660w
 
 ,/blog/2024/python-core-developer-sprint-2024/tlusli7ylxa3di48nmct_hu_6f0b54078035f3a9.webp 1024w
 
 
 ,/blog/2024/python-core-developer-sprint-2024/tlusli7ylxa3di48nmct_hu_6769db969dedd136.webp 1320w
 "
 
 sizes="100vw"
 type="image/webp"
 />
 
 &lt;img
 width="4000"
 height="3000"
 class="mx-auto my-0 rounded-md"
 alt="Pablo splaying open a deck of PyCon US playing cards and Greg picking one."
 loading="lazy" decoding="async"
 
 src="https://hugovk.dev/blog/2024/python-core-developer-sprint-2024/tlusli7ylxa3di48nmct_hu_14d948fb1f7f7237.jpg"
 srcset="https://hugovk.dev/blog/2024/python-core-developer-sprint-2024/tlusli7ylxa3di48nmct_hu_e24eba41dd85fc97.jpg 330w,/blog/2024/python-core-developer-sprint-2024/tlusli7ylxa3di48nmct_hu_14d948fb1f7f7237.jpg 660w
 
 ,/blog/2024/python-core-developer-sprint-2024/tlusli7ylxa3di48nmct_hu_4ec783026ec8995.jpg 1024w
 
 
 ,/blog/2024/python-core-developer-sprint-2024/tlusli7ylxa3di48nmct_hu_1d099a906a18c952.jpg 1320w
 "
 sizes="100vw"
 
 />
 &lt;/picture>
 


&lt;/figure>
&lt;/p>
&lt;center>&lt;small>Magic from Pablo&lt;/small>&lt;/center>
&lt;p>Meta took us out for a delicious dinner at a local fish restaurant. Thank you!&lt;/p>
&lt;h2 id="friday-highlights" class="relative group">Friday highlights &lt;span class="absolute top-0 w-6 transition-opacity opacity-0 -start-6 not-prose group-hover:opacity-100">&lt;a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700" style="text-decoration-line: none !important;" href="#friday-highlights" aria-label="Anchor">#&lt;/a>&lt;/span>&lt;/h2>&lt;p>Mariatta presented ideas to Jelle Zijlstra, Petr, Russell and me about to use modern
tools to create a modern, interactive tutorial.&lt;/p>
&lt;p>Also during the week, continued work with Adam Turner on improving the
&lt;a href="https://docs.python.org/3/" target="_blank" rel="noreferrer">docs.python.org&lt;/a> build. Adam wasn&amp;rsquo;t at the sprint, so
tag-teamed PR reviews overnight. After
&lt;a href="https://github.com/python/docsbuild-scripts/issues/169#issuecomment-2389743956" target="_blank" rel="noreferrer">much work straddling many teams, projects and repos&lt;/a>,
we&amp;rsquo;ve got the full HTML build loop for 13 languages Ã— 3 versions down from over 40 hours
to just under 9 hours, with more improvements coming.&lt;/p>
&lt;p>Made a &lt;a href="https://hugovk-cpython.readthedocs.io/en/pydata-sphinx-theme/" target="_blank" rel="noreferrer">demo&lt;/a> of the
CPython docs using the
&lt;a href="https://pydata-sphinx-theme.readthedocs.io/en/stable/" target="_blank" rel="noreferrer">PyData Sphinx Theme&lt;/a>.&lt;/p>
&lt;p>Along with around 25 others, I was on Åukasz and Pablo&amp;rsquo;s
&lt;a href="https://podcasters.spotify.com/pod/show/corepy/episodes/Episode-15-Core-sprint-at-Meta-e2p64tc" target="_blank" rel="noreferrer">core.py podcast&lt;/a>.&lt;/p>
&lt;p>





&lt;figure>
 
 








 
 &lt;picture
 class="mx-auto my-0 rounded-md"
 
 >
 
 
 
 
 &lt;source
 
 srcset="https://hugovk.dev/blog/2024/python-core-developer-sprint-2024/obqejp8n5acztsb8knaq_hu_5c7c2672adc05b45.webp 330w,/blog/2024/python-core-developer-sprint-2024/obqejp8n5acztsb8knaq_hu_c64f1594e149ab6d.webp 660w
 
 ,/blog/2024/python-core-developer-sprint-2024/obqejp8n5acztsb8knaq_hu_e27bee35b6712edf.webp 1024w
 
 
 ,/blog/2024/python-core-developer-sprint-2024/obqejp8n5acztsb8knaq_hu_52295aecd031f022.webp 1320w
 "
 
 sizes="100vw"
 type="image/webp"
 />
 
 &lt;img
 width="4000"
 height="3000"
 class="mx-auto my-0 rounded-md"
 alt="Åukasz and Pablo in their ad-hoc podcast studio in a Meta meeting room."
 loading="lazy" decoding="async"
 
 src="https://hugovk.dev/blog/2024/python-core-developer-sprint-2024/obqejp8n5acztsb8knaq_hu_cc5f8a9f4a4b7bdf.jpg"
 srcset="https://hugovk.dev/blog/2024/python-core-developer-sprint-2024/obqejp8n5acztsb8knaq_hu_6d856004aea0387b.jpg 330w,/blog/2024/python-core-developer-sprint-2024/obqejp8n5acztsb8knaq_hu_cc5f8a9f4a4b7bdf.jpg 660w
 
 ,/blog/2024/python-core-developer-sprint-2024/obqejp8n5acztsb8knaq_hu_15591b212d87fcb9.jpg 1024w
 
 
 ,/blog/2024/python-core-developer-sprint-2024/obqejp8n5acztsb8knaq_hu_e0b9e025ba3bac44.jpg 1320w
 "
 sizes="100vw"
 
 />
 &lt;/picture>
 


&lt;/figure>
&lt;/p>
&lt;center>&lt;small>Åukasz and Pablo in their ad-hoc podcast studio in a Meta meeting room&lt;/small>&lt;/center>
&lt;p>Itamar gave us cake for the podcast&amp;rsquo;s first birthday!&lt;/p>
&lt;p>





&lt;figure>
 
 








 
 &lt;picture
 class="mx-auto my-0 rounded-md"
 
 >
 
 
 
 
 &lt;source
 
 srcset="https://hugovk.dev/blog/2024/python-core-developer-sprint-2024/8gz97wzjn5khsjg4anln_hu_d1cff4fb85ef5324.webp 330w,/blog/2024/python-core-developer-sprint-2024/8gz97wzjn5khsjg4anln_hu_9e9649e37c203b83.webp 660w
 
 ,/blog/2024/python-core-developer-sprint-2024/8gz97wzjn5khsjg4anln_hu_e60e1f8704d0a00a.webp 1024w
 
 
 ,/blog/2024/python-core-developer-sprint-2024/8gz97wzjn5khsjg4anln_hu_7566dec77ababb3b.webp 1320w
 "
 
 sizes="100vw"
 type="image/webp"
 />
 
 &lt;img
 width="2439"
 height="1747"
 class="mx-auto my-0 rounded-md"
 alt="A big white cake, with decorations of Åukasz and Pablo&amp;rsquo;s faces, along with the Core.py logo, a big digit 1, headphones, microphone, bananas, and &amp;ldquo;emosido engaÃ±ado&amp;rdquo; graffiti."
 loading="lazy" decoding="async"
 
 src="https://hugovk.dev/blog/2024/python-core-developer-sprint-2024/8gz97wzjn5khsjg4anln_hu_6b58b86a2aafa0f4.jpg"
 srcset="https://hugovk.dev/blog/2024/python-core-developer-sprint-2024/8gz97wzjn5khsjg4anln_hu_f57a7be6a645f5b.jpg 330w,/blog/2024/python-core-developer-sprint-2024/8gz97wzjn5khsjg4anln_hu_6b58b86a2aafa0f4.jpg 660w
 
 ,/blog/2024/python-core-developer-sprint-2024/8gz97wzjn5khsjg4anln_hu_31a39b4fbb41c10d.jpg 1024w
 
 
 ,/blog/2024/python-core-developer-sprint-2024/8gz97wzjn5khsjg4anln_hu_caa957aaa72166ea.jpg 1320w
 "
 sizes="100vw"
 
 />
 &lt;/picture>
 


&lt;/figure>
&lt;/p>
&lt;center>&lt;small>cake.py. Photo by Itamar Oren.&lt;/small>&lt;/center>
&lt;h2 id="thank-you" class="relative group">Thank you &lt;span class="absolute top-0 w-6 transition-opacity opacity-0 -start-6 not-prose group-hover:opacity-100">&lt;a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700" style="text-decoration-line: none !important;" href="#thank-you" aria-label="Anchor">#&lt;/a>&lt;/span>&lt;/h2>&lt;p>It was a hugely productive week, big thanks to Itamar Oren and Meta for organising and
hosting!&lt;/p>
&lt;p>See also Mariatta&amp;rsquo;s excellent &lt;a href="https://mariatta.ca/tags/sprint/" target="_blank" rel="noreferrer">blog posts&lt;/a>, and I
recommend the
&lt;a href="https://podcasters.spotify.com/pod/show/corepy/episodes/Episode-15-Core-sprint-at-Meta-e2p64tc" target="_blank" rel="noreferrer">core.py podcast&lt;/a>
with short interviews with some 25 attendees! Åukasz and Pablo were also guests on the
&lt;a href="https://changelog.com/podcast/611" target="_blank" rel="noreferrer">Changelog podcast&lt;/a> during the sprint.&lt;/p>
&lt;hr>
&lt;p>&lt;small>Header photo by Itamar Oren&lt;/small>&lt;/p></description></item><item><title>PyCon US 2024: A roundup of writeups</title><link>https://hugovk.dev/blog/2024/pycon-us-2024-a-roundup-of-writeups/</link><pubDate>Thu, 13 Jun 2024 14:41:55 +0000</pubDate><guid>https://hugovk.dev/blog/2024/pycon-us-2024-a-roundup-of-writeups/</guid><description>&lt;p>If you read just one, check
&lt;a href="https://katherinemichel.github.io/portfolio/pycon-us-2024-recap.html" target="_blank" rel="noreferrer">Kati&amp;rsquo;s thorough recap&lt;/a>!&lt;/p>
&lt;p>22nd May 2024&lt;/p>
&lt;ul>
&lt;li>&lt;a href="https://nedbatchelder.com/blog/202405/echos_of_the_people_api_user_guide.html" target="_blank" rel="noreferrer">Echos of the People API user guide&lt;/a>
by &lt;a href="https://mastodon.social/@nedbat@hachyderm.io/112479219635272740" target="_blank" rel="noreferrer">Ned Batchelder&lt;/a>&lt;/li>
&lt;/ul>
&lt;p>24th May 2024&lt;/p>
&lt;ul>
&lt;li>
&lt;p>&lt;a href="https://wagtail.org/blog/pycon-2024/" target="_blank" rel="noreferrer">Wagtailers spread their wings at PyCon 2024&lt;/a> by
&lt;a href="https://fosstodon.org/@vossisboss" target="_blank" rel="noreferrer">Meagen Voss&lt;/a> (@vossisboss)&lt;/p>
&lt;/li>
&lt;li>
&lt;p>&lt;a href="https://flet.dev/blog/flet-at-pycon-us-2024/" target="_blank" rel="noreferrer">Flet at PyCon US 2024&lt;/a> by Feodor
Fitsner&lt;/p>
&lt;/li>
&lt;/ul>
&lt;p>27th May 2024&lt;/p>
&lt;ul>
&lt;li>&lt;a href="https://blog.tomy.me/en/posts/pycon-us-2024/" target="_blank" rel="noreferrer">PyCon US 2024: My First PyCon in US ðŸ«¶ðŸ»&lt;/a>
by &lt;a href="https://mastodon.social/@tomyhsieh" target="_blank" rel="noreferrer">Tomy Hsieh&lt;/a>&lt;/li>
&lt;/ul>
&lt;p>28th May 2024&lt;/p>
&lt;ul>
&lt;li>
&lt;p>&lt;a href="https://treyhunner.com/2024/05/pycon-2024-reflection/" target="_blank" rel="noreferrer">PyCon 2024 Reflection&lt;/a> by
&lt;a href="https://mastodon.social/@treyhunner/112520554890667118" target="_blank" rel="noreferrer">Trey Hunner&lt;/a>&lt;/p>
&lt;/li>
&lt;li>
&lt;p>&lt;a href="https://simonwillison.net/2024/May/28/weeknotes/" target="_blank" rel="noreferrer">Weeknotes: PyCon US 2024&lt;/a> by
&lt;a href="https://fedi.simonwillison.net/@simon/112520529116346191" target="_blank" rel="noreferrer">Simon Willison&lt;/a>&lt;/p>
&lt;/li>
&lt;li>
&lt;p>&lt;a href="https://stacklok.com/blog/3-key-takeaways-from-pycon-us-2024" target="_blank" rel="noreferrer">3 key takeaways from PyCon US 2024&lt;/a>
by Luis Juncal &amp;amp; Yolanda Robla&lt;/p>
&lt;/li>
&lt;/ul>
&lt;p>30th May 2024&lt;/p>
&lt;ul>
&lt;li>
&lt;p>&lt;a href="https://www.pyopensci.org/blog/recap-pyos-pyconus-2024.html" target="_blank" rel="noreferrer">pyOpenSci at PyCon US 2024 - Python packaging and community &lt;/a>
by &lt;a href="https://fosstodon.org/@leahawasser/112554205196871020" target="_blank" rel="noreferrer">Leah Wasser&lt;/a>&lt;/p>
&lt;/li>
&lt;li>
&lt;p>&lt;a href="https://kafkai.com/en/blog/our-experience-at-pycon-us-2024-in-pittsburgh/" target="_blank" rel="noreferrer">Our Experience at PyCon US 2024 in Pittsburgh&lt;/a>
by &lt;a href="https://hachyderm.io/@muheuenga/112530136789502549" target="_blank" rel="noreferrer">Ngazetungue Muheue&lt;/a>
(@ngazetungue)&lt;/p>
&lt;/li>
&lt;/ul>
&lt;p>1st June 2024&lt;/p>
&lt;ul>
&lt;li>&lt;a href="https://katherinemichel.github.io/portfolio/pycon-us-2024-recap.html" target="_blank" rel="noreferrer">PyCon US 2024 Recap&lt;/a>
by &lt;a href="https://fosstodon.org/@kati/112542145378019538" target="_blank" rel="noreferrer">Kati Michel&lt;/a> (@katherinemichel)&lt;/li>
&lt;/ul>
&lt;p>4th June 2024&lt;/p>
&lt;ul>
&lt;li>&lt;a href="https://mangoumbrella.com/post/pycon-us-2024" target="_blank" rel="noreferrer">PyCon US 2024&lt;/a> by
&lt;a href="https://mastodon.social/@y2mango/112556835094650562" target="_blank" rel="noreferrer">Yilei Yang&lt;/a>&lt;/li>
&lt;/ul>
&lt;p>13th June 2024&lt;/p>
&lt;ul>
&lt;li>&lt;a href="https://sethmlarson.dev/security-developer-in-residence-report-37" target="_blank" rel="noreferrer">PyCon US 2024 as Security Developer-in-Residence&lt;/a>
by &lt;a href="https://fosstodon.org/@sethmlarson" target="_blank" rel="noreferrer">Seth Michael Larson&lt;/a> (@sethmlarson)&lt;/li>
&lt;/ul>
&lt;p>14th June 2024&lt;/p>
&lt;ul>
&lt;li>&lt;a href="https://pyfound.blogspot.com/2024/06/python-language-summit-2024.html" target="_blank" rel="noreferrer">The Python Language Summit 2024&lt;/a>
by &lt;a href="https://fosstodon.org/@sethmlarson" target="_blank" rel="noreferrer">Seth Michael Larson&lt;/a> (@sethmlarson)&lt;/li>
&lt;/ul>
&lt;p>16th June 2024&lt;/p>
&lt;ul>
&lt;li>&lt;a href="https://dafoster.net/articles/2024/06/16/pycon-us-2024-highlights/" target="_blank" rel="noreferrer">PyCon US 2024 Highlights&lt;/a>
by &lt;a href="https://mastodon.world/@davidfstr" target="_blank" rel="noreferrer">David Foster&lt;/a>&lt;/li>
&lt;/ul>
&lt;p>19th June 2024&lt;/p>
&lt;ul>
&lt;li>&lt;a href="https://medium.com/@monicaoyugi/from-pittsburgh-to-new-york-a-pycon-us-2024-adventure-1727c952509c" target="_blank" rel="noreferrer">From Pittsburgh to New York: A PyCon US 2024 Adventure&lt;/a>
by &lt;a href="https://mastodon.social/@monics" target="_blank" rel="noreferrer">Monica Oyugi&lt;/a> (@monicaoyugi)&lt;/li>
&lt;/ul>
&lt;hr>
&lt;p>&lt;small>Header photo: Downtown Pittsburgh seen between the Andy Warhol Bridge and Roberto
Clemente Bridge&lt;/small>&lt;/p></description></item><item><title>Help test Python 3.13!</title><link>https://hugovk.dev/blog/2024/help-test-python-313/</link><pubDate>Tue, 04 Jun 2024 13:04:03 +0000</pubDate><guid>https://hugovk.dev/blog/2024/help-test-python-313/</guid><description>&lt;p>Calling all Python library maintainers! ðŸ&lt;/p>
&lt;p>The Python 3.13 beta is out! ðŸŽ‰&lt;/p>
&lt;p>&lt;a href="https://peps.python.org/pep-0719/#release-schedule" target="_blank" rel="noreferrer">PEP 719&lt;/a> defines the release
schedule for Python 3.13.0:&lt;/p>
&lt;ul>
&lt;li>The first beta candidate came out on 8th May 2024&lt;/li>
&lt;li>The first release candidate is set for 30th July 2024&lt;/li>
&lt;li>And the full release is set for 1st October 2024&lt;/li>
&lt;/ul>
&lt;p>In his
&lt;a href="https://discuss.python.org/t/python-3-13-0b1-now-available/52891?u=hugovk" target="_blank" rel="noreferrer">announcement&lt;/a>,
Thomas Wouters, release manager for Python 3.12 and 3.13, said:&lt;/p>
&lt;blockquote>
&lt;p>We &lt;strong>strongly encourage&lt;/strong> maintainers of third-party Python projects to test with 3.13
during the beta phase and report issues found to the
&lt;a href="https://github.com/python/cpython/issues" target="_blank" rel="noreferrer">Python bug tracker&lt;/a> as soon as possible.
While the release is planned to be feature complete entering the beta phase, it is
possible that features may be modified or, in rare cases, deleted up until the start
of the release candidate phase (Tuesday 2024-07-30). Our goal is to have no ABI
changes after beta 4 and as few code changes as possible after 3.13.0rc1, the first
release candidate. To achieve that, it will be &lt;strong>extremely important&lt;/strong> to get as much
exposure for 3.13 as possible during the beta phase.&lt;/p>&lt;/blockquote>
&lt;h2 id="test-with-313" class="relative group">Test with 3.13 &lt;span class="absolute top-0 w-6 transition-opacity opacity-0 -start-6 not-prose group-hover:opacity-100">&lt;a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700" style="text-decoration-line: none !important;" href="#test-with-313" aria-label="Anchor">#&lt;/a>&lt;/span>&lt;/h2>&lt;p>It&amp;rsquo;s now time for us library maintainers to start testing our projects with 3.13.
There&amp;rsquo;s two big benefits:&lt;/p>
&lt;ol>
&lt;li>
&lt;p>There have been
&lt;a href="https://docs.python.org/3.13/whatsnew/3.13.html#removed" target="_blank" rel="noreferrer">removals and changes&lt;/a> in
Python 3.13. Testing now helps us make our code compatible and avoid any big
surprises (for us and our users) at the big launch in October.&lt;/p>
&lt;/li>
&lt;li>
&lt;p>We might find bugs in Python itself! Reporting those will help get them fixed and
help everyone.&lt;/p>
&lt;/li>
&lt;/ol>
&lt;h2 id="how" class="relative group">How &lt;span class="absolute top-0 w-6 transition-opacity opacity-0 -start-6 not-prose group-hover:opacity-100">&lt;a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700" style="text-decoration-line: none !important;" href="#how" aria-label="Anchor">#&lt;/a>&lt;/span>&lt;/h2>&lt;h3 id="github-actions-setup-python" class="relative group">GitHub Actions: setup-python &lt;span class="absolute top-0 w-6 transition-opacity opacity-0 -start-6 not-prose group-hover:opacity-100">&lt;a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700" style="text-decoration-line: none !important;" href="#github-actions-setup-python" aria-label="Anchor">#&lt;/a>&lt;/span>&lt;/h3>&lt;p>To test the latest alpha, beta or release candidate with
&lt;a href="https://github.com/actions/setup-python#supported-version-syntax" target="_blank" rel="noreferrer">actions/setup-python&lt;/a>,
add &lt;code>3.13&lt;/code> and &lt;code>allow-prereleases: true&lt;/code> to your workflow matrix.&lt;/p>
&lt;p>For example:&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-yml" data-lang="yml">&lt;span class="line">&lt;span class="cl">&lt;span class="nt">jobs&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">test&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">runs-on&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">ubuntu-latest&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">strategy&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">fail-fast&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="kc">false&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">matrix&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">python-version&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="s2">&amp;#34;3.10&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="s2">&amp;#34;3.11&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="s2">&amp;#34;3.12&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="s2">&amp;#34;3.13&amp;#34;&lt;/span>&lt;span class="p">]&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">steps&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>- &lt;span class="nt">uses&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">actions/checkout@v4&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>- &lt;span class="nt">name&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">Set up Python ${{ matrix.python-version }}&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">uses&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">actions/setup-python@v5&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">with&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">python-version&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">${{ matrix.python-version }}&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">allow-prereleases&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="kc">true&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>(We can instead use &lt;code>3.13-dev&lt;/code> and omit &lt;code>allow-prereleases: true&lt;/code>, but I find the above
a bit neater, and when 3.13.0 final is released in October, it will continue testing
with full release versions.)&lt;/p>
&lt;h3 id="github-actions-deadsnakes" class="relative group">GitHub Actions: deadsnakes &lt;span class="absolute top-0 w-6 transition-opacity opacity-0 -start-6 not-prose group-hover:opacity-100">&lt;a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700" style="text-decoration-line: none !important;" href="#github-actions-deadsnakes" aria-label="Anchor">#&lt;/a>&lt;/span>&lt;/h3>&lt;p>For the bleeding edge, we can use
&lt;a href="https://github.com/deadsnakes/action" target="_blank" rel="noreferrer">deadsnakes/action&lt;/a> to test the latest nightly
build:&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-yml" data-lang="yml">&lt;span class="line">&lt;span class="cl">&lt;span class="nt">jobs&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">test&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">runs-on&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">ubuntu-latest&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">strategy&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">fail-fast&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="kc">false&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">matrix&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">python-version&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="s2">&amp;#34;3.10&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="s2">&amp;#34;3.11&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="s2">&amp;#34;3.12&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="s2">&amp;#34;3.13-dev&amp;#34;&lt;/span>&lt;span class="p">]&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">steps&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>- &lt;span class="nt">uses&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">actions/checkout@v4&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>- &lt;span class="nt">name&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">Set up Python ${{ matrix.python-version }}&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">if&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="s2">&amp;#34;!endsWith(matrix.python-version, &amp;#39;-dev&amp;#39;)&amp;#34;&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">uses&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">actions/setup-python@v5&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">with&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">python-version&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">${{ matrix.python-version }}&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>- &lt;span class="nt">uses&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">deadsnakes/action@v3.1.0&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">name&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">Set up Python ${{ matrix.python-version }} (deadsnakes)&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">if&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">endsWith(matrix.python-version, &amp;#39;-dev&amp;#39;)&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">with&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">python-version&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">${{ matrix.python-version }}&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;h2 id="when-to-support-313" class="relative group">When to support 3.13? &lt;span class="absolute top-0 w-6 transition-opacity opacity-0 -start-6 not-prose group-hover:opacity-100">&lt;a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700" style="text-decoration-line: none !important;" href="#when-to-support-313" aria-label="Anchor">#&lt;/a>&lt;/span>&lt;/h2>&lt;p>When should you declare support and add the &lt;code>Programming Language :: Python :: 3.13&lt;/code>
&lt;a href="https://pypi.org/classifiers/" target="_blank" rel="noreferrer">Trove classifier&lt;/a>? Some
&lt;a href="https://pyreadiness.org/3.13/" target="_blank" rel="noreferrer">projects already have&lt;/a>!&lt;/p>
&lt;p>If you have a pure Python project, you can release now.&lt;/p>
&lt;p>If you have C extensions and other projects depend on yours, a preview release with
wheels will help them test and prepare. I&amp;rsquo;ve already started releasing these.&lt;/p>
&lt;h3 id="abi-breaks" class="relative group">ABI breaks? &lt;span class="absolute top-0 w-6 transition-opacity opacity-0 -start-6 not-prose group-hover:opacity-100">&lt;a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700" style="text-decoration-line: none !important;" href="#abi-breaks" aria-label="Anchor">#&lt;/a>&lt;/span>&lt;/h3>&lt;p>ABI breaks during the beta are infrequent and unintentional. If they happen, you can
rebuild your wheels and upload them to an existing PyPI release by adding an optional
&lt;a href="https://packaging.python.org/en/latest/specifications/binary-distribution-format/#file-format" target="_blank" rel="noreferrer">&lt;em>build tag&lt;/em>&lt;/a>
to the filename:&lt;/p>
&lt;blockquote>
&lt;p>The wheel filename is
&lt;code>{distribution}-{version}(-{build tag})?-{python tag}-{abi tag}-{platform tag}.whl&lt;/code>.&lt;/p>
&lt;p>build tag: [&amp;hellip;] Acts as a tie-breaker if two wheel file names are the same in all
other respects (i.e. name, version, and other tags).&lt;/p>&lt;/blockquote>
&lt;p>For example, this updates the filename and metadata with build number 1, and removes the
original file:&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-sh" data-lang="sh">&lt;span class="line">&lt;span class="cl">python -m pip install &lt;span class="s2">&amp;#34;wheel&amp;gt;=0.4.0&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">wheel tags --build&lt;span class="o">=&lt;/span>&lt;span class="m">1&lt;/span> --remove sampleproject-5.0.0-cp313-cp313-macosx_10_10_x86_64.whl
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># this creates a file named sampleproject-5.0.0-1-cp313-cp313-macosx_10_10_x86_64.whl&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>Upload it, and the new file will be used instead of the old one. See also
&lt;a href="https://snarky.ca/what-to-do-when-you-botch-a-release-on-pypi/#a-wheel-file-wasnt-compiled-properly" target="_blank" rel="noreferrer">Brett Cannon&amp;rsquo;s advice on making new wheels&lt;/a>.&lt;/p>
&lt;p>In any case, let&amp;rsquo;s start testing 3.13 now! ðŸš€&lt;/p>
&lt;h2 id="see-also" class="relative group">See also &lt;span class="absolute top-0 w-6 transition-opacity opacity-0 -start-6 not-prose group-hover:opacity-100">&lt;a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700" style="text-decoration-line: none !important;" href="#see-also" aria-label="Anchor">#&lt;/a>&lt;/span>&lt;/h2>&lt;ul>
&lt;li>&lt;a href="../../2023/help-us-test-free-threaded-python-without-the-gil/">Help us test free-threaded Python without the GIL&lt;/a>&lt;/li>
&lt;li>&lt;a href="https://docs.python.org/3.13/whatsnew/3.13.html" target="_blank" rel="noreferrer">Whatâ€™s New In Python 3.13&lt;/a>&lt;/li>
&lt;/ul>
&lt;hr>
&lt;p>&lt;small>Header photo: Lot 044 from the &lt;a href="https://us.pycon.org/2024/" target="_blank" rel="noreferrer">PyCon 2024&lt;/a>
&lt;a href="https://mastodon.social/@Lorenanicole/112468770670490719" target="_blank" rel="noreferrer">PyLadies Auction&lt;/a>: &amp;ldquo;A pair of
hand-woven snakes (&lt;a href="https://www.pylatam.org/" target="_blank" rel="noreferrer">PyCon Latam&lt;/a> 2023 edition), donated by the
PyCon Latam Organizers. This is a souvenir from PyCon Latam held in Mexica 2023 that
represents the snakes of the PyLatam community logo. They are made completely by
hand.&amp;quot;&lt;/small>&lt;/p></description></item><item><title>Printable PyCon 2024 schedule</title><link>https://hugovk.dev/blog/2024/printable-pycon-2024-schedule/</link><pubDate>Sat, 11 May 2024 11:01:33 +0000</pubDate><guid>https://hugovk.dev/blog/2024/printable-pycon-2024-schedule/</guid><description>&lt;p>Want to print out the PyCon US schedule? Paper doesn&amp;rsquo;t run out of batteries, is easy to
scribble on, and stuff into a pocket (technical term: &lt;em>the affordances of paper&lt;/em>).&lt;/p>
&lt;p>Here&amp;rsquo;s some custom CSS and JavaScript to make it nicely printable.&lt;/p>
&lt;ol>
&lt;li>
&lt;p>Install the
&lt;a href="https://chrome.google.com/webstore/detail/styler/bogdgcfoocbajfkjjolkmcdcnnellpkb?hl=en" target="_blank" rel="noreferrer">Styler browser extension&lt;/a>&lt;/p>
&lt;/li>
&lt;li>
&lt;p>View a PyCon schedule page such as &lt;a href="https://us.pycon.org/2024/schedule/talks/" target="_blank" rel="noreferrer">https://us.pycon.org/2024/schedule/talks/&lt;/a> and
click the Styler extension&amp;rsquo;s S icon&lt;/p>
&lt;/li>
&lt;li>
&lt;p>Paste this CSS into the upper box:&lt;/p>
&lt;/li>
&lt;/ol>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-CSS" data-lang="CSS">&lt;span class="line">&lt;span class="cl">&lt;span class="nt">body&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nc">pycon-schedule&lt;/span> &lt;span class="nt">div&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nc">internal-page-header&lt;/span>&lt;span class="o">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nt">body&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nc">pycon-schedule&lt;/span> &lt;span class="nt">div&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nc">panel-heading&lt;/span>&lt;span class="o">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nt">body&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nc">pycon-schedule&lt;/span> &lt;span class="nt">footer&lt;/span>&lt;span class="o">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nt">body&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nc">pycon-schedule&lt;/span> &lt;span class="nt">div&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nc">badges&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">display&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="kc">none&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nt">body&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nc">pycon-schedule&lt;/span> &lt;span class="p">.&lt;/span>&lt;span class="nc">container&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">margin&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="mi">0&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">max-width&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="n">fit-content&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nt">body&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nc">pycon-schedule&lt;/span> &lt;span class="nt">main&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nc">content&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">margin&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="mi">0&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">width&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="mi">100&lt;/span>&lt;span class="kt">%&lt;/span> &lt;span class="cp">!important&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nt">body&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nc">pycon-schedule&lt;/span> &lt;span class="p">.&lt;/span>&lt;span class="nc">calendar&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">left&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="kc">auto&lt;/span> &lt;span class="cp">!important&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">width&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="mi">100&lt;/span>&lt;span class="kt">%&lt;/span> &lt;span class="cp">!important&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nt">body&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nc">pycon-schedule&lt;/span> &lt;span class="p">.&lt;/span>&lt;span class="nc">slot&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">padding&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="mi">5&lt;/span>&lt;span class="kt">px&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">@&lt;/span>&lt;span class="k">media&lt;/span> &lt;span class="nt">print&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">a&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="nd">after&lt;/span> &lt;span class="p">{&lt;/span> &lt;span class="k">content&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="s1">&amp;#39;&amp;#39;&lt;/span>&lt;span class="p">;&lt;/span> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">a&lt;/span>&lt;span class="o">[&lt;/span>&lt;span class="nt">href&lt;/span>&lt;span class="o">]&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="nd">after&lt;/span> &lt;span class="p">{&lt;/span> &lt;span class="k">content&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="kc">none&lt;/span> &lt;span class="cp">!important&lt;/span>&lt;span class="p">;&lt;/span> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;ol start="4">
&lt;li>Paste this JavaScript into the lower box:&lt;/li>
&lt;/ol>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-js" data-lang="js">&lt;span class="line">&lt;span class="cl">&lt;span class="nx">$&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nb">document&lt;/span>&lt;span class="p">).&lt;/span>&lt;span class="nx">ready&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="kd">function&lt;/span> &lt;span class="p">()&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">if&lt;/span> &lt;span class="p">(&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nb">window&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">location&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">pathname&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">match&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s2">&amp;#34;2024/schedule/&amp;#34;&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="o">&amp;amp;&amp;amp;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="o">!&lt;/span>&lt;span class="nb">window&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">location&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">pathname&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">match&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s2">&amp;#34;2024/schedule/presentation/&amp;#34;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">)&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">$&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s2">&amp;#34;body&amp;#34;&lt;/span>&lt;span class="p">).&lt;/span>&lt;span class="nx">addClass&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s2">&amp;#34;pycon-schedule&amp;#34;&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">});&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;ol start="5">
&lt;li>Print!&lt;/li>
&lt;/ol>
&lt;p>It&amp;rsquo;ll run on any of the &lt;code>https://us.pycon.org/2024/schedule/*&lt;/code> pages, but not the
individual presentation pages such as
&lt;code>https://us.pycon.org/2024/schedule/presentation/61/&lt;/code>&lt;/p>
&lt;p>It&amp;rsquo;s not perfect, the right edge is slightly cut off, but it&amp;rsquo;s more printable than the
original.&lt;/p>
&lt;p>Once printed, you can click the Styler icon and the &lt;code>x&lt;/code> button to disable Styler for the
site so you can browse the original version.&lt;/p>
&lt;p>See also:&lt;/p>
&lt;ul>
&lt;li>
 
 &lt;a href="https://hugovk.dev/blog/2023/printable-pycon-2023-schedule/">Printable PyCon 2023 schedule&lt;/a>&lt;/li>
&lt;/ul></description></item><item><title>Help us test free-threaded Python without the GIL</title><link>https://hugovk.dev/blog/2023/help-us-test-free-threaded-python-without-the-gil/</link><pubDate>Fri, 10 May 2024 12:18:27 +0000</pubDate><guid>https://hugovk.dev/blog/2023/help-us-test-free-threaded-python-without-the-gil/</guid><description>&lt;p>Python 3.13 is &lt;a href="https://peps.python.org/pep-0719/" target="_blank" rel="noreferrer">due out in October 2024&lt;/a> and work is
underway to implement &lt;em>experimental support&lt;/em> for
&lt;a href="https://peps.python.org/pep-0703/" target="_blank" rel="noreferrer">PEP 703 - Making the Global Interpreter Lock Optional in CPython&lt;/a>.&lt;/p>
&lt;p>See also
&lt;a href="https://docs.python.org/3.13/whatsnew/3.13.html#free-threaded-cpython" target="_blank" rel="noreferrer">Free-threaded CPython&lt;/a>
in &amp;ldquo;What&amp;rsquo;s New in Python 3.13?&amp;rdquo;&lt;/p>
&lt;p>As the Steering Council noted in their
&lt;a href="https://discuss.python.org/t/pep-703-making-the-global-interpreter-lock-optional-in-cpython-acceptance/37075?u=hugovk" target="_blank" rel="noreferrer">acceptance of the PEP&lt;/a>,
to succeed it&amp;rsquo;s important to have community support.&lt;/p>
&lt;p>Projects will need to test their code with free-threaded (aka &amp;ldquo;nogil&amp;rdquo; but
&lt;a href="https://discuss.python.org/t/pep-703-making-the-global-interpreter-lock-optional-in-cpython-acceptance/37075?u=hugovk" target="_blank" rel="noreferrer">don&amp;rsquo;t call it that!&lt;/a>)
Python builds to help us find bugs in CPython, and to check their code is compatible.&lt;/p>
&lt;p>Here&amp;rsquo;s some ways to test.&lt;/p>
&lt;ul>
&lt;li>Official installers&lt;/li>
&lt;li>Build it yourself&lt;/li>
&lt;li>deadsnakes&lt;/li>
&lt;li>GitHub Actions?&lt;/li>
&lt;li>Fedora&lt;/li>
&lt;/ul>
&lt;h2 id="official-installers" class="relative group">Official installers &lt;span class="absolute top-0 w-6 transition-opacity opacity-0 -start-6 not-prose group-hover:opacity-100">&lt;a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700" style="text-decoration-line: none !important;" href="#official-installers" aria-label="Anchor">#&lt;/a>&lt;/span>&lt;/h2>&lt;p>The official macOS (starting in beta 2) and Windows installers has an option to install
the free-threading binaries, which also installs &lt;code>python3.13t&lt;/code> alongside the regular
&lt;code>python3.13&lt;/code>:&lt;/p>
&lt;ul>
&lt;li>&lt;a href="https://github.com/python/cpython/issues/120098" target="_blank" rel="noreferrer">python/cpython#120098&lt;/a>&lt;/li>
&lt;li>&lt;a href="https://docs.python.org/3.13/using/windows.html#installing-free-threaded-binaries" target="_blank" rel="noreferrer">https://docs.python.org/3.13/using/windows.html#installing-free-threaded-binaries&lt;/a>&lt;/li>
&lt;/ul>
&lt;h2 id="build-it-yourself" class="relative group">Build it yourself &lt;span class="absolute top-0 w-6 transition-opacity opacity-0 -start-6 not-prose group-hover:opacity-100">&lt;a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700" style="text-decoration-line: none !important;" href="#build-it-yourself" aria-label="Anchor">#&lt;/a>&lt;/span>&lt;/h2>&lt;p>Check out the CPython Git repo and &lt;a href="https://devguide.python.org/" target="_blank" rel="noreferrer">build yourself&lt;/a> using
the
&lt;a href="https://docs.python.org/3.13/using/configure.html#cmdoption-disable-gil" target="_blank" rel="noreferrer">&lt;code>--disable-gil&lt;/code> configuration flag&lt;/a>.&lt;/p>
&lt;p>For example, on macOS I run:&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-console" data-lang="console">&lt;span class="line">&lt;span class="cl">&lt;span class="gp">$&lt;/span> &lt;span class="nv">GDBM_CFLAGS&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s2">&amp;#34;-I&lt;/span>&lt;span class="k">$(&lt;/span>brew --prefix gdbm&lt;span class="k">)&lt;/span>&lt;span class="s2">/include&amp;#34;&lt;/span> &lt;span class="se">\
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="se">&lt;/span>&lt;span class="go"> GDBM_LIBS=&amp;#34;-L$(brew --prefix gdbm)/lib -lgdbm&amp;#34; \
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="go"> ./configure --config-cache \
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="go"> --with-system-libmpdec \
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="go"> --with-openssl=&amp;#34;$(brew --prefix openssl@3.0)&amp;#34; \
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="go"> --disable-gil &amp;amp;&amp;amp; make -s -j10
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="go">&lt;/span>&lt;span class="gp">$&lt;/span> ./python.exe -c &lt;span class="s2">&amp;#34;import sysconfig; print(sysconfig.get_config_var(&amp;#39;Py_GIL_DISABLED&amp;#39;))&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="go">1
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="go">&lt;/span>&lt;span class="gp">$&lt;/span> ./python.exe -c &lt;span class="s2">&amp;#34;import sys; print(sys._is_gil_enabled())&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="go">False
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>More details in the devguide:&lt;/p>
&lt;ul>
&lt;li>&lt;a href="https://devguide.python.org/getting-started/setup-building/" target="_blank" rel="noreferrer">https://devguide.python.org/getting-started/setup-building/&lt;/a>&lt;/li>
&lt;/ul>
&lt;h2 id="github-actions-deadsnakesaction" class="relative group">GitHub Actions: deadsnakes/action &lt;span class="absolute top-0 w-6 transition-opacity opacity-0 -start-6 not-prose group-hover:opacity-100">&lt;a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700" style="text-decoration-line: none !important;" href="#github-actions-deadsnakesaction" aria-label="Anchor">#&lt;/a>&lt;/span>&lt;/h2>&lt;p>We can use the &lt;a href="https://github.com/deadsnakes/action" target="_blank" rel="noreferrer">deadsnakes/action&lt;/a> to test Ubuntu.&lt;/p>
&lt;p>For example:&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-yaml" data-lang="yaml">&lt;span class="line">&lt;span class="cl">&lt;span class="nt">on&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="l">push, pull_request, workflow_dispatch]&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="nt">jobs&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">build&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">runs-on&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">ubuntu-latest&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">strategy&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">matrix&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">python-version&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="m">3.12&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="m">3.13&lt;/span>-&lt;span class="l">dev]&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">name&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">main&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">steps&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>- &lt;span class="nt">uses&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">actions/checkout@v4&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>- &lt;span class="nt">uses&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">actions/setup-python@v5&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">if&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="s2">&amp;#34;!endsWith(matrix.python-version, &amp;#39;-dev&amp;#39;)&amp;#34;&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">with&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">python-version&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">${{ matrix.python-version }}&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>- &lt;span class="nt">uses&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">deadsnakes/action@v3.1.0&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">if&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">endsWith(matrix.python-version, &amp;#39;-dev&amp;#39;)&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">with&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">python-version&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">${{ matrix.python-version }}&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">nogil&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="kc">true&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>- &lt;span class="nt">run&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">|&lt;/span>&lt;span class="sd">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="sd"> python --version --version
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="sd"> which python
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="sd"> python -c &amp;#34;import sysconfig; print(sysconfig.get_config_var(&amp;#39;Py_GIL_DISABLED&amp;#39;))&amp;#34;
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="sd"> python -c &amp;#34;import sys; print(sys._is_gil_enabled())&amp;#34;&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;h2 id="github-actions-actionssetup-python" class="relative group">GitHub Actions: actions/setup-python &lt;span class="absolute top-0 w-6 transition-opacity opacity-0 -start-6 not-prose group-hover:opacity-100">&lt;a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700" style="text-decoration-line: none !important;" href="#github-actions-actionssetup-python" aria-label="Anchor">#&lt;/a>&lt;/span>&lt;/h2>&lt;p>I&amp;rsquo;ve asked for support at
&lt;a href="https://github.com/actions/setup-python/issues/771" target="_blank" rel="noreferrer">actions/setup-python#771&lt;/a>, they&amp;rsquo;re
looking into it ðŸ¤ž&lt;/p>
&lt;p>In the meantime, give it an upvote, and use deadsnakes/action â¤´ï¸&lt;/p>
&lt;h2 id="deadsnakes-ppa" class="relative group">deadsnakes: PPA &lt;span class="absolute top-0 w-6 transition-opacity opacity-0 -start-6 not-prose group-hover:opacity-100">&lt;a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700" style="text-decoration-line: none !important;" href="#deadsnakes-ppa" aria-label="Anchor">#&lt;/a>&lt;/span>&lt;/h2>&lt;p>The deadsnakes project provides Personal Package Archives of Python packaged for Ubuntu,
included free-threaded builds.&lt;/p>
&lt;p>For example, &lt;code>python3.13-nogil&lt;/code> under &lt;code>python3.13 - 3.13.0~a2-1+focal1&lt;/code> and
&lt;code>python3.13 - 3.13.0~a2-1+jammy1&lt;/code> at
&lt;a href="https://launchpad.net/~deadsnakes/&amp;#43;archive/ubuntu/ppa/&amp;#43;packages" target="_blank" rel="noreferrer">https://launchpad.net/~deadsnakes/+archive/ubuntu/ppa/+packages&lt;/a>&lt;/p>
&lt;h2 id="fedora" class="relative group">Fedora &lt;span class="absolute top-0 w-6 transition-opacity opacity-0 -start-6 not-prose group-hover:opacity-100">&lt;a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700" style="text-decoration-line: none !important;" href="#fedora" aria-label="Anchor">#&lt;/a>&lt;/span>&lt;/h2>&lt;p>Fedora uses the &lt;code>python3.13t&lt;/code> executable name
&lt;a href="https://github.com/python/steering-council/issues/221#issuecomment-1841593283" target="_blank" rel="noreferrer">as decided by the Steering Council&lt;/a>:&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-console" data-lang="console">&lt;span class="line">&lt;span class="cl">&lt;span class="gp">$&lt;/span> &lt;span class="c1"># Install&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="gp">$&lt;/span> sudo dnf install python3.13-freethreading
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="gp">$&lt;/span> &lt;span class="c1"># Run&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="gp">$&lt;/span> /usr/bin/python3.13t -c &lt;span class="s2">&amp;#34;import sysconfig; print(sysconfig.get_config_var(&amp;#39;Py_GIL_DISABLED&amp;#39;))&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="go">1
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="go">&lt;/span>&lt;span class="gp">$&lt;/span> /usr/bin/python3.13t -c &lt;span class="s2">&amp;#34;import sys; print(sys._is_gil_enabled())&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="go">False
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;h2 id="how-to-check-your-build" class="relative group">How to check your build &lt;span class="absolute top-0 w-6 transition-opacity opacity-0 -start-6 not-prose group-hover:opacity-100">&lt;a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700" style="text-decoration-line: none !important;" href="#how-to-check-your-build" aria-label="Anchor">#&lt;/a>&lt;/span>&lt;/h2>&lt;p>To confirm if you&amp;rsquo;re using a free-threaded build, check the double &lt;code>--version&lt;/code> option
(starting in beta 2):&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-console" data-lang="console">&lt;span class="line">&lt;span class="cl">&lt;span class="gp">$&lt;/span> &lt;span class="c1"># Regular build&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="gp">$&lt;/span> python3.13 --version --version
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="go">Python 3.13.0b2 (v3.13.0b2:3a83b172af, Jun 5 2024, 12:50:24) [Clang 15.0.0 (clang-1500.3.9.4)]
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="go">&lt;/span>&lt;span class="gp">$&lt;/span> &lt;span class="c1"># Free-threaded build&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="gp">$&lt;/span> python3.13t --version --version
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="go">Python 3.13.0b2 experimental free-threading build (v3.13.0b2:3a83b172af, Jun 5 2024, 12:57:31) [Clang 15.0.0 (clang-1500.3.9.4)]
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>Or the &lt;code>Py_GIL_DISABLED&lt;/code> macro:&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-console" data-lang="console">&lt;span class="line">&lt;span class="cl">&lt;span class="gp">$&lt;/span> &lt;span class="c1"># Regular build&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="gp">$&lt;/span> python3.13 -c &lt;span class="s2">&amp;#34;import sysconfig; print(sysconfig.get_config_var(&amp;#39;Py_GIL_DISABLED&amp;#39;))&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="go">0
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="go">&lt;/span>&lt;span class="gp">$&lt;/span> &lt;span class="c1"># Free-threaded build&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="gp">$&lt;/span> python3.13t -c &lt;span class="s2">&amp;#34;import sysconfig; print(sysconfig.get_config_var(&amp;#39;Py_GIL_DISABLED&amp;#39;))&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="go">1
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>By default, the GIL is disabled for free-threaded builds, and can be re-enabled by
setting the &lt;code>PYTHON_GIL&lt;/code> environment variable to &lt;code>1&lt;/code> or running Python with &lt;code>-X gil 1&lt;/code>.
You can check with &lt;code>sys._is_gil_enabled()&lt;/code>:&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-console" data-lang="console">&lt;span class="line">&lt;span class="cl">&lt;span class="gp">$&lt;/span> &lt;span class="c1"># Regular build: GIL is always enabled&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="gp">$&lt;/span> python3.13 -c &lt;span class="s2">&amp;#34;import sys; print(sys._is_gil_enabled())&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="go">True
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="go">&lt;/span>&lt;span class="gp">$&lt;/span> &lt;span class="c1"># Free-threaded build: GIL is disabled by default&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="gp">$&lt;/span> python3.13t -c &lt;span class="s2">&amp;#34;import sys; print(sys._is_gil_enabled())&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="go">False
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="go">&lt;/span>&lt;span class="gp">$&lt;/span> &lt;span class="c1"># Free-threaded build: re-enable with -X&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="gp">$&lt;/span> python3.13t -X &lt;span class="nv">gil&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="m">1&lt;/span> -c &lt;span class="s2">&amp;#34;import sys; print(sys._is_gil_enabled())&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="go">True
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="go">&lt;/span>&lt;span class="gp">$&lt;/span> &lt;span class="c1"># Free-threaded build: re-enable with env var&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="gp">$&lt;/span> &lt;span class="nv">PYTHON_GIL&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="m">1&lt;/span> python3.13t -c &lt;span class="s2">&amp;#34;import sys; print(sys._is_gil_enabled())&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="go">True
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>References:&lt;/p>
&lt;ul>
&lt;li>&lt;a href="https://docs.python.org/3.13/using/configure.html#cmdoption-disable-gil" target="_blank" rel="noreferrer">https://docs.python.org/3.13/using/configure.html#cmdoption-disable-gil&lt;/a>&lt;/li>
&lt;li>&lt;a href="https://docs.python.org/3.13/using/cmdline.html#envvar-PYTHON_GIL" target="_blank" rel="noreferrer">https://docs.python.org/3.13/using/cmdline.html#envvar-PYTHON_GIL&lt;/a>&lt;/li>
&lt;li>&lt;a href="https://docs.python.org/3.13/using/cmdline.html#cmdoption-X" target="_blank" rel="noreferrer">https://docs.python.org/3.13/using/cmdline.html#cmdoption-X&lt;/a>&lt;/li>
&lt;/ul>
&lt;h2 id="see-also" class="relative group">See also &lt;span class="absolute top-0 w-6 transition-opacity opacity-0 -start-6 not-prose group-hover:opacity-100">&lt;a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700" style="text-decoration-line: none !important;" href="#see-also" aria-label="Anchor">#&lt;/a>&lt;/span>&lt;/h2>&lt;ul>
&lt;li>&lt;a href="../../2024/help-test-python-313/">Help test Python 3.13!&lt;/a>&lt;/li>
&lt;li>&lt;a href="https://docs.python.org/3.13/howto/free-threading-extensions.html" target="_blank" rel="noreferrer">C API Extension Support for Free Threading&lt;/a>&lt;/li>
&lt;li>&lt;a href="https://labs.quansight.org/blog/free-threaded-python-rollout" target="_blank" rel="noreferrer">Free-threaded CPython is ready to experiment with!&lt;/a>&lt;/li>
&lt;li>&lt;a href="https://py-free-threading.github.io/" target="_blank" rel="noreferrer">py-free-threading&lt;/a>&lt;/li>
&lt;li>&lt;a href="https://github.com/Quansight-Labs/free-threaded-compatibility" target="_blank" rel="noreferrer">Improving Ecosystem Compatibility with Free-Threaded Python&lt;/a>&lt;/li>
&lt;/ul>
&lt;hr>
&lt;p>&lt;small>Header photo:
&amp;ldquo;&lt;a target="_blank" rel="noopener noreferrer" href="https://www.flickr.com/photos/nlmhmd/8616809942/">George
Mayerle test chart&lt;/a>&amp;rdquo; by
&lt;a target="_blank" rel="noopener noreferrer" href="https://www.flickr.com/people/nlmhmd/">US
National Library of Medicine&lt;/a>, with
&lt;a target="_blank" rel="noopener noreferrer" href="https://www.flickr.com/commons/usage/">no
known copyright restrictions&lt;/a>.&lt;/small>&lt;/p></description></item><item><title>Sphinx docs: How to activate tabs for your OS</title><link>https://hugovk.dev/blog/2024/sphinx-docs-how-to-activate-tabs-for-your-os/</link><pubDate>Tue, 02 Apr 2024 18:41:30 +0000</pubDate><guid>https://hugovk.dev/blog/2024/sphinx-docs-how-to-activate-tabs-for-your-os/</guid><description>&lt;p>On the &lt;a href="https://devguide.python.org/" target="_blank" rel="noreferrer">Python Developer&amp;rsquo;s Guide&lt;/a> and
&lt;a href="https://pillow.readthedocs.io/en/latest/installation/basic-installation.html" target="_blank" rel="noreferrer">Pillow documentation&lt;/a>
we have some pages with tabs for different operating systems:&lt;/p>
&lt;p>





&lt;figure>
 
 








 
 &lt;picture
 class="mx-auto my-0 rounded-md"
 
 >
 
 
 
 
 &lt;source
 
 srcset="https://hugovk.dev/blog/2024/sphinx-docs-how-to-activate-tabs-for-your-os/knze2ghlj0qmjucz354t_hu_1541441e45a7fc79.webp 330w,/blog/2024/sphinx-docs-how-to-activate-tabs-for-your-os/knze2ghlj0qmjucz354t_hu_1b9f3b8440668f33.webp 660w
 
 ,/blog/2024/sphinx-docs-how-to-activate-tabs-for-your-os/knze2ghlj0qmjucz354t_hu_4f1c1d8c2605b4a2.webp 1024w
 
 
 ,/blog/2024/sphinx-docs-how-to-activate-tabs-for-your-os/knze2ghlj0qmjucz354t_hu_99868368c07d7cd7.webp 1320w
 "
 
 sizes="100vw"
 type="image/webp"
 />
 
 &lt;img
 width="1550"
 height="776"
 class="mx-auto my-0 rounded-md"
 alt="Screenshot showing instructions how to build Python. Some parts have Unix, macOS and Windows tabs. The macOS tab is active, showing a configure command to run in your terminal. Underneath is a second step with its own tabs and a macOS command. There&amp;rsquo;s a macOS-specific note underneath."
 loading="lazy" decoding="async"
 
 src="https://hugovk.dev/blog/2024/sphinx-docs-how-to-activate-tabs-for-your-os/knze2ghlj0qmjucz354t_hu_af735922a8dc1b5f.png"
 srcset="https://hugovk.dev/blog/2024/sphinx-docs-how-to-activate-tabs-for-your-os/knze2ghlj0qmjucz354t_hu_2dbcf2fe4b62a9be.png 330w,/blog/2024/sphinx-docs-how-to-activate-tabs-for-your-os/knze2ghlj0qmjucz354t_hu_af735922a8dc1b5f.png 660w
 
 ,/blog/2024/sphinx-docs-how-to-activate-tabs-for-your-os/knze2ghlj0qmjucz354t_hu_40864b97f3d19988.png 1024w
 
 
 ,/blog/2024/sphinx-docs-how-to-activate-tabs-for-your-os/knze2ghlj0qmjucz354t_hu_8174716000619f50.png 1320w
 "
 sizes="100vw"
 
 />
 &lt;/picture>
 


&lt;/figure>
&lt;/p>
&lt;p>It&amp;rsquo;s possible to add some JavaScript so that the matching tab is activated based on the
visitor&amp;rsquo;s operating system.&lt;/p>
&lt;p>Here&amp;rsquo;s how!&lt;/p>
&lt;h2 id="sphinx-inline-tabs" class="relative group">Sphinx Inline Tabs &lt;span class="absolute top-0 w-6 transition-opacity opacity-0 -start-6 not-prose group-hover:opacity-100">&lt;a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700" style="text-decoration-line: none !important;" href="#sphinx-inline-tabs" aria-label="Anchor">#&lt;/a>&lt;/span>&lt;/h2>&lt;p>First add the &lt;a href="https://github.com/pradyunsg/sphinx-inline-tabs" target="_blank" rel="noreferrer">Sphinx Inline Tabs&lt;/a>
extension to your docs'
&lt;a href="https://github.com/python/devguide/blob/d92fda3beb5506eb42d53fee1c52d31180e9d77a/requirements.txt#L4" target="_blank" rel="noreferrer">&lt;code>requirements.txt&lt;/code>&lt;/a>:&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-txt" data-lang="txt">&lt;span class="line">&lt;span class="cl"># requirements.txt
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">sphinx-inline-tabs&amp;gt;=2023.4.21
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;h1 id="javascript" class="relative group">JavaScript &lt;span class="absolute top-0 w-6 transition-opacity opacity-0 -start-6 not-prose group-hover:opacity-100">&lt;a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700" style="text-decoration-line: none !important;" href="#javascript" aria-label="Anchor">#&lt;/a>&lt;/span>&lt;/h1>&lt;p>Next, add
&lt;a href="https://github.com/python/devguide/blob/d92fda3beb5506eb42d53fee1c52d31180e9d77a/_static/activate_tab.js" target="_blank" rel="noreferrer">&lt;code>activate_tab.js&lt;/code>&lt;/a>
to your &lt;code>_static/&lt;/code> directory:&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-js" data-lang="js">&lt;span class="line">&lt;span class="cl">&lt;span class="c1">// activate_tab.js
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">// Based on https://stackoverflow.com/a/38241481/724176
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="kd">function&lt;/span> &lt;span class="nx">getOS&lt;/span>&lt;span class="p">()&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kr">const&lt;/span> &lt;span class="nx">userAgent&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nb">window&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">navigator&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">userAgent&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">platform&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nb">window&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">navigator&lt;/span>&lt;span class="o">?&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">userAgentData&lt;/span>&lt;span class="o">?&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">platform&lt;/span> &lt;span class="o">||&lt;/span> &lt;span class="nb">window&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">navigator&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">platform&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">macosPlatforms&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="p">[&lt;/span>&lt;span class="s2">&amp;#34;macOS&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="s2">&amp;#34;Macintosh&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="s2">&amp;#34;MacIntel&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="s2">&amp;#34;MacPPC&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="s2">&amp;#34;Mac68K&amp;#34;&lt;/span>&lt;span class="p">],&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">windowsPlatforms&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="p">[&lt;/span>&lt;span class="s2">&amp;#34;Win32&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="s2">&amp;#34;Win64&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="s2">&amp;#34;Windows&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="s2">&amp;#34;WinCE&amp;#34;&lt;/span>&lt;span class="p">],&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">iosPlatforms&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="p">[&lt;/span>&lt;span class="s2">&amp;#34;iPhone&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="s2">&amp;#34;iPad&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="s2">&amp;#34;iPod&amp;#34;&lt;/span>&lt;span class="p">];&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">if&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="nx">macosPlatforms&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">includes&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">platform&lt;/span>&lt;span class="p">))&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">return&lt;/span> &lt;span class="s2">&amp;#34;macOS&amp;#34;&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span> &lt;span class="k">else&lt;/span> &lt;span class="k">if&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="nx">iosPlatforms&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">includes&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">platform&lt;/span>&lt;span class="p">))&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">return&lt;/span> &lt;span class="s2">&amp;#34;iOS&amp;#34;&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span> &lt;span class="k">else&lt;/span> &lt;span class="k">if&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="nx">windowsPlatforms&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">includes&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">platform&lt;/span>&lt;span class="p">))&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">return&lt;/span> &lt;span class="s2">&amp;#34;Windows&amp;#34;&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span> &lt;span class="k">else&lt;/span> &lt;span class="k">if&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="sr">/Android/&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">test&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">userAgent&lt;/span>&lt;span class="p">))&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">return&lt;/span> &lt;span class="s2">&amp;#34;Android&amp;#34;&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span> &lt;span class="k">else&lt;/span> &lt;span class="k">if&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="sr">/Linux/&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">test&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">platform&lt;/span>&lt;span class="p">))&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">return&lt;/span> &lt;span class="s2">&amp;#34;Unix&amp;#34;&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">return&lt;/span> &lt;span class="s2">&amp;#34;unknown&amp;#34;&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kd">function&lt;/span> &lt;span class="nx">activateTab&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">tabName&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// Find all label elements containing the specified tab name
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="kr">const&lt;/span> &lt;span class="nx">labels&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nb">document&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">querySelectorAll&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s2">&amp;#34;.tab-label&amp;#34;&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">labels&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">forEach&lt;/span>&lt;span class="p">((&lt;/span>&lt;span class="nx">label&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">=&amp;gt;&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">if&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="nx">label&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">textContent&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">includes&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">tabName&lt;/span>&lt;span class="p">))&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// Find the associated input element using the &amp;#39;for&amp;#39; attribute
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="kr">const&lt;/span> &lt;span class="nx">tabInputId&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">label&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">getAttribute&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s2">&amp;#34;for&amp;#34;&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kr">const&lt;/span> &lt;span class="nx">tabInput&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nb">document&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">getElementById&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">tabInputId&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// Check if the input element exists before attempting to set the &amp;#34;checked&amp;#34; attribute
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="k">if&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="nx">tabInput&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// Activate the tab by setting its &amp;#34;checked&amp;#34; attribute to true
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="nx">tabInput&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">checked&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="kc">true&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">});&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;h1 id="confpy" class="relative group">&lt;code>conf.py&lt;/code> &lt;span class="absolute top-0 w-6 transition-opacity opacity-0 -start-6 not-prose group-hover:opacity-100">&lt;a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700" style="text-decoration-line: none !important;" href="#confpy" aria-label="Anchor">#&lt;/a>&lt;/span>&lt;/h1>&lt;p>Add the
&lt;a href="https://github.com/python/devguide/blob/d92fda3beb5506eb42d53fee1c52d31180e9d77a/conf.py#L15" target="_blank" rel="noreferrer">extension&lt;/a>
and
&lt;a href="https://github.com/python/devguide/blob/d92fda3beb5506eb42d53fee1c52d31180e9d77a/conf.py#L49-L51" target="_blank" rel="noreferrer">JavaScript&lt;/a>
to your &lt;code>conf.py&lt;/code>:&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-python" data-lang="python">&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># conf.py&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">extensions&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="p">[&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="s2">&amp;#34;sphinx_inline_tabs&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">]&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">html_js_files&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="p">[&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="s2">&amp;#34;activate_tab.js&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">]&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;h2 id="restructuredtext" class="relative group">reStructuredText &lt;span class="absolute top-0 w-6 transition-opacity opacity-0 -start-6 not-prose group-hover:opacity-100">&lt;a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700" style="text-decoration-line: none !important;" href="#restructuredtext" aria-label="Anchor">#&lt;/a>&lt;/span>&lt;/h2>&lt;p>Almost there!&lt;/p>
&lt;p>Add tabs to the reStructuredText files.&lt;/p>
&lt;p>For
&lt;a href="https://github.com/python/devguide/blob/d92fda3beb5506eb42d53fee1c52d31180e9d77a/testing/run-write-tests.rst#L58-L74" target="_blank" rel="noreferrer">example&lt;/a>,
here we have three different commands; one for Unix, one for macOS, and one for Windows:&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-reStructuredText" data-lang="reStructuredText">&lt;span class="line">&lt;span class="cl">&lt;span class="p">..&lt;/span> &lt;span class="ow">tab&lt;/span>&lt;span class="p">::&lt;/span> Unix&lt;span class="err">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="err">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="err">&lt;/span>&lt;span class="p"> ..&lt;/span> &lt;span class="ow">code-block&lt;/span>&lt;span class="p">::&lt;/span> &lt;span class="k">shell&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> ./python -m &lt;span class="nb">test&lt;/span> -h
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">..&lt;/span> &lt;span class="ow">tab&lt;/span>&lt;span class="p">::&lt;/span> macOS&lt;span class="err">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="err">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="err">&lt;/span>&lt;span class="p"> ..&lt;/span> &lt;span class="ow">code-block&lt;/span>&lt;span class="p">::&lt;/span> &lt;span class="k">shell&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> ./python.exe -m &lt;span class="nb">test&lt;/span> -h
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">..&lt;/span> &lt;span class="ow">tab&lt;/span>&lt;span class="p">::&lt;/span> Windows&lt;span class="err">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="err">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="err">&lt;/span>&lt;span class="p"> ..&lt;/span> &lt;span class="ow">code-block&lt;/span>&lt;span class="p">::&lt;/span> dosbatch&lt;span class="err">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="err">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="err">&lt;/span> .\python.bat -m test -h&lt;span class="err">
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>Finally, add the JavaScript
&lt;a href="https://github.com/python/devguide/blob/d92fda3beb5506eb42d53fee1c52d31180e9d77a/testing/run-write-tests.rst#L8-L14" target="_blank" rel="noreferrer">to the same reST page&lt;/a>
to activate the correct tab:&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-rst" data-lang="rst">&lt;span class="line">&lt;span class="cl">&lt;span class="p">..&lt;/span> &lt;span class="ow">raw&lt;/span>&lt;span class="p">::&lt;/span> html&lt;span class="err">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="err">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="err">&lt;/span> &amp;lt;script&amp;gt;&lt;span class="err">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="err">&lt;/span> document.addEventListener(&amp;#39;DOMContentLoaded&amp;#39;, function() {&lt;span class="err">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="err">&lt;/span> activateTab(getOS());&lt;span class="err">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="err">&lt;/span> });&lt;span class="err">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="err">&lt;/span> &amp;lt;/script&amp;gt;&lt;span class="err">
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>You can see the results
&lt;a href="https://devguide.python.org/testing/run-write-tests/#running" target="_blank" rel="noreferrer">here&lt;/a>. When the page
loads, the browser finds the browser name, and activates the tabs with a matching name.&lt;/p>
&lt;p>If you have many sets of tabs on a page, the corresponding OS tab will be activated for
all. And if you click on another OS tab, all the others with the same name are
activated.&lt;/p>
&lt;p>Happy tabbing!&lt;/p>
&lt;hr>
&lt;p>&lt;small>Header photo:
&amp;ldquo;&lt;a target="_blank" rel="noopener noreferrer" href="https://www.flickr.com/photos/nationalgalleries/3110282571/">The
Great Pyramid and the Sphinx&lt;/a>&amp;rdquo; by
&lt;a target="_blank" rel="noopener noreferrer" href="https://www.flickr.com/photos/nationalgalleries/">National
Galleries of Scotland&lt;/a>, with
&lt;a target="_blank" rel="noopener noreferrer" href="https://www.flickr.com/commons/usage/">no
known copyright restrictions&lt;/a>.&lt;/small>&lt;/p></description></item><item><title>TIL: exclude_also with coverage.py</title><link>https://hugovk.dev/blog/2023/til-excludealso-with-coveragepy/</link><pubDate>Mon, 06 Nov 2023 20:05:55 +0000</pubDate><guid>https://hugovk.dev/blog/2023/til-excludealso-with-coveragepy/</guid><description>&lt;p>Sometimes you have code you want to exclude from the test coverage report, because it
doesn&amp;rsquo;t really make sense to test it.&lt;/p>
&lt;p>For example, maybe you want to exclude:&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-python" data-lang="python">&lt;span class="line">&lt;span class="cl">&lt;span class="k">if&lt;/span> &lt;span class="vm">__name__&lt;/span> &lt;span class="o">==&lt;/span> &lt;span class="s2">&amp;#34;__main__&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">main&lt;/span>&lt;span class="p">()&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>The &lt;em>old&lt;/em> advice was to add something like this to &lt;code>.coveragerc&lt;/code>:&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-ini" data-lang="ini">&lt;span class="line">&lt;span class="cl">&lt;span class="k">[report]&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># Regexes for lines to exclude from consideration&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="na">exclude_lines&lt;/span> &lt;span class="o">=&lt;/span>&lt;span class="s">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="s"> # Have to re-enable the standard pragma:
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="s"> pragma: no cover&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1"># Don&amp;#39;t complain if non-runnable code isn&amp;#39;t run:&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="na">if __name__&lt;/span> &lt;span class="o">=&lt;/span>&lt;span class="s">= .__main__.:&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>But since
&lt;a href="https://coverage.readthedocs.io/en/7.3.2/changes.html#version-7-2-0-2023-02-22" target="_blank" rel="noreferrer">coverage.py 7.2.0 (2023-02-22)&lt;/a>
you can use &lt;code>exclude_also&lt;/code> instead and skip that pragma:&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-ini" data-lang="ini">&lt;span class="line">&lt;span class="cl">&lt;span class="k">[report]&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># Regexes for lines to exclude from consideration&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="na">exclude_also&lt;/span> &lt;span class="o">=&lt;/span>&lt;span class="s">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="s"> # Don&amp;#39;t complain if non-runnable code isn&amp;#39;t run:
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="s"> if __name__ == .__main__.:&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>Which is:&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-diff" data-lang="diff">&lt;span class="line">&lt;span class="cl"> [report]
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> # Regexes for lines to exclude from consideration
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="gd">-exclude_lines =
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="gd">- # Have to re-enable the standard pragma:
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="gd">- pragma: no cover
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="gd">-
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="gd">&lt;/span>&lt;span class="gi">+exclude_also =
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="gi">&lt;/span> # Don&amp;#39;t complain if non-runnable code isn&amp;#39;t run:
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> if __name__ == .__main__.:
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;h2 id="thanks" class="relative group">Thanks &lt;span class="absolute top-0 w-6 transition-opacity opacity-0 -start-6 not-prose group-hover:opacity-100">&lt;a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700" style="text-decoration-line: none !important;" href="#thanks" aria-label="Anchor">#&lt;/a>&lt;/span>&lt;/h2>&lt;p>To &lt;a href="https://mastodon.social/@brianokken@fosstodon.org/111360201593749157" target="_blank" rel="noreferrer">Brian Okken&lt;/a>
for the tip.&lt;/p>
&lt;p>To &lt;a href="https://nedbatchelder.com/" target="_blank" rel="noreferrer">Ned Batchelder&lt;/a> for maintaining
&lt;a href="https://coverage.readthedocs.io" target="_blank" rel="noreferrer">Coverage.py&lt;/a>.&lt;/p>
&lt;p>To the Library of Congress and Flickr Commons for the photo of a
&lt;a href="https://www.flickr.com/photos/library_of_congress/52303625278/" target="_blank" rel="noreferrer">covered wagon&lt;/a>.&lt;/p></description></item><item><title>Why are there still so many downloads for EOL Python 3.7?</title><link>https://hugovk.dev/blog/2023/why-are-there-still-so-many-downloads-for-eol-python-37/</link><pubDate>Tue, 22 Aug 2023 19:25:29 +0000</pubDate><guid>https://hugovk.dev/blog/2023/why-are-there-still-so-many-downloads-for-eol-python-37/</guid><description>&lt;p>Python 3.7 was first released on 2018-06-27 and recently reached end-of-life on
2023-06-27 (&lt;a href="https://peps.python.org/pep-0537/" target="_blank" rel="noreferrer">PEP 537&lt;/a>).&lt;/p>
&lt;p>This means it is no longer receiving security updates and you should upgrade to a newer
version (at least 3.8, but preferably 3.11):&lt;/p>
&lt;p>





&lt;figure>
 
 








 
 &lt;picture
 class="mx-auto my-0 rounded-md"
 
 >
 
 
 
 
 &lt;source
 
 srcset="https://hugovk.dev/blog/2023/why-are-there-still-so-many-downloads-for-eol-python-37/nzjga7b8p4eo1t4ja9qd_hu_f3b68ca70e9a0955.webp 330w,/blog/2023/why-are-there-still-so-many-downloads-for-eol-python-37/nzjga7b8p4eo1t4ja9qd_hu_fe6c1f06e84563ed.webp 660w
 
 ,/blog/2023/why-are-there-still-so-many-downloads-for-eol-python-37/nzjga7b8p4eo1t4ja9qd_hu_61609ae92f4218a7.webp 1024w
 
 
 ,/blog/2023/why-are-there-still-so-many-downloads-for-eol-python-37/nzjga7b8p4eo1t4ja9qd_hu_8340c7bcea49fba2.webp 1320w
 "
 
 sizes="100vw"
 type="image/webp"
 />
 
 &lt;img
 width="1530"
 height="950"
 class="mx-auto my-0 rounded-md"
 alt="Chart showing when different Python versions reached end-of-life"
 loading="lazy" decoding="async"
 
 src="https://hugovk.dev/blog/2023/why-are-there-still-so-many-downloads-for-eol-python-37/nzjga7b8p4eo1t4ja9qd_hu_ba30ac451bef9e20.png"
 srcset="https://hugovk.dev/blog/2023/why-are-there-still-so-many-downloads-for-eol-python-37/nzjga7b8p4eo1t4ja9qd_hu_7b0f6256f424ebc5.png 330w,/blog/2023/why-are-there-still-so-many-downloads-for-eol-python-37/nzjga7b8p4eo1t4ja9qd_hu_ba30ac451bef9e20.png 660w
 
 ,/blog/2023/why-are-there-still-so-many-downloads-for-eol-python-37/nzjga7b8p4eo1t4ja9qd_hu_65d88d75c34dff07.png 1024w
 
 
 ,/blog/2023/why-are-there-still-so-many-downloads-for-eol-python-37/nzjga7b8p4eo1t4ja9qd_hu_53811bc72bebd778.png 1320w
 "
 sizes="100vw"
 
 />
 &lt;/picture>
 


&lt;/figure>
&lt;/p>
&lt;center>&lt;small>Source: &lt;a href="https://devguide.python.org/versions/">Python Developer's Guide&lt;/a>&lt;/small>&lt;/center>
&lt;P>However, if you look at download numbers from PyPI, 3.7 still accounts for a large share. 3.7 accounted for 25% of all downloads from PyPI in July 2023, compared with 27% for 3.8:
&lt;p>






 
 
&lt;figure>&lt;img src="fkoa8vurrwrj71jde2f3.png" alt="Python download share over time" class="mx-auto my-0 rounded-md" />
&lt;/figure>
&lt;/p>
&lt;center>&lt;small>Source: &lt;a href="https://hugovk.github.io/pypi-tools/charts.html">pypi-tools&lt;/a>&lt;/small>&lt;/center>
&lt;p>But why does such an old Python version have so many downloads?&lt;/p>
&lt;h2 id="all-downloads" class="relative group">All downloads &lt;span class="absolute top-0 w-6 transition-opacity opacity-0 -start-6 not-prose group-hover:opacity-100">&lt;a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700" style="text-decoration-line: none !important;" href="#all-downloads" aria-label="Anchor">#&lt;/a>&lt;/span>&lt;/h2>&lt;p>Let&amp;rsquo;s dig into the numbers using a handy tool called
&lt;a href="https://github.com/ofek/pypinfo" target="_blank" rel="noreferrer">pypinfo&lt;/a>, which helps us analyse the
&lt;a href="https://packaging.python.org/en/latest/guides/analyzing-pypi-package-downloads/" target="_blank" rel="noreferrer">PyPI data from Google BigQuery&lt;/a>.&lt;/p>
&lt;p>This command fetches all of yesterday&amp;rsquo;s downloads per Python version:&lt;/p>
&lt;p>&lt;code>pypinfo --days 1 --percent --markdown &amp;quot;&amp;quot; pyversion&lt;/code>&lt;/p>
&lt;table>
 &lt;thead>
 &lt;tr>
 &lt;th>Python version&lt;/th>
 &lt;th style="text-align: right">percent&lt;/th>
 &lt;th style="text-align: right">download count&lt;/th>
 &lt;/tr>
 &lt;/thead>
 &lt;tbody>
 &lt;tr>
 &lt;td>3.8&lt;/td>
 &lt;td style="text-align: right">25.00%&lt;/td>
 &lt;td style="text-align: right">189,678,872&lt;/td>
 &lt;/tr>
 &lt;tr>
 &lt;td>3.7&lt;/td>
 &lt;td style="text-align: right">23.35%&lt;/td>
 &lt;td style="text-align: right">177,150,010&lt;/td>
 &lt;/tr>
 &lt;tr>
 &lt;td>3.9&lt;/td>
 &lt;td style="text-align: right">20.25%&lt;/td>
 &lt;td style="text-align: right">153,663,903&lt;/td>
 &lt;/tr>
 &lt;tr>
 &lt;td>3.10&lt;/td>
 &lt;td style="text-align: right">15.52%&lt;/td>
 &lt;td style="text-align: right">117,751,108&lt;/td>
 &lt;/tr>
 &lt;tr>
 &lt;td>3.11&lt;/td>
 &lt;td style="text-align: right">6.90%&lt;/td>
 &lt;td style="text-align: right">52,381,884&lt;/td>
 &lt;/tr>
 &lt;tr>
 &lt;td>3.6&lt;/td>
 &lt;td style="text-align: right">6.29%&lt;/td>
 &lt;td style="text-align: right">47,749,879&lt;/td>
 &lt;/tr>
 &lt;tr>
 &lt;td>2.7&lt;/td>
 &lt;td style="text-align: right">2.32%&lt;/td>
 &lt;td style="text-align: right">17,602,650&lt;/td>
 &lt;/tr>
 &lt;tr>
 &lt;td>3.5&lt;/td>
 &lt;td style="text-align: right">0.23%&lt;/td>
 &lt;td style="text-align: right">1,778,388&lt;/td>
 &lt;/tr>
 &lt;tr>
 &lt;td>3.4&lt;/td>
 &lt;td style="text-align: right">0.10%&lt;/td>
 &lt;td style="text-align: right">770,135&lt;/td>
 &lt;/tr>
 &lt;tr>
 &lt;td>3.12&lt;/td>
 &lt;td style="text-align: right">0.03%&lt;/td>
 &lt;td style="text-align: right">224,223&lt;/td>
 &lt;/tr>
 &lt;tr>
 &lt;td>3.13&lt;/td>
 &lt;td style="text-align: right">0.00%&lt;/td>
 &lt;td style="text-align: right">3,920&lt;/td>
 &lt;/tr>
 &lt;tr>
 &lt;td>3.3&lt;/td>
 &lt;td style="text-align: right">0.00%&lt;/td>
 &lt;td style="text-align: right">1,165&lt;/td>
 &lt;/tr>
 &lt;tr>
 &lt;td>2.8&lt;/td>
 &lt;td style="text-align: right">0.00%&lt;/td>
 &lt;td style="text-align: right">57&lt;/td>
 &lt;/tr>
 &lt;tr>
 &lt;td>3.2&lt;/td>
 &lt;td style="text-align: right">0.00%&lt;/td>
 &lt;td style="text-align: right">35&lt;/td>
 &lt;/tr>
 &lt;tr>
 &lt;td>None&lt;/td>
 &lt;td style="text-align: right">0.00%&lt;/td>
 &lt;td style="text-align: right">3&lt;/td>
 &lt;/tr>
 &lt;tr>
 &lt;td>Total&lt;/td>
 &lt;td style="text-align: right">&lt;/td>
 &lt;td style="text-align: right">758,756,232&lt;/td>
 &lt;/tr>
 &lt;/tbody>
&lt;/table>
&lt;h2 id="all-downloads-by-os" class="relative group">All downloads by OS &lt;span class="absolute top-0 w-6 transition-opacity opacity-0 -start-6 not-prose group-hover:opacity-100">&lt;a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700" style="text-decoration-line: none !important;" href="#all-downloads-by-os" aria-label="Anchor">#&lt;/a>&lt;/span>&lt;/h2>&lt;p>But what happens if we check which distros are responsible for those downloads?&lt;/p>
&lt;p>This command gives us the top 20:&lt;/p>
&lt;p>&lt;code>pypinfo --days 1 --limit 20 --percent --markdown &amp;quot;&amp;quot; system distro pyversion&lt;/code>&lt;/p>
&lt;table>
 &lt;thead>
 &lt;tr>
 &lt;th>system name&lt;/th>
 &lt;th>distro name&lt;/th>
 &lt;th>Python version&lt;/th>
 &lt;th style="text-align: right">percent&lt;/th>
 &lt;th style="text-align: right">download count&lt;/th>
 &lt;/tr>
 &lt;/thead>
 &lt;tbody>
 &lt;tr>
 &lt;td>Linux&lt;/td>
 &lt;td>Ubuntu&lt;/td>
 &lt;td>3.8&lt;/td>
 &lt;td style="text-align: right">18.87%&lt;/td>
 &lt;td style="text-align: right">128,991,062&lt;/td>
 &lt;/tr>
 &lt;tr>
 &lt;td>Linux&lt;/td>
 &lt;td>Amazon Linux&lt;/td>
 &lt;td>3.7&lt;/td>
 &lt;td style="text-align: right">14.44%&lt;/td>
 &lt;td style="text-align: right">98,738,952&lt;/td>
 &lt;/tr>
 &lt;tr>
 &lt;td>Linux&lt;/td>
 &lt;td>Ubuntu&lt;/td>
 &lt;td>3.9&lt;/td>
 &lt;td style="text-align: right">12.14%&lt;/td>
 &lt;td style="text-align: right">83,019,828&lt;/td>
 &lt;/tr>
 &lt;tr>
 &lt;td>Linux&lt;/td>
 &lt;td>Ubuntu&lt;/td>
 &lt;td>3.10&lt;/td>
 &lt;td style="text-align: right">9.66%&lt;/td>
 &lt;td style="text-align: right">66,019,309&lt;/td>
 &lt;/tr>
 &lt;tr>
 &lt;td>Linux&lt;/td>
 &lt;td>Ubuntu&lt;/td>
 &lt;td>3.7&lt;/td>
 &lt;td style="text-align: right">5.89%&lt;/td>
 &lt;td style="text-align: right">40,257,060&lt;/td>
 &lt;/tr>
 &lt;tr>
 &lt;td>Linux&lt;/td>
 &lt;td>Debian GNU/Linux&lt;/td>
 &lt;td>3.8&lt;/td>
 &lt;td style="text-align: right">5.70%&lt;/td>
 &lt;td style="text-align: right">38,958,367&lt;/td>
 &lt;/tr>
 &lt;tr>
 &lt;td>Linux&lt;/td>
 &lt;td>Debian GNU/Linux&lt;/td>
 &lt;td>3.9&lt;/td>
 &lt;td style="text-align: right">5.63%&lt;/td>
 &lt;td style="text-align: right">38,482,436&lt;/td>
 &lt;/tr>
 &lt;tr>
 &lt;td>Linux&lt;/td>
 &lt;td>Debian GNU/Linux&lt;/td>
 &lt;td>3.7&lt;/td>
 &lt;td style="text-align: right">4.25%&lt;/td>
 &lt;td style="text-align: right">29,035,532&lt;/td>
 &lt;/tr>
 &lt;tr>
 &lt;td>Linux&lt;/td>
 &lt;td>Debian GNU/Linux&lt;/td>
 &lt;td>3.10&lt;/td>
 &lt;td style="text-align: right">4.15%&lt;/td>
 &lt;td style="text-align: right">28,348,346&lt;/td>
 &lt;/tr>
 &lt;tr>
 &lt;td>Linux&lt;/td>
 &lt;td>Debian GNU/Linux&lt;/td>
 &lt;td>3.6&lt;/td>
 &lt;td style="text-align: right">3.14%&lt;/td>
 &lt;td style="text-align: right">21,441,883&lt;/td>
 &lt;/tr>
 &lt;tr>
 &lt;td>Linux&lt;/td>
 &lt;td>Ubuntu&lt;/td>
 &lt;td>3.11&lt;/td>
 &lt;td style="text-align: right">3.01%&lt;/td>
 &lt;td style="text-align: right">20,570,619&lt;/td>
 &lt;/tr>
 &lt;tr>
 &lt;td>Linux&lt;/td>
 &lt;td>Debian GNU/Linux&lt;/td>
 &lt;td>3.11&lt;/td>
 &lt;td style="text-align: right">2.72%&lt;/td>
 &lt;td style="text-align: right">18,588,584&lt;/td>
 &lt;/tr>
 &lt;tr>
 &lt;td>Linux&lt;/td>
 &lt;td>Amazon Linux&lt;/td>
 &lt;td>3.9&lt;/td>
 &lt;td style="text-align: right">2.43%&lt;/td>
 &lt;td style="text-align: right">16,593,595&lt;/td>
 &lt;/tr>
 &lt;tr>
 &lt;td>Linux&lt;/td>
 &lt;td>CentOS Linux&lt;/td>
 &lt;td>3.6&lt;/td>
 &lt;td style="text-align: right">1.70%&lt;/td>
 &lt;td style="text-align: right">11,605,142&lt;/td>
 &lt;/tr>
 &lt;tr>
 &lt;td>Linux&lt;/td>
 &lt;td>Amazon Linux&lt;/td>
 &lt;td>3.8&lt;/td>
 &lt;td style="text-align: right">1.47%&lt;/td>
 &lt;td style="text-align: right">10,035,087&lt;/td>
 &lt;/tr>
 &lt;tr>
 &lt;td>Linux&lt;/td>
 &lt;td>Amazon Linux&lt;/td>
 &lt;td>3.10&lt;/td>
 &lt;td style="text-align: right">1.46%&lt;/td>
 &lt;td style="text-align: right">9,969,514&lt;/td>
 &lt;/tr>
 &lt;tr>
 &lt;td>Linux&lt;/td>
 &lt;td>Ubuntu&lt;/td>
 &lt;td>2.7&lt;/td>
 &lt;td style="text-align: right">1.02%&lt;/td>
 &lt;td style="text-align: right">6,960,697&lt;/td>
 &lt;/tr>
 &lt;tr>
 &lt;td>Linux&lt;/td>
 &lt;td>Amazon Linux AMI&lt;/td>
 &lt;td>3.6&lt;/td>
 &lt;td style="text-align: right">0.79%&lt;/td>
 &lt;td style="text-align: right">5,390,823&lt;/td>
 &lt;/tr>
 &lt;tr>
 &lt;td>Linux&lt;/td>
 &lt;td>Ubuntu&lt;/td>
 &lt;td>3.6&lt;/td>
 &lt;td style="text-align: right">0.79%&lt;/td>
 &lt;td style="text-align: right">5,388,370&lt;/td>
 &lt;/tr>
 &lt;tr>
 &lt;td>Windows&lt;/td>
 &lt;td>None&lt;/td>
 &lt;td>3.10&lt;/td>
 &lt;td style="text-align: right">0.76%&lt;/td>
 &lt;td style="text-align: right">5,227,519&lt;/td>
 &lt;/tr>
 &lt;tr>
 &lt;td>Total&lt;/td>
 &lt;td>&lt;/td>
 &lt;td>&lt;/td>
 &lt;td style="text-align: right">&lt;/td>
 &lt;td style="text-align: right">683,622,725&lt;/td>
 &lt;/tr>
 &lt;/tbody>
&lt;/table>
&lt;p>We can see Ubuntu with 3.8 is responsible for the largest share of 17%. (That&amp;rsquo;s fine,
3.8 is supported until 2024-10-14.)&lt;/p>
&lt;p>The next is Amazon Linux with 3.7, responsible for a whopping 15% of all downloads!&lt;/p>
&lt;p>The others responsible for 3.7 have a much lower share: Ubuntu (6%) and Debian (4%).&lt;/p>
&lt;p>Tip: replace &lt;code>&amp;quot;&amp;quot;&lt;/code> in the commands above with a package name to get data for just that
package, for example:&lt;/p>
&lt;p>&lt;code>pypinfo --days 1 --limit 20 --percent --markdown requests system distro pyversion&lt;/code>&lt;/p>
&lt;hr>
&lt;p>&lt;small>Header photo: Space shuttle Discovery landing at Edwards Air Force Base,
California, 9th December, 1992
(&lt;a href="https://www.flickr.com/photos/nasacommons/30498961044" target="_blank" rel="noreferrer">source: NASA on The Commons&lt;/a>)&lt;/small>&lt;/p></description></item><item><title>Help test the Python 3.12 release candidate!</title><link>https://hugovk.dev/blog/2023/help-test-python-312-beta/</link><pubDate>Fri, 26 May 2023 12:30:43 +0000</pubDate><guid>https://hugovk.dev/blog/2023/help-test-python-312-beta/</guid><description>&lt;p>Calling all Python library maintainers! ðŸ&lt;/p>
&lt;p>The &lt;em>third and final&lt;/em> Python 3.12 release candidate is out! ðŸŽ‰&lt;/p>
&lt;p>&lt;a href="https://peps.python.org/pep-0693/#release-schedule" target="_blank" rel="noreferrer">PEP 693&lt;/a> defines the release
schedule for Python 3.12.0:&lt;/p>
&lt;ul>
&lt;li>The first release candidate came out on 6th August 2023&lt;/li>
&lt;li>The second &lt;del>and final&lt;/del> release candidate came out on 6th September 2023&lt;/li>
&lt;li>The third and final release candidate came out on 19th September 2023&lt;/li>
&lt;li>And the full release is set for &lt;strong>2nd October 2023&lt;/strong>&lt;/li>
&lt;/ul>
&lt;p>In his
&lt;a href="https://discuss.python.org/t/python-3-12-0rc3-released-honestly-the-final-release-candidate-i-swear/34093?u=hugovk" target="_blank" rel="noreferrer">announcement&lt;/a>,
Thomas Wouters, release manager for Python 3.12 and 3.13, said:&lt;/p>
&lt;blockquote>
&lt;p>We strongly encourage maintainers of third-party Python projects to prepare their
projects for 3.12 compatibilities during this phase, and where necessary publish
Python 3.12 wheels on PyPI to be ready for the final release of 3.12.0. Any binary
wheels built against Python 3.12.0rc3 will work with future versions of Python 3.12.
As always, report any issues to
&lt;a href="https://github.com/python/cpython/issues" target="_blank" rel="noreferrer">the Python bug tracker&lt;/a>.&lt;/p>&lt;/blockquote>
&lt;h2 id="test-with-312" class="relative group">Test with 3.12 &lt;span class="absolute top-0 w-6 transition-opacity opacity-0 -start-6 not-prose group-hover:opacity-100">&lt;a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700" style="text-decoration-line: none !important;" href="#test-with-312" aria-label="Anchor">#&lt;/a>&lt;/span>&lt;/h2>&lt;p>It&amp;rsquo;s now time for us library maintainers to start testing our projects with 3.12.
There&amp;rsquo;s two big benefits:&lt;/p>
&lt;ol>
&lt;li>
&lt;p>There have been
&lt;a href="https://docs.python.org/3.12/whatsnew/3.12.html#removed" target="_blank" rel="noreferrer">removals and changes&lt;/a> in
Python 3.12. Testing now helps us make our code compatible and avoid any big
surprises (for us and our users) at the big launch in October.&lt;/p>
&lt;/li>
&lt;li>
&lt;p>We might find bugs in Python itself! Reporting those will help get them fixed and
help everyone.&lt;/p>
&lt;/li>
&lt;/ol>
&lt;h2 id="how" class="relative group">How &lt;span class="absolute top-0 w-6 transition-opacity opacity-0 -start-6 not-prose group-hover:opacity-100">&lt;a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700" style="text-decoration-line: none !important;" href="#how" aria-label="Anchor">#&lt;/a>&lt;/span>&lt;/h2>&lt;h3 id="github-actions-setup-python" class="relative group">GitHub Actions: setup-python &lt;span class="absolute top-0 w-6 transition-opacity opacity-0 -start-6 not-prose group-hover:opacity-100">&lt;a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700" style="text-decoration-line: none !important;" href="#github-actions-setup-python" aria-label="Anchor">#&lt;/a>&lt;/span>&lt;/h3>&lt;p>To test the latest alpha, beta or release candidate with
&lt;a href="https://github.com/actions/setup-python#supported-version-syntax" target="_blank" rel="noreferrer">actions/setup-python&lt;/a>,
add &lt;code>3.12&lt;/code> and &lt;code>allow-prereleases: true&lt;/code> to your workflow matrix.&lt;/p>
&lt;p>For example:&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-yml" data-lang="yml">&lt;span class="line">&lt;span class="cl">&lt;span class="nt">jobs&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">test&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">runs-on&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">ubuntu-latest&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">strategy&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">fail-fast&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="kc">false&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">matrix&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">python-version&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="s2">&amp;#34;3.8&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="s2">&amp;#34;3.9&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="s2">&amp;#34;3.10&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="s2">&amp;#34;3.11&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="s2">&amp;#34;3.12&amp;#34;&lt;/span>&lt;span class="p">]&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">steps&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>- &lt;span class="nt">uses&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">actions/checkout@v4&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>- &lt;span class="nt">name&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">Set up Python ${{ matrix.python-version }}&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">uses&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">actions/setup-python@v4&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">with&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">python-version&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">${{ matrix.python-version }}&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">allow-prereleases&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="kc">true&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>(We can instead use &lt;code>3.12-dev&lt;/code> and omit &lt;code>allow-prereleases: true&lt;/code>, but I find the above
a bit neater, and when 3.12.0 final is released in October, it will continue testing
with full release versions.)&lt;/p>
&lt;h3 id="github-actions-deadsnakes" class="relative group">GitHub Actions: deadsnakes &lt;span class="absolute top-0 w-6 transition-opacity opacity-0 -start-6 not-prose group-hover:opacity-100">&lt;a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700" style="text-decoration-line: none !important;" href="#github-actions-deadsnakes" aria-label="Anchor">#&lt;/a>&lt;/span>&lt;/h3>&lt;p>For the bleeding edge, we can use
&lt;a href="https://github.com/deadsnakes/action" target="_blank" rel="noreferrer">deadsnakes/action&lt;/a> to test the latest nightly
build:&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-yml" data-lang="yml">&lt;span class="line">&lt;span class="cl">&lt;span class="nt">jobs&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">test&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">runs-on&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">ubuntu-latest&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">strategy&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">fail-fast&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="kc">false&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">matrix&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">python-version&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="s2">&amp;#34;3.8&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="s2">&amp;#34;3.9&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="s2">&amp;#34;3.10&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="s2">&amp;#34;3.11&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="s2">&amp;#34;3.12-dev&amp;#34;&lt;/span>&lt;span class="p">]&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">steps&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>- &lt;span class="nt">uses&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">actions/checkout@v3&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>- &lt;span class="nt">name&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">Set up Python ${{ matrix.python-version }}&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">if&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="s2">&amp;#34;!endsWith(matrix.python-version, &amp;#39;-dev&amp;#39;)&amp;#34;&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">uses&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">actions/setup-python@v4&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">with&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">python-version&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">${{ matrix.python-version }}&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>- &lt;span class="nt">uses&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">deadsnakes/action@v3.0.0&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">name&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">Set up Python ${{ matrix.python-version }} (deadsnakes)&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">if&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">endsWith(matrix.python-version, &amp;#39;-dev&amp;#39;)&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">with&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">python-version&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">${{ matrix.python-version }}&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;h3 id="travis-ci" class="relative group">Travis CI &lt;span class="absolute top-0 w-6 transition-opacity opacity-0 -start-6 not-prose group-hover:opacity-100">&lt;a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700" style="text-decoration-line: none !important;" href="#travis-ci" aria-label="Anchor">#&lt;/a>&lt;/span>&lt;/h3>&lt;p>I recommend moving to another CI.&lt;/p>
&lt;p>In the meantime, you can also add &lt;code>3.12-dev&lt;/code> to &lt;code>.travis.yml&lt;/code>, although at the time of
writing it&amp;rsquo;s pointing to 3.12.0a3+ from 2022-12-07, which is better than nothing.&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-yml" data-lang="yml">&lt;span class="line">&lt;span class="cl">&lt;span class="nt">language&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">python&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="nt">python&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>- &lt;span class="s2">&amp;#34;3.8&amp;#34;&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>- &lt;span class="s2">&amp;#34;3.9&amp;#34;&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>- &lt;span class="s2">&amp;#34;3.10&amp;#34;&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>- &lt;span class="s2">&amp;#34;3.11&amp;#34;&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>- &lt;span class="s2">&amp;#34;3.12-dev&amp;#34;&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>Again, I recommend moving to another CI.&lt;/p>
&lt;h3 id="other-cis" class="relative group">Other CIs &lt;span class="absolute top-0 w-6 transition-opacity opacity-0 -start-6 not-prose group-hover:opacity-100">&lt;a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700" style="text-decoration-line: none !important;" href="#other-cis" aria-label="Anchor">#&lt;/a>&lt;/span>&lt;/h3>&lt;p>Do you use other CIs? Please leave a comment if you know how to test 3.12!&lt;/p>
&lt;h2 id="when-to-support-312" class="relative group">When to support 3.12? &lt;span class="absolute top-0 w-6 transition-opacity opacity-0 -start-6 not-prose group-hover:opacity-100">&lt;a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700" style="text-decoration-line: none !important;" href="#when-to-support-312" aria-label="Anchor">#&lt;/a>&lt;/span>&lt;/h2>&lt;p>Now is also a good time to declare support and add the
&lt;code>Programming Language :: Python :: 3.12&lt;/code>
&lt;a href="https://pypi.org/classifiers/" target="_blank" rel="noreferrer">Trove classifier&lt;/a>.&lt;/p>
&lt;p>Especially if you have C extensions and other projects depend on yours, a release with
wheels will help them test and prepare.&lt;/p>
&lt;h3 id="abi-breaks" class="relative group">ABI breaks? &lt;span class="absolute top-0 w-6 transition-opacity opacity-0 -start-6 not-prose group-hover:opacity-100">&lt;a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700" style="text-decoration-line: none !important;" href="#abi-breaks" aria-label="Anchor">#&lt;/a>&lt;/span>&lt;/h3>&lt;p>From the announcement:&lt;/p>
&lt;blockquote>
&lt;p>There will be &lt;strong>no ABI changes&lt;/strong> from this point forward in the 3.12 series. The
intent is for the final release of 3.12.0, scheduled for Monday, 2023-10-02, to be
identical to this release candidate. &lt;strong>This really is the last chance to find critical
problems in Python 3.12.&lt;/strong>&lt;/p>&lt;/blockquote>
&lt;p>Let&amp;rsquo;s start testing and releasing for 3.12 now! ðŸš€&lt;/p>
&lt;hr>
&lt;p>&lt;small>Header photo: The carpet of the Salt Palace Convention Center grand ballroom,
host of &lt;a href="https://us.pycon.org/2023/" target="_blank" rel="noreferrer">PyCon 2023&lt;/a>, with a couple of googly eyes added to
make them Pythony (&lt;a href="https://mastodon.social/@hugovk/110239504743679454" target="_blank" rel="noreferrer">source&lt;/a>)&lt;/small>&lt;/p>
&lt;p>&lt;small>2023-08-14: Updated for RC1&lt;/small> &lt;small>2023-09-06: Updated for RC2&lt;/small>
&lt;small>2023-09-19: Updated for RC3&lt;/small>&lt;/p></description></item><item><title>Printable PyCon 2023 schedule</title><link>https://hugovk.dev/blog/2023/printable-pycon-2023-schedule/</link><pubDate>Sat, 15 Apr 2023 10:10:02 +0000</pubDate><guid>https://hugovk.dev/blog/2023/printable-pycon-2023-schedule/</guid><description>&lt;p>Want to print out the PyCon US 2023 schedule? Paper doesn&amp;rsquo;t run out of batteries, is
easy to scribble on, and stuff into a pocket.&lt;/p>
&lt;p>





&lt;figure>
 
 








 
 &lt;picture
 class="mx-auto my-0 rounded-md"
 
 >
 
 
 
 
 &lt;source
 
 srcset="https://hugovk.dev/blog/2023/printable-pycon-2023-schedule/2mjm7whei9m178ljcrhx_hu_b343bf78fe7789e2.webp 330w,/blog/2023/printable-pycon-2023-schedule/2mjm7whei9m178ljcrhx_hu_1ab745d571386443.webp 660w
 
 ,/blog/2023/printable-pycon-2023-schedule/2mjm7whei9m178ljcrhx_hu_9a1991dd4f891962.webp 1024w
 
 
 ,/blog/2023/printable-pycon-2023-schedule/2mjm7whei9m178ljcrhx_hu_350def94ce0e20cf.webp 1320w
 "
 
 sizes="100vw"
 type="image/webp"
 />
 
 &lt;img
 width="3000"
 height="3753"
 class="mx-auto my-0 rounded-md"
 alt="Printed PyCons schedule"
 loading="lazy" decoding="async"
 
 src="https://hugovk.dev/blog/2023/printable-pycon-2023-schedule/2mjm7whei9m178ljcrhx_hu_499805624823f8f5.jpg"
 srcset="https://hugovk.dev/blog/2023/printable-pycon-2023-schedule/2mjm7whei9m178ljcrhx_hu_6134513c9d5e5e8d.jpg 330w,/blog/2023/printable-pycon-2023-schedule/2mjm7whei9m178ljcrhx_hu_499805624823f8f5.jpg 660w
 
 ,/blog/2023/printable-pycon-2023-schedule/2mjm7whei9m178ljcrhx_hu_748d180f619bc9e9.jpg 1024w
 
 
 ,/blog/2023/printable-pycon-2023-schedule/2mjm7whei9m178ljcrhx_hu_55792d33ffe5413b.jpg 1320w
 "
 sizes="100vw"
 
 />
 &lt;/picture>
 


&lt;/figure>
&lt;/p>
&lt;p>Here&amp;rsquo;s some custom CSS and JavaScript to make it nicely printable.&lt;/p>
&lt;ol>
&lt;li>
&lt;p>Install the
&lt;a href="https://chrome.google.com/webstore/detail/styler/bogdgcfoocbajfkjjolkmcdcnnellpkb?hl=en" target="_blank" rel="noreferrer">Styler browser extension&lt;/a>&lt;/p>
&lt;/li>
&lt;li>
&lt;p>View a PyCon schedule page such as &lt;a href="https://us.pycon.org/2023/schedule/talks/" target="_blank" rel="noreferrer">https://us.pycon.org/2023/schedule/talks/&lt;/a> and
click the Styler extension&amp;rsquo;s S icon&lt;/p>
&lt;/li>
&lt;li>
&lt;p>Paste this CSS into the upper box:&lt;/p>
&lt;/li>
&lt;/ol>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-CSS" data-lang="CSS">&lt;span class="line">&lt;span class="cl">&lt;span class="nt">body&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nc">pycon-schedule&lt;/span> &lt;span class="nt">aside&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nc">sidebar&lt;/span>&lt;span class="o">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nt">body&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nc">pycon-schedule&lt;/span> &lt;span class="nt">div&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nc">badges&lt;/span>&lt;span class="o">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nt">body&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nc">pycon-schedule&lt;/span> &lt;span class="nt">button&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nc">menu-button&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nc">open-menu&lt;/span>&lt;span class="o">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nt">body&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nc">pycon-schedule&lt;/span> &lt;span class="nt">button&lt;/span>&lt;span class="p">#&lt;/span>&lt;span class="nn">theme-switch&lt;/span>&lt;span class="o">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nt">body&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nc">pycon-schedule&lt;/span> &lt;span class="nt">footer&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">display&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="kc">none&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nt">body&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nc">pycon-schedule&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">font-size&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="mi">14&lt;/span>&lt;span class="kt">px&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nt">body&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nc">pycon-schedule&lt;/span> &lt;span class="nt">main&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">padding&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="mi">0&lt;/span> &lt;span class="cp">!important&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nt">body&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nc">pycon-schedule&lt;/span> &lt;span class="p">.&lt;/span>&lt;span class="nc">calendar&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">	&lt;span class="k">left&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="kc">auto&lt;/span> &lt;span class="cp">!important&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">width&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="mi">100&lt;/span>&lt;span class="kt">%&lt;/span> &lt;span class="cp">!important&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">@&lt;/span>&lt;span class="k">media&lt;/span> &lt;span class="nt">print&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">a&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="nd">after&lt;/span> &lt;span class="p">{&lt;/span> &lt;span class="k">content&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="s1">&amp;#39;&amp;#39;&lt;/span>&lt;span class="p">;&lt;/span> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">a&lt;/span>&lt;span class="o">[&lt;/span>&lt;span class="nt">href&lt;/span>&lt;span class="o">]&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="nd">after&lt;/span> &lt;span class="p">{&lt;/span> &lt;span class="k">content&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="kc">none&lt;/span> &lt;span class="cp">!important&lt;/span>&lt;span class="p">;&lt;/span> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;ol start="4">
&lt;li>Paste this JavaScript into the lower box:&lt;/li>
&lt;/ol>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-js" data-lang="js">&lt;span class="line">&lt;span class="cl">&lt;span class="nx">$&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nb">document&lt;/span>&lt;span class="p">).&lt;/span>&lt;span class="nx">ready&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="kd">function&lt;/span> &lt;span class="p">()&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">if&lt;/span> &lt;span class="p">(&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nb">window&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">location&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">pathname&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">match&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s2">&amp;#34;2023/schedule/&amp;#34;&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="o">&amp;amp;&amp;amp;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="o">!&lt;/span>&lt;span class="nb">window&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">location&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">pathname&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">match&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s2">&amp;#34;2023/schedule/presentation/&amp;#34;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">)&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">$&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s2">&amp;#34;body&amp;#34;&lt;/span>&lt;span class="p">).&lt;/span>&lt;span class="nx">addClass&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s2">&amp;#34;pycon-schedule&amp;#34;&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">});&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;ol start="5">
&lt;li>Print!&lt;/li>
&lt;/ol>
&lt;p>It&amp;rsquo;ll run on any of the &lt;code>https://us.pycon.org/2023/schedule/*&lt;/code> pages, but not the
individual presentation pages such as
&lt;code>https://us.pycon.org/2023/schedule/presentation/88/&lt;/code>&lt;/p>
&lt;p>Once printed, you can click the Styler icon and the &lt;code>x&lt;/code> button to disable Styler for the
site so you can browse the original version.&lt;/p>
&lt;p>





&lt;figure>
 
 








 
 &lt;picture
 class="mx-auto my-0 rounded-md"
 
 >
 
 
 
 
 &lt;source
 
 srcset="https://hugovk.dev/blog/2023/printable-pycon-2023-schedule/59l815p02j0yk0jy377c_hu_57c418510355c450.webp 330w,/blog/2023/printable-pycon-2023-schedule/59l815p02j0yk0jy377c_hu_315ee01966f726da.webp 660w
 
 ,/blog/2023/printable-pycon-2023-schedule/59l815p02j0yk0jy377c_hu_49de887fe3ff4b3d.webp 1024w
 
 
 ,/blog/2023/printable-pycon-2023-schedule/59l815p02j0yk0jy377c_hu_c457231f50d250df.webp 1320w
 "
 
 sizes="100vw"
 type="image/webp"
 />
 
 &lt;img
 width="3000"
 height="3725"
 class="mx-auto my-0 rounded-md"
 alt="Printed PyCons schedule"
 loading="lazy" decoding="async"
 
 src="https://hugovk.dev/blog/2023/printable-pycon-2023-schedule/59l815p02j0yk0jy377c_hu_d5ec6a2c9923fb92.jpg"
 srcset="https://hugovk.dev/blog/2023/printable-pycon-2023-schedule/59l815p02j0yk0jy377c_hu_96468ae31498137b.jpg 330w,/blog/2023/printable-pycon-2023-schedule/59l815p02j0yk0jy377c_hu_d5ec6a2c9923fb92.jpg 660w
 
 ,/blog/2023/printable-pycon-2023-schedule/59l815p02j0yk0jy377c_hu_b88f5742368011fd.jpg 1024w
 
 
 ,/blog/2023/printable-pycon-2023-schedule/59l815p02j0yk0jy377c_hu_4a6f1cd1772c3d46.jpg 1320w
 "
 sizes="100vw"
 
 />
 &lt;/picture>
 


&lt;/figure>
&lt;/p></description></item><item><title>How to search 5,000 Python projects</title><link>https://hugovk.dev/blog/2022/how-to-search-5000-python-projects/</link><pubDate>Fri, 09 Dec 2022 12:44:21 +0000</pubDate><guid>https://hugovk.dev/blog/2022/how-to-search-5000-python-projects/</guid><description>&lt;h2 id="why" class="relative group">Why? &lt;span class="absolute top-0 w-6 transition-opacity opacity-0 -start-6 not-prose group-hover:opacity-100">&lt;a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700" style="text-decoration-line: none !important;" href="#why" aria-label="Anchor">#&lt;/a>&lt;/span>&lt;/h2>&lt;p>Often Python core developers think about deprecating and removing old bits of the
language. But first it&amp;rsquo;s a good idea to get an idea of how much the old bits are used.
Searching the
&lt;a href="https://hugovk.github.io/top-pypi-packages/" target="_blank" rel="noreferrer">5,000 most-popular projects on PyPI&lt;/a> is a
helpful proxy to gauge community use.&lt;/p>
&lt;h2 id="how" class="relative group">How? &lt;span class="absolute top-0 w-6 transition-opacity opacity-0 -start-6 not-prose group-hover:opacity-100">&lt;a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700" style="text-decoration-line: none !important;" href="#how" aria-label="Anchor">#&lt;/a>&lt;/span>&lt;/h2>&lt;p>Core developer &lt;a href="https://vstinner.readthedocs.io/" target="_blank" rel="noreferrer">Victor Stinner&lt;/a> has written a couple
of useful scripts that live in his &lt;a href="https://github.com/vstinner/misc" target="_blank" rel="noreferrer">misc&lt;/a> repo.&lt;/p>
&lt;h2 id="setup" class="relative group">Setup &lt;span class="absolute top-0 w-6 transition-opacity opacity-0 -start-6 not-prose group-hover:opacity-100">&lt;a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700" style="text-decoration-line: none !important;" href="#setup" aria-label="Anchor">#&lt;/a>&lt;/span>&lt;/h2>&lt;p>First, clone the repo somewhere, doesn&amp;rsquo;t matter where:&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-sh" data-lang="sh">&lt;span class="line">&lt;span class="cl">mkdir -p ~/github
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nb">cd&lt;/span> ~/github/
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">git clone https://github.com/vstinner/misc
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># Optionally for some colour in the logs:&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">python3 -m pip install termcolor
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>Then download 5,000 sdists! Again, doesn&amp;rsquo;t matter where:&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-console" data-lang="console">&lt;span class="line">&lt;span class="cl">&lt;span class="gp">$&lt;/span> mkdir -p ~/top-pypi/output
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="gp">$&lt;/span> &lt;span class="nb">cd&lt;/span> ~/top-pypi/output/
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="gp">$&lt;/span> python3 ~/github/misc/cpython/download_pypi_top.py .
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="go">Download JSON from: https://hugovk.github.io/top-pypi-packages/top-pypi-packages-30-days.min.json
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="go">Project#: 5000
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="go">[1/5000] Saving to ./boto3-1.26.25.tar.gz (101.7 kB)
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="go">[2/5000] Saving to ./botocore-1.29.25.tar.gz (10426.8 kB)
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="go">[3/5000] Saving to ./urllib3-1.26.13.tar.gz (293.4 kB)
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="go">...
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="go">[4990/5000] Saving to ./meld3-2.0.1.tar.gz (35.3 kB)
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="go">[4991/5000] Saving to ./browserstack-local-1.2.4.tar.gz (6.6 kB)
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="go">Cannot find URL for project: allensdk
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="go">Cannot find URL for project: dataframe-image
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="go">[4994/5000] Saving to ./SQLAlchemy-Continuum-1.3.13.tar.gz (79.2 kB)
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="go">[4995/5000] Saving to ./sarge-0.1.7.post1.tar.gz (25.1 kB)
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="go">[4996/5000] Saving to ./confusable_homoglyphs-3.2.0.tar.gz (158.1 kB)
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="go">[4997/5000] Saving to ./YTThumb-1.4.5.tar.gz (3.0 kB)
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="go">[4998/5000] Saving to ./azure-ai-ml-1.2.0.zip (4486.3 kB)
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="go">[4999/5000] Saving to ./pythena-1.6.0.tar.gz (5.2 kB)
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="go">[5000/5000] Saving to ./interchange-2021.0.4.tar.gz (25.2 kB)
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="go">Downloaded 5000 projects in 1602.4 seconds
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>With colour:&lt;/p>
&lt;p>





&lt;figure>
 
 








 
 &lt;picture
 class="mx-auto my-0 rounded-md"
 
 >
 
 
 
 
 &lt;source
 
 srcset="https://hugovk.dev/blog/2022/how-to-search-5000-python-projects/v41t4zfbxoybdfxuhg6m_hu_96b5c6308515dc8f.webp 330w,/blog/2022/how-to-search-5000-python-projects/v41t4zfbxoybdfxuhg6m_hu_f2218a6c71ac7afc.webp 660w
 
 ,/blog/2022/how-to-search-5000-python-projects/v41t4zfbxoybdfxuhg6m_hu_f94c195b0b85011c.webp 1024w
 
 
 ,/blog/2022/how-to-search-5000-python-projects/v41t4zfbxoybdfxuhg6m_hu_59eba9c0710d2012.webp 1320w
 "
 
 sizes="100vw"
 type="image/webp"
 />
 
 &lt;img
 width="1938"
 height="1378"
 class="mx-auto my-0 rounded-md"
 alt="Tail end of downloading files: successful downloads in green, unsuccessful downloads in red"
 loading="lazy" decoding="async"
 
 src="https://hugovk.dev/blog/2022/how-to-search-5000-python-projects/v41t4zfbxoybdfxuhg6m_hu_bb633edf3476cfd5.png"
 srcset="https://hugovk.dev/blog/2022/how-to-search-5000-python-projects/v41t4zfbxoybdfxuhg6m_hu_6cb3af80fa40fb0c.png 330w,/blog/2022/how-to-search-5000-python-projects/v41t4zfbxoybdfxuhg6m_hu_bb633edf3476cfd5.png 660w
 
 ,/blog/2022/how-to-search-5000-python-projects/v41t4zfbxoybdfxuhg6m_hu_febad9f9a51c937f.png 1024w
 
 
 ,/blog/2022/how-to-search-5000-python-projects/v41t4zfbxoybdfxuhg6m_hu_54bf5bf6ce573319.png 1320w
 "
 sizes="100vw"
 
 />
 &lt;/picture>
 


&lt;/figure>
&lt;/p>
&lt;p>â³ This will take a bit of time. Some projects don&amp;rsquo;t have sdists, nothing to worry
about, we will still end up with a good number. At the time of writing (2022-12-09), it
took me just under 27 minutes to download 4,748 files, taking up 5.37 GB of space.&lt;/p>
&lt;p>If you want to download fewer, specify how many:&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-sh" data-lang="sh">&lt;span class="line">&lt;span class="cl">python3 ~/github/misc/cpython/download_pypi_top.py . &lt;span class="m">100&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;h2 id="search" class="relative group">Search &lt;span class="absolute top-0 w-6 transition-opacity opacity-0 -start-6 not-prose group-hover:opacity-100">&lt;a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700" style="text-decoration-line: none !important;" href="#search" aria-label="Anchor">#&lt;/a>&lt;/span>&lt;/h2>&lt;p>Next, we can search all the sdists using another script. And we don&amp;rsquo;t need to extract
them!&lt;/p>
&lt;p>For example, &lt;code>configparser&lt;/code>&amp;rsquo;s &lt;code>LegacyInterpolation&lt;/code> was deprecated in
&lt;a href="https://peps.python.org/pep-0392/" target="_blank" rel="noreferrer">Python 3.2&lt;/a> (released February 2011), but only in
docs and without raising a
&lt;a href="https://docs.python.org/3/library/exceptions.html#DeprecationWarning" target="_blank" rel="noreferrer">&lt;code>DeprecationWarning&lt;/code>&lt;/a>.&lt;/p>
&lt;p>How much is it used in the top 5k?&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-console" data-lang="console">&lt;span class="line">&lt;span class="cl">&lt;span class="gp">$&lt;/span> &lt;span class="nb">cd&lt;/span> ~/top-pypi/output/
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="gp">$&lt;/span> python3 ~/github/misc/cpython/search_pypi_top.py -q . &lt;span class="s2">&amp;#34;LegacyInterpolation&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="go">./hexbytes-0.3.0.tar.gz: hexbytes-0.3.0/.tox/lint/lib/python3.9/site-packages/mypy/typeshed/stdlib/configparser.pyi: &amp;#34;LegacyInterpolation&amp;#34;,
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="go">./hexbytes-0.3.0.tar.gz: hexbytes-0.3.0/.tox/lint/lib/python3.9/site-packages/mypy/typeshed/stdlib/configparser.pyi: class LegacyInterpolation(Interpolation):
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="go">./hexbytes-0.3.0.tar.gz: hexbytes-0.3.0/.tox/py39-lint/lib/python3.9/site-packages/mypy/typeshed/stdlib/configparser.pyi: &amp;#34;LegacyInterpolation&amp;#34;,
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="go">./hexbytes-0.3.0.tar.gz: hexbytes-0.3.0/.tox/py39-lint/lib/python3.9/site-packages/mypy/typeshed/stdlib/configparser.pyi: class LegacyInterpolation(Interpolation):
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="go">./jedi-0.18.2.tar.gz: jedi-0.18.2/jedi/third_party/typeshed/stdlib/3/configparser.pyi: class LegacyInterpolation(Interpolation): ...
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="go">./mypy-0.991.tar.gz: mypy-0.991/mypy/typeshed/stdlib/configparser.pyi: &amp;#34;LegacyInterpolation&amp;#34;,
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="go">./mypy-0.991.tar.gz: mypy-0.991/mypy/typeshed/stdlib/configparser.pyi: class LegacyInterpolation(Interpolation):
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="go">./eth-hash-0.5.1.tar.gz: eth-hash-0.5.1/.tox/lint/lib/python3.9/site-packages/mypy/typeshed/stdlib/configparser.pyi: &amp;#34;LegacyInterpolation&amp;#34;,
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="go">./eth-hash-0.5.1.tar.gz: eth-hash-0.5.1/.tox/lint/lib/python3.9/site-packages/mypy/typeshed/stdlib/configparser.pyi: class LegacyInterpolation(Interpolation):
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="go">./eth-account-0.7.0.tar.gz: eth-account-0.7.0/.tox/lint/lib/python3.10/site-packages/mypy/typeshed/stdlib/configparser.pyi: class LegacyInterpolation(Interpolation):
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="go">./eth-account-0.7.0.tar.gz: eth-account-0.7.0/.tox/py310-lint/lib/python3.10/site-packages/mypy/typeshed/stdlib/configparser.pyi: class LegacyInterpolation(Interpolation):
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="go">./eth-utils-2.1.0.tar.gz: eth-utils-2.1.0/.tox/lint/lib/python3.9/site-packages/mypy/typeshed/stdlib/configparser.pyi: class LegacyInterpolation(Interpolation):
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="go">./pytype-2022.11.29.tar.gz: pytype-2022.11.29/pytype/typeshed/stdlib/configparser.pyi: &amp;#34;LegacyInterpolation&amp;#34;,
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="go">./pytype-2022.11.29.tar.gz: pytype-2022.11.29/pytype/typeshed/stdlib/configparser.pyi: class LegacyInterpolation(Interpolation):
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="go">./pylint-2.15.8.tar.gz: pylint-2.15.8/pylint/checkers/stdlib.py: &amp;#34;LegacyInterpolation&amp;#34;,
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="go">./pyre-check-0.9.17.tar.gz: pyre-check-0.9.17/typeshed/stdlib/configparser.pyi: &amp;#34;LegacyInterpolation&amp;#34;,
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="go">./pyre-check-0.9.17.tar.gz: pyre-check-0.9.17/typeshed/stdlib/configparser.pyi: class LegacyInterpolation(Interpolation):
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="go">./configparser-5.3.0.tar.gz: configparser-5.3.0/src/backports/configparser/__init__.py: &amp;#34;LegacyInterpolation&amp;#34;,
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="go">./configparser-5.3.0.tar.gz: configparser-5.3.0/src/backports/configparser/__init__.py: class LegacyInterpolation(Interpolation):
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="go">./configparser-5.3.0.tar.gz: configparser-5.3.0/src/backports/configparser/__init__.py: &amp;#34;LegacyInterpolation has been deprecated since Python 3.2 &amp;#34;
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="go">./configparser-5.3.0.tar.gz: configparser-5.3.0/src/configparser.py: LegacyInterpolation,
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="go">./configparser-5.3.0.tar.gz: configparser-5.3.0/src/configparser.py: &amp;#34;LegacyInterpolation&amp;#34;,
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="go">./configparser-5.3.0.tar.gz: configparser-5.3.0/src/test_configparser.py: elif isinstance(self.interpolation, configparser.LegacyInterpolation):
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="go">./configparser-5.3.0.tar.gz: configparser-5.3.0/src/test_configparser.py: elif isinstance(self.interpolation, configparser.LegacyInterpolation):
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="go">./configparser-5.3.0.tar.gz: configparser-5.3.0/src/test_configparser.py: elif isinstance(self.interpolation, configparser.LegacyInterpolation):
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="go">./configparser-5.3.0.tar.gz: configparser-5.3.0/src/test_configparser.py: class ConfigParserTestCaseLegacyInterpolation(ConfigParserTestCase):
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="go">./configparser-5.3.0.tar.gz: configparser-5.3.0/src/test_configparser.py: interpolation = configparser.LegacyInterpolation()
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="go">./configparser-5.3.0.tar.gz: configparser-5.3.0/src/test_configparser.py: configparser.LegacyInterpolation()
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="go">./eth-rlp-0.3.0.tar.gz: eth-rlp-0.3.0/.tox/lint/lib/python3.9/site-packages/mypy/typeshed/stdlib/3/configparser.pyi: class LegacyInterpolation(Interpolation): ...
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="go">./eth-rlp-0.3.0.tar.gz: eth-rlp-0.3.0/venv-erlp/lib/python3.9/site-packages/jedi/third_party/typeshed/stdlib/3/configparser.pyi: class LegacyInterpolation(Interpolation): ...
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="go">./eth-rlp-0.3.0.tar.gz: eth-rlp-0.3.0/venv-erlp/lib/python3.9/site-packages/mypy/typeshed/stdlib/3/configparser.pyi: class LegacyInterpolation(Interpolation): ...
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="go">./eth_abi-3.0.1.tar.gz: eth_abi-3.0.1/.tox/lint/lib/python3.10/site-packages/mypy/typeshed/stdlib/configparser.pyi: class LegacyInterpolation(Interpolation):
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="go">&lt;/span>&lt;span class="err">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="err">&lt;/span>&lt;span class="go">Time: 0:00:17.957695
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="go">Found 32 matching lines in 12 projects
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>With colour:&lt;/p>
&lt;p>





&lt;figure>
 
 








 
 &lt;picture
 class="mx-auto my-0 rounded-md"
 
 >
 
 
 
 
 &lt;source
 
 srcset="https://hugovk.dev/blog/2022/how-to-search-5000-python-projects/ele6hbe4kix8s0pb6ngu_hu_9a78d5ab9a5d5b10.webp 330w,/blog/2022/how-to-search-5000-python-projects/ele6hbe4kix8s0pb6ngu_hu_99a2b1aa8d67370a.webp 660w
 
 ,/blog/2022/how-to-search-5000-python-projects/ele6hbe4kix8s0pb6ngu_hu_5a378b8fcf384cca.webp 1024w
 
 
 ,/blog/2022/how-to-search-5000-python-projects/ele6hbe4kix8s0pb6ngu_hu_9a1fcbf20e81759a.webp 1320w
 "
 
 sizes="100vw"
 type="image/webp"
 />
 
 &lt;img
 width="1340"
 height="774"
 class="mx-auto my-0 rounded-md"
 alt="Same output as above but with the source filename in purple and LegacyInterpolation in orange"
 loading="lazy" decoding="async"
 
 src="https://hugovk.dev/blog/2022/how-to-search-5000-python-projects/ele6hbe4kix8s0pb6ngu_hu_c001505d654f2fb9.png"
 srcset="https://hugovk.dev/blog/2022/how-to-search-5000-python-projects/ele6hbe4kix8s0pb6ngu_hu_a9c12eb27e5fbbb7.png 330w,/blog/2022/how-to-search-5000-python-projects/ele6hbe4kix8s0pb6ngu_hu_c001505d654f2fb9.png 660w
 
 ,/blog/2022/how-to-search-5000-python-projects/ele6hbe4kix8s0pb6ngu_hu_66638a9cad7e2d61.png 1024w
 
 
 ,/blog/2022/how-to-search-5000-python-projects/ele6hbe4kix8s0pb6ngu_hu_a720906a8f033f5.png 1320w
 "
 sizes="100vw"
 
 />
 &lt;/picture>
 


&lt;/figure>
&lt;/p>
&lt;p>Answer: very little, mostly backports and type stubs. This told us it&amp;rsquo;s a good candidate
for removal, so a proper &lt;code>DeprecationWarning&lt;/code> was
&lt;a href="https://docs.python.org/3/whatsnew/3.11.html#standard-library" target="_blank" rel="noreferrer">added in Python 3.11&lt;/a>
(released October 2022) and it will be
&lt;a href="https://peps.python.org/pep-0387/" target="_blank" rel="noreferrer">removed in Python 3.13&lt;/a> (October 2024).&lt;/p>
&lt;p>The tool searches using a regex, so you can look for more complicated things like
&lt;code>&amp;quot;\b(currentThread|activeCount|notifyAll|isSet|isDaemon|setDaemon)\b&amp;quot;&lt;/code>, and it can also
log to file. See &lt;code>--help&lt;/code> for other options.&lt;/p>
&lt;p>Happy searching! ðŸ”Ž&lt;/p>
&lt;hr>
&lt;p>&lt;small>Header photo:
&amp;ldquo;&lt;a target="_blank" rel="noopener noreferrer" href="https://www.flickr.com/photos/24029425@N06/11237637113">The
card index department&lt;/a>&amp;rdquo; by
&lt;a target="_blank" rel="noopener noreferrer" href="https://www.flickr.com/photos/24029425@N06">Boston
Public Library&lt;/a> is licensed under
&lt;a target="_blank" rel="noopener noreferrer" href="https://creativecommons.org/licenses/by/2.0/?ref=openverse">CC
BY 2.0&lt;/a>.&lt;/small>&lt;/p></description></item><item><title>Help test Python 3.11 beta!</title><link>https://hugovk.dev/blog/2022/help-test-python-311/</link><pubDate>Tue, 31 May 2022 17:10:00 +0000</pubDate><guid>https://hugovk.dev/blog/2022/help-test-python-311/</guid><description>&lt;p>Calling all Python library maintainers! ðŸ&lt;/p>
&lt;p>Python 3.11 is in beta! ðŸŽ‰&lt;/p>
&lt;p>&lt;a href="https://peps.python.org/pep-0664/#release-schedule" target="_blank" rel="noreferrer">PEP 664&lt;/a> defines the release
schedule for Python 3.11.0:&lt;/p>
&lt;ul>
&lt;li>The second beta came out on 31st May 2022&lt;/li>
&lt;li>The first release candidate is set for 1st August 2022&lt;/li>
&lt;li>And the full release is set for 3rd October 2022&lt;/li>
&lt;/ul>
&lt;p>In his
&lt;a href="https://discuss.python.org/t/python-3-11-0b2-is-now-available/16111?u=hugovk" target="_blank" rel="noreferrer">announcement&lt;/a>,
Pablo Galindo Salgado, release manager for Python 3.10 and 3.11, said:&lt;/p>
&lt;blockquote>
&lt;p>We &lt;strong>strongly encourage&lt;/strong> maintainers of third-party Python projects to &lt;strong>test with
3.11&lt;/strong> during the beta phase and report issues found to the
&lt;a href="https://github.com/python/cpython/issues" target="_blank" rel="noreferrer">Python bug tracker&lt;/a> as soon as possible.
While the release is planned to be feature complete entering the beta phase, it is
possible that features may be modified or, in rare cases, deleted up until the start
of the release candidate phase (Monday, 2021-08-02). Our goal is have no ABI changes
after beta 4 and as few code changes as possible after 3.11.0rc1, the first release
candidate. To achieve that, it will be &lt;strong>extremely important&lt;/strong> to get as much exposure
for 3.11 as possible during the beta phase.&lt;/p>&lt;/blockquote>
&lt;h2 id="test-with-311" class="relative group">Test with 3.11 &lt;span class="absolute top-0 w-6 transition-opacity opacity-0 -start-6 not-prose group-hover:opacity-100">&lt;a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700" style="text-decoration-line: none !important;" href="#test-with-311" aria-label="Anchor">#&lt;/a>&lt;/span>&lt;/h2>&lt;p>It&amp;rsquo;s now time for library maintainers to start testing 3.11 with your project. You don&amp;rsquo;t
need to declare support and release for 3.11 yet, but there&amp;rsquo;s two big benefits to
testing with 3.11 on CI:&lt;/p>
&lt;ol>
&lt;li>
&lt;p>There have been removals and changes in Python 3.11. Testing now will help you make
your code compatible and avoid any big surprises (for you and your users) at the big
launch in October.&lt;/p>
&lt;/li>
&lt;li>
&lt;p>You might find bugs in Python itself! Reporting those will help get them fixed and
help everyone.&lt;/p>
&lt;/li>
&lt;/ol>
&lt;h2 id="how" class="relative group">How &lt;span class="absolute top-0 w-6 transition-opacity opacity-0 -start-6 not-prose group-hover:opacity-100">&lt;a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700" style="text-decoration-line: none !important;" href="#how" aria-label="Anchor">#&lt;/a>&lt;/span>&lt;/h2>&lt;h3 id="github-actions-setup-python" class="relative group">GitHub Actions: setup-python &lt;span class="absolute top-0 w-6 transition-opacity opacity-0 -start-6 not-prose group-hover:opacity-100">&lt;a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700" style="text-decoration-line: none !important;" href="#github-actions-setup-python" aria-label="Anchor">#&lt;/a>&lt;/span>&lt;/h3>&lt;p>To test the latest alpha, beta or release candidate with
&lt;a href="https://github.com/actions/setup-python#available-versions-of-python" target="_blank" rel="noreferrer">actions/setup-python&lt;/a>,
add &lt;code>3.11-dev&lt;/code> to your workflow matrix.&lt;/p>
&lt;p>For example:&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-yml" data-lang="yml">&lt;span class="line">&lt;span class="cl">&lt;span class="nt">jobs&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">build&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">runs-on&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">ubuntu-latest&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">strategy&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">fail-fast&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="kc">false&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">matrix&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">python-version&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="s2">&amp;#34;3.7&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="s2">&amp;#34;3.8&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="s2">&amp;#34;3.9&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="s2">&amp;#34;3.10&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="s2">&amp;#34;3.11-dev&amp;#34;&lt;/span>&lt;span class="p">]&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">steps&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>- &lt;span class="nt">uses&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">actions/checkout@v3&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>- &lt;span class="nt">name&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">Set up Python ${{ matrix.python-version }}&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">uses&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">actions/setup-python@v4&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">with&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">python-version&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">${{ matrix.python-version }}&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;h3 id="github-actions-deadsnakes" class="relative group">GitHub Actions: deadsnakes &lt;span class="absolute top-0 w-6 transition-opacity opacity-0 -start-6 not-prose group-hover:opacity-100">&lt;a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700" style="text-decoration-line: none !important;" href="#github-actions-deadsnakes" aria-label="Anchor">#&lt;/a>&lt;/span>&lt;/h3>&lt;p>For the bleeding edge, we can use
&lt;a href="https://github.com/deadsnakes/action" target="_blank" rel="noreferrer">deadsnakes/action&lt;/a> to test the latest nightly
build:&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-yml" data-lang="yml">&lt;span class="line">&lt;span class="cl">&lt;span class="nt">jobs&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">build&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">runs-on&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">ubuntu-latest&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">strategy&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">fail-fast&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="kc">false&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">matrix&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">python-version&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="s2">&amp;#34;3.7&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="s2">&amp;#34;3.8&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="s2">&amp;#34;3.9&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="s2">&amp;#34;3.10&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="s2">&amp;#34;3.11-dev&amp;#34;&lt;/span>&lt;span class="p">]&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">steps&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>- &lt;span class="nt">uses&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">actions/checkout@v3&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>- &lt;span class="nt">name&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">Set up Python ${{ matrix.python-version }}&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">if&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="s2">&amp;#34;!endsWith(matrix.python-version, &amp;#39;-dev&amp;#39;)&amp;#34;&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">uses&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">actions/setup-python@v3&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">with&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">python-version&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">${{ matrix.python-version }}&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>- &lt;span class="nt">uses&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">deadsnakes/action@v2.1.1&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">name&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">Set up Python ${{ matrix.python-version }} (deadsnakes)&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">if&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">endsWith(matrix.python-version, &amp;#39;-dev&amp;#39;)&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">with&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">python-version&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">${{ matrix.python-version }}&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;h3 id="travis-ci" class="relative group">Travis CI &lt;span class="absolute top-0 w-6 transition-opacity opacity-0 -start-6 not-prose group-hover:opacity-100">&lt;a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700" style="text-decoration-line: none !important;" href="#travis-ci" aria-label="Anchor">#&lt;/a>&lt;/span>&lt;/h3>&lt;p>I recommend moving to another CI.&lt;/p>
&lt;p>In the meantime, you can also add &lt;code>3.11-dev&lt;/code> to &lt;code>.travis.yml&lt;/code>, although at the time of
writing it&amp;rsquo;s pointing to 3.11.0a3 from 2021-12-08, which is better than nothing.&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-yml" data-lang="yml">&lt;span class="line">&lt;span class="cl">&lt;span class="nt">language&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">python&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="nt">python&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>- &lt;span class="s2">&amp;#34;3.7&amp;#34;&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>- &lt;span class="s2">&amp;#34;3.8&amp;#34;&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>- &lt;span class="s2">&amp;#34;3.9&amp;#34;&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>- &lt;span class="s2">&amp;#34;3.10&amp;#34;&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>- &lt;span class="s2">&amp;#34;3.11-dev&amp;#34;&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>Again, I recommend moving to another CI.&lt;/p>
&lt;h3 id="other-cis" class="relative group">Other CIs &lt;span class="absolute top-0 w-6 transition-opacity opacity-0 -start-6 not-prose group-hover:opacity-100">&lt;a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700" style="text-decoration-line: none !important;" href="#other-cis" aria-label="Anchor">#&lt;/a>&lt;/span>&lt;/h3>&lt;p>Do you use other CIs? Please leave a comment if you know how to test 3.11!&lt;/p>
&lt;h2 id="when-to-support-311" class="relative group">When to support 3.11? &lt;span class="absolute top-0 w-6 transition-opacity opacity-0 -start-6 not-prose group-hover:opacity-100">&lt;a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700" style="text-decoration-line: none !important;" href="#when-to-support-311" aria-label="Anchor">#&lt;/a>&lt;/span>&lt;/h2>&lt;p>When should you declare support and add the &lt;code>Programming Language :: Python :: 3.11&lt;/code>
&lt;a href="https://pypi.org/classifiers/" target="_blank" rel="noreferrer">Trove classifier&lt;/a>?&lt;/p>
&lt;p>First of all, make sure your tests pass on 3.11 beta. One option is waiting until 3.11.0
final is released.&lt;/p>
&lt;p>Or, as mentioned above:&lt;/p>
&lt;blockquote>
&lt;p>Our goal is have no ABI changes after beta 4 and as few code changes as possible after
3.11.0rc1, the first release candidate.&lt;/p>&lt;/blockquote>
&lt;p>If you have a pure Python project, you could release now.&lt;/p>
&lt;p>If you have C extensions, you might want to wait until the release candidate phase,
although if other projects depend on yours, a preview release would help them test and
prepare.&lt;/p>
&lt;p>In any case, start testing 3.11 now!&lt;/p>
&lt;hr>
&lt;p>&lt;small>Header photo:
&lt;a href="https://en.wikipedia.org/wiki/Uppland_Runic_Inscription_53" target="_blank" rel="noreferrer">Uppland Runic Inscription 53&lt;/a>,
a 1,000 year old runestone in the old town of Stockholm
(&lt;a href="https://www.flickr.com/photos/hugovk/3490246425/" target="_blank" rel="noreferrer">source&lt;/a>)&lt;/small>&lt;/p></description></item><item><title>Top PyPI Packages</title><link>https://hugovk.dev/blog/2022/top-pypi-packages/</link><pubDate>Sun, 29 May 2022 15:53:36 +0000</pubDate><guid>https://hugovk.dev/blog/2022/top-pypi-packages/</guid><description>&lt;p>&lt;a href="https://hugovk.github.io/top-pypi-packages/" target="_blank" rel="noreferrer">Top PyPI Packages&lt;/a> is a website that
creates a monthly dump of the 5,000 most-downloaded packages from the
&lt;a href="https://pypi.org/" target="_blank" rel="noreferrer">Python Package Index (PyPI)&lt;/a>. It provides a human-readable list and
a machine-readable JSON file for programmatic use.&lt;/p>
&lt;h2 id="how-its-used" class="relative group">How it&amp;rsquo;s used &lt;span class="absolute top-0 w-6 transition-opacity opacity-0 -start-6 not-prose group-hover:opacity-100">&lt;a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700" style="text-decoration-line: none !important;" href="#how-its-used" aria-label="Anchor">#&lt;/a>&lt;/span>&lt;/h2>&lt;p>The generated data is important for the Python community: it has been cited by many
academic papers, covering research on topics such as software supply-chain attacks,
genetic algorithms, neural type hints and technical debt.&lt;/p>
&lt;p>Websites also use the data for analysing things like community adoption of Python 3 and
of wheels package files, and for automated dependency updates.&lt;/p>
&lt;p>Some are &lt;a href="https://github.com/hugovk/top-pypi-packages/issues/23" target="_blank" rel="noreferrer">listed here&lt;/a>.&lt;/p>
&lt;p>Last but not least, CPython core developers often use the data for community analysis,
for example to check how widespread certain language features are when considering
deprecations and removals, or API changes of Python itself.&lt;/p>
&lt;p>Some examples:&lt;/p>
&lt;p>&lt;a href="https://mail.python.org/archives/search?q=top-pypi-packages" target="_blank" rel="noreferrer">https://mail.python.org/archives/search?q=top-pypi-packages&lt;/a>&lt;/p>
&lt;h2 id="how-it-works" class="relative group">How it works &lt;span class="absolute top-0 w-6 transition-opacity opacity-0 -start-6 not-prose group-hover:opacity-100">&lt;a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700" style="text-decoration-line: none !important;" href="#how-it-works" aria-label="Anchor">#&lt;/a>&lt;/span>&lt;/h2>&lt;p>It runs on the cheapest DigitalOcean Droplet to query a Google BigQuery dataset from the
Python Software Foundation, and builds the JSON file from that. The data is
automatically committed from the droplet back to the GitHub repository, and GitHub
Actions is used to automatically tag and create a release, which then creates a Digital
Object Identifier (DOI) at Zenodo to help make it citable for researchers.&lt;/p>
&lt;h3 id="in-more-detail" class="relative group">In more detail &lt;span class="absolute top-0 w-6 transition-opacity opacity-0 -start-6 not-prose group-hover:opacity-100">&lt;a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700" style="text-decoration-line: none !important;" href="#in-more-detail" aria-label="Anchor">#&lt;/a>&lt;/span>&lt;/h3>&lt;p>A &amp;ldquo;Droplet&amp;rdquo; is the name DigitalOcean uses for virtual machines, which is basically a
Linux server. I&amp;rsquo;m using the cheapest $5/month running Ubuntu 20.04 (LTS) plus $1/month
for automated backups. (In July 2022, I&amp;rsquo;ll switch to the new
&lt;a href="https://www.digitalocean.com/try/new-pricing" target="_blank" rel="noreferrer">$4/month Droplet&lt;/a>.)&lt;/p>
&lt;p>On the first of the month, it runs a cron job:&lt;/p>
&lt;pre tabindex="0">&lt;code class="language-crontab" data-lang="crontab">13 11 1 * * ( eval &amp;#34;$(ssh-agent -s)&amp;#34;; ssh-add ~/.ssh/id_rsa-top-pypi-packages; /home/botuser/github/top-pypi-packages/top-pypi-packages.sh ) &amp;gt; /tmp/top-pypi-packages.log 2&amp;gt;&amp;amp;1
&lt;/code>&lt;/pre>&lt;p>This
&lt;a href="https://github.com/hugovk/top-pypi-packages/blob/c8101970cbfde3aee2eb133ae0d2aa8eb8846a58/top-pypi-packages.sh" target="_blank" rel="noreferrer">script&lt;/a>
runs
&lt;a href="https://github.com/hugovk/top-pypi-packages/blob/c8101970cbfde3aee2eb133ae0d2aa8eb8846a58/build.sh" target="_blank" rel="noreferrer">some&lt;/a>
&lt;a href="https://github.com/hugovk/top-pypi-packages/blob/c8101970cbfde3aee2eb133ae0d2aa8eb8846a58/generate.sh" target="_blank" rel="noreferrer">others&lt;/a>
to call &lt;a href="https://github.com/ofek/pypinfo/" target="_blank" rel="noreferrer">pypinfo&lt;/a>:&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-sh" data-lang="sh">&lt;span class="line">&lt;span class="cl">/home/botuser/.local/bin/pypinfo --json --indent &lt;span class="m">0&lt;/span> --limit &lt;span class="m">5000&lt;/span> --days &lt;span class="m">30&lt;/span> &lt;span class="s2">&amp;#34;&amp;#34;&lt;/span> project &amp;gt; top-pypi-packages-30-days.json
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>&lt;a href="https://packaging.python.org/en/latest/guides/analyzing-pypi-package-downloads/" target="_blank" rel="noreferrer">PyPI streams data about downloads to Google BigQuery&lt;/a>
which are accessible as a public dataset. Google provides a free amount of queries per
month, and I&amp;rsquo;ve been adjusting the amount of data fetched to stay within the free quota
(e.g. changing from the top 5k packages to 4k; it used to get data for top packages over
the past 30 days and 365 days, but now only for 30 days; and bumping back up to 5k
packages).&lt;/p>
&lt;p>pypinfo is a handy command-line interface (CLI) to access this BigQuery data and dump it
to a JSON file.&lt;/p>
&lt;p>Another handy CLI tool called &lt;a href="https://stedolan.github.io/jq/" target="_blank" rel="noreferrer">jq&lt;/a> minifies the JSON
data:&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-sh" data-lang="sh">&lt;span class="line">&lt;span class="cl">jq -c . &amp;lt; top-pypi-packages-30-days.json &amp;gt; top-pypi-packages-30-days.min.json
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>These are then committed back to the repo, tagged using &lt;a href="https://calver.org/" target="_blank" rel="noreferrer">CalVer&lt;/a>
(e.g. &lt;a href="https://github.com/hugovk/top-pypi-packages/releases/tag/2022.05" target="_blank" rel="noreferrer">2022-05&lt;/a>) and
pushed.
&lt;a href="https://github.com/hugovk/top-pypi-packages/blob/c8101970cbfde3aee2eb133ae0d2aa8eb8846a58/.github/workflows/release.yml" target="_blank" rel="noreferrer">GitHub Actions&lt;/a>
creates &lt;a href="https://github.com/hugovk/top-pypi-packages/releases" target="_blank" rel="noreferrer">a release&lt;/a> from the tag.&lt;/p>
&lt;p>This then creates a
&lt;a href="https://zenodo.org/badge/latestdoi/116806538" target="_blank" rel="noreferrer">Digital Object Identifier (DOI) at Zenodo&lt;/a>
to help make it citable for researchers.&lt;/p>
&lt;p>The &lt;a href="https://hugovk.github.io/top-pypi-packages/" target="_blank" rel="noreferrer">website&lt;/a>, on GitHub Pages, reads in
the generated JSON file and shows the top 100 (or 1,000 or 5,000) packages in
human-readable form. It&amp;rsquo;s based on &lt;a href="https://pythonwheels.com" target="_blank" rel="noreferrer">Python Wheels&lt;/a>, which in
nice circular fashion, uses the JSON data from this project.&lt;/p>
&lt;h2 id="thanks" class="relative group">Thanks &lt;span class="absolute top-0 w-6 transition-opacity opacity-0 -start-6 not-prose group-hover:opacity-100">&lt;a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700" style="text-decoration-line: none !important;" href="#thanks" aria-label="Anchor">#&lt;/a>&lt;/span>&lt;/h2>&lt;p>Thanks to &lt;a href="https://pypi.org/" target="_blank" rel="noreferrer">PyPI&lt;/a> and
&lt;a href="https://cloud.google.com/bigquery/" target="_blank" rel="noreferrer">Google BigQuery&lt;/a> for the data;
&lt;a href="https://github.com/ofek/pypinfo" target="_blank" rel="noreferrer">pypinfo&lt;/a> and &lt;a href="https://stedolan.github.io/jq/" target="_blank" rel="noreferrer">jq&lt;/a> for
the tools; &lt;a href="https://pythonwheels.com/" target="_blank" rel="noreferrer">Python Wheels&lt;/a> for making their code open source;
and &lt;a href="https://m.do.co/c/431978e0c3e9" target="_blank" rel="noreferrer">DigitalOcean&lt;/a> for sponsoring this project&amp;rsquo;s
hosting. Visit &lt;a href="https://do.co/oss-sponsorship" target="_blank" rel="noreferrer">https://do.co/oss-sponsorship&lt;/a> to see if your project is eligible.&lt;/p>
&lt;hr>
&lt;p>&lt;small>Header photo:
&amp;ldquo;&lt;a target="_blank" rel="noopener noreferrer" href="https://www.flickr.com/photos/49889874@N05/4772680734">PACKAGES&lt;/a>&amp;rdquo;
by
&lt;a target="_blank" rel="noopener noreferrer" href="https://www.flickr.com/photos/49889874@N05">marc
falardeau&lt;/a> is licensed under
&lt;a target="_blank" rel="noopener noreferrer" href="https://creativecommons.org/licenses/by/2.0/?ref=openverse">CC
BY 2.0&lt;/a>.&lt;/small>&lt;/p></description></item><item><title>The Python 3.1 problem</title><link>https://hugovk.dev/blog/2021/the-python-3-1-problem/</link><pubDate>Wed, 19 May 2021 14:08:31 +0000</pubDate><guid>https://hugovk.dev/blog/2021/the-python-3-1-problem/</guid><description>&lt;h2 id="or-a-variation-on-the-norway-problem" class="relative group">Or, a variation on the Norway problem &lt;span class="absolute top-0 w-6 transition-opacity opacity-0 -start-6 not-prose group-hover:opacity-100">&lt;a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700" style="text-decoration-line: none !important;" href="#or-a-variation-on-the-norway-problem" aria-label="Anchor">#&lt;/a>&lt;/span>&lt;/h2>&lt;p>Short version: put quotes around version numbers in YAML.&lt;/p>
&lt;h3 id="the-norway-problem" class="relative group">The Norway problem &lt;span class="absolute top-0 w-6 transition-opacity opacity-0 -start-6 not-prose group-hover:opacity-100">&lt;a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700" style="text-decoration-line: none !important;" href="#the-norway-problem" aria-label="Anchor">#&lt;/a>&lt;/span>&lt;/h3>&lt;p>The &lt;a href="https://hitchdev.com/strictyaml/why/implicit-typing-removed/" target="_blank" rel="noreferrer">Norway problem&lt;/a> is
when you put this in YAML:&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-yaml" data-lang="yaml">&lt;span class="line">&lt;span class="cl">&lt;span class="nt">countries&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>- &lt;span class="l">GB&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>- &lt;span class="l">IE&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>- &lt;span class="l">FR&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>- &lt;span class="l">DE&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>- &lt;span class="kc">NO&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>But get this out:&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-python" data-lang="python">&lt;span class="line">&lt;span class="cl">&lt;span class="o">&amp;gt;&amp;gt;&amp;gt;&lt;/span> &lt;span class="kn">import&lt;/span> &lt;span class="nn">yaml&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="o">&amp;gt;&amp;gt;&amp;gt;&lt;/span> &lt;span class="k">with&lt;/span> &lt;span class="nb">open&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s2">&amp;#34;countries.yml&amp;#34;&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="k">as&lt;/span> &lt;span class="n">f&lt;/span>&lt;span class="p">:&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="o">...&lt;/span> &lt;span class="n">yaml&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">safe_load&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">f&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="o">...&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">{&lt;/span>&lt;span class="s1">&amp;#39;countries&amp;#39;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="p">[&lt;/span>&lt;span class="s1">&amp;#39;GB&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="s1">&amp;#39;IE&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="s1">&amp;#39;FR&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="s1">&amp;#39;DE&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="kc">False&lt;/span>&lt;span class="p">]}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>:scream:&lt;/p>
&lt;h3 id="the-norway-fix" class="relative group">The Norway fix &lt;span class="absolute top-0 w-6 transition-opacity opacity-0 -start-6 not-prose group-hover:opacity-100">&lt;a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700" style="text-decoration-line: none !important;" href="#the-norway-fix" aria-label="Anchor">#&lt;/a>&lt;/span>&lt;/h3>&lt;p>Use quotes:&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-yaml" data-lang="yaml">&lt;span class="line">&lt;span class="cl">&lt;span class="nt">countries&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>- &lt;span class="s2">&amp;#34;GB&amp;#34;&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>- &lt;span class="s2">&amp;#34;IE&amp;#34;&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>- &lt;span class="s2">&amp;#34;FR&amp;#34;&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>- &lt;span class="s2">&amp;#34;DE&amp;#34;&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>- &lt;span class="s2">&amp;#34;NO&amp;#34;&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-python" data-lang="python">&lt;span class="line">&lt;span class="cl">&lt;span class="o">&amp;gt;&amp;gt;&amp;gt;&lt;/span> &lt;span class="k">with&lt;/span> &lt;span class="nb">open&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s2">&amp;#34;countries.yml&amp;#34;&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="k">as&lt;/span> &lt;span class="n">f&lt;/span>&lt;span class="p">:&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="o">...&lt;/span> &lt;span class="n">yaml&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">safe_load&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">f&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="o">...&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">{&lt;/span>&lt;span class="s1">&amp;#39;countries&amp;#39;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="p">[&lt;/span>&lt;span class="s1">&amp;#39;GB&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="s1">&amp;#39;IE&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="s1">&amp;#39;FR&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="s1">&amp;#39;DE&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="s1">&amp;#39;NO&amp;#39;&lt;/span>&lt;span class="p">]}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>ðŸ‡³ðŸ‡´ âœ…&lt;/p>
&lt;h3 id="the-python-31-problem" class="relative group">The Python 3.1 problem &lt;span class="absolute top-0 w-6 transition-opacity opacity-0 -start-6 not-prose group-hover:opacity-100">&lt;a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700" style="text-decoration-line: none !important;" href="#the-python-31-problem" aria-label="Anchor">#&lt;/a>&lt;/span>&lt;/h3>&lt;p>A similar problem will affect the Python community in October 2021, when
&lt;a href="https://peps.python.org/pep-0619/" target="_blank" rel="noreferrer">Python 3.10 comes out&lt;/a>.&lt;/p>
&lt;p>Why?&lt;/p>
&lt;p>When &lt;code>3.10&lt;/code> is added to YAML, for example in CI test matrix config, it&amp;rsquo;s interpreted as
a float. This:&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-yaml" data-lang="yaml">&lt;span class="line">&lt;span class="cl">&lt;span class="nt">python-version&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="m">3.6&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="m">3.7&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="m">3.8&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="m">3.9&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="m">3.10&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">pypy3]&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>Turns into this:&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-python" data-lang="python">&lt;span class="line">&lt;span class="cl">&lt;span class="o">&amp;gt;&amp;gt;&amp;gt;&lt;/span> &lt;span class="kn">import&lt;/span> &lt;span class="nn">yaml&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="o">&amp;gt;&amp;gt;&amp;gt;&lt;/span> &lt;span class="k">with&lt;/span> &lt;span class="nb">open&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s2">&amp;#34;versions.yml&amp;#34;&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="k">as&lt;/span> &lt;span class="n">f&lt;/span>&lt;span class="p">:&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="o">...&lt;/span> &lt;span class="n">yaml&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">safe_load&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">f&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="o">...&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">{&lt;/span>&lt;span class="s1">&amp;#39;python-version&amp;#39;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="p">[&lt;/span>&lt;span class="mf">3.6&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mf">3.7&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mf">3.8&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mf">3.9&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mf">3.1&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="s1">&amp;#39;pypy3&amp;#39;&lt;/span>&lt;span class="p">]}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>CI failed! It&amp;rsquo;s not &lt;a href="https://peps.python.org/pep-0375/" target="_blank" rel="noreferrer">2009&lt;/a>! Python 3.1 not found!&lt;/p>
&lt;p>:scream:&lt;/p>
&lt;p>Relatedly, &lt;code>3.10-dev&lt;/code> without quotes works because it&amp;rsquo;s interpreted as a string. But
when deleting &lt;code>-dev&lt;/code>, &lt;code>3.10&lt;/code> is interpreted as a float.&lt;/p>
&lt;h3 id="the-python-310-fix" class="relative group">The Python 3.10 fix &lt;span class="absolute top-0 w-6 transition-opacity opacity-0 -start-6 not-prose group-hover:opacity-100">&lt;a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700" style="text-decoration-line: none !important;" href="#the-python-310-fix" aria-label="Anchor">#&lt;/a>&lt;/span>&lt;/h3>&lt;p>Version numbers are strings, not floats. Use quotes:&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-yaml" data-lang="yaml">&lt;span class="line">&lt;span class="cl">&lt;span class="nt">python-version&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="s2">&amp;#34;3.6&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="s2">&amp;#34;3.7&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="s2">&amp;#34;3.8&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="s2">&amp;#34;3.9&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="s2">&amp;#34;3.10&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="s2">&amp;#34;pypy3&amp;#34;&lt;/span>&lt;span class="p">]&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-python" data-lang="python">&lt;span class="line">&lt;span class="cl">&lt;span class="o">&amp;gt;&amp;gt;&amp;gt;&lt;/span> &lt;span class="kn">import&lt;/span> &lt;span class="nn">yaml&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="o">&amp;gt;&amp;gt;&amp;gt;&lt;/span> &lt;span class="k">with&lt;/span> &lt;span class="nb">open&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s2">&amp;#34;versions.yml&amp;#34;&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="k">as&lt;/span> &lt;span class="n">f&lt;/span>&lt;span class="p">:&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="o">...&lt;/span> &lt;span class="n">yaml&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">safe_load&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">f&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="o">...&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">{&lt;/span>&lt;span class="s1">&amp;#39;python-version&amp;#39;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="p">[&lt;/span>&lt;span class="s1">&amp;#39;3.6&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="s1">&amp;#39;3.7&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="s1">&amp;#39;3.8&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="s1">&amp;#39;3.9&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="s1">&amp;#39;3.10&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="s1">&amp;#39;pypy3&amp;#39;&lt;/span>&lt;span class="p">]}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>ðŸ âœ…&lt;/p>
&lt;h3 id="see-also" class="relative group">See also &lt;span class="absolute top-0 w-6 transition-opacity opacity-0 -start-6 not-prose group-hover:opacity-100">&lt;a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700" style="text-decoration-line: none !important;" href="#see-also" aria-label="Anchor">#&lt;/a>&lt;/span>&lt;/h3>&lt;p>&lt;a href="https://github.com/asottile/flake8-2020/" target="_blank" rel="noreferrer">flake8-2020&lt;/a> is a useful Flake8 plugin to
find Python 3.10 and other bugs caused by assumptions about the length of version
numbers when using &lt;code>sys.version&lt;/code> and &lt;code>sys.version_info&lt;/code>.&lt;/p>
&lt;hr>
&lt;p>&lt;small>Header photo:
&amp;ldquo;&lt;a target="_blank" rel="noopener noreferrer" href="https://www.flickr.com/photos/49968232@N00/2115403318">zero&lt;/a>&amp;rdquo;
by
&lt;a target="_blank" rel="noopener noreferrer" href="https://www.flickr.com/photos/49968232@N00">Leo
Reynolds&lt;/a> is licensed under
&lt;a target="_blank" rel="noopener noreferrer" href="https://creativecommons.org/licenses/by-nc-sa/2.0/?ref=openverse">CC
BY-NC-SA 2.0&lt;/a>.&lt;/small>&lt;/p></description></item><item><title>Python version share over time, 6</title><link>https://hugovk.dev/blog/2020/python-version-share-over-time-6/</link><pubDate>Wed, 01 Jan 2020 16:36:25 +0000</pubDate><guid>https://hugovk.dev/blog/2020/python-version-share-over-time-6/</guid><description>&lt;h2 id="january-2016--december-2019" class="relative group">January 2016 â€” December 2019 &lt;span class="absolute top-0 w-6 transition-opacity opacity-0 -start-6 not-prose group-hover:opacity-100">&lt;a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700" style="text-decoration-line: none !important;" href="#january-2016--december-2019" aria-label="Anchor">#&lt;/a>&lt;/span>&lt;/h2>&lt;p>To celebrate the end of life of &lt;a href="https://www.python.org/doc/sunset-python-2/" target="_blank" rel="noreferrer">Python 2&lt;/a>
on &lt;a href="https://peps.python.org/pep-0373/" target="_blank" rel="noreferrer">1st January 2020&lt;/a>, hereâ€™s some statistics showing
how much different Python versions have been used over four years.&lt;/p>
&lt;p>Hereâ€™s the pip installs for all packages from the
&lt;a href="https://pypi.org/" target="_blank" rel="noreferrer">Python Package Index (PyPI)&lt;/a>, between January 2016 and December
2019:&lt;/p>
&lt;p>





&lt;figure>
 
 








 
 &lt;picture
 class="mx-auto my-0 rounded-md"
 
 >
 
 
 
 
 &lt;source
 
 srcset="https://hugovk.dev/blog/2020/python-version-share-over-time-6/pypi_hu_6a31d0007bd63da9.webp 330w,/blog/2020/python-version-share-over-time-6/pypi_hu_bf78ea7d5eab50da.webp 660w
 
 ,/blog/2020/python-version-share-over-time-6/pypi_hu_59f17a594b286442.webp 1024w
 
 
 ,/blog/2020/python-version-share-over-time-6/pypi_hu_5f5f0cafd646ba66.webp 1320w
 "
 
 sizes="100vw"
 type="image/webp"
 />
 
 &lt;img
 width="1536"
 height="1152"
 class="mx-auto my-0 rounded-md"
 alt="all"
 loading="lazy" decoding="async"
 
 src="https://hugovk.dev/blog/2020/python-version-share-over-time-6/pypi_hu_6cf50b60d5efb3c9.png"
 srcset="https://hugovk.dev/blog/2020/python-version-share-over-time-6/pypi_hu_d607637ae2e05ad6.png 330w,/blog/2020/python-version-share-over-time-6/pypi_hu_6cf50b60d5efb3c9.png 660w
 
 ,/blog/2020/python-version-share-over-time-6/pypi_hu_329f66207c044d13.png 1024w
 
 
 ,/blog/2020/python-version-share-over-time-6/pypi_hu_2b4d3fbfe85797e.png 1320w
 "
 sizes="100vw"
 
 />
 &lt;/picture>
 


&lt;/figure>
&lt;/p>
&lt;h3 id="pip" class="relative group">&lt;a href="https://github.com/pypa/pip" target="_blank" rel="noreferrer">pip&lt;/a> &lt;span class="absolute top-0 w-6 transition-opacity opacity-0 -start-6 not-prose group-hover:opacity-100">&lt;a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700" style="text-decoration-line: none !important;" href="#pip" aria-label="Anchor">#&lt;/a>&lt;/span>&lt;/h3>&lt;p>The package installer&lt;/p>
&lt;p>






 
 
&lt;figure>&lt;img src="https://user-images.githubusercontent.com/1324225/71643625-af087280-2cc4-11ea-9997-10aae072ac1d.png" alt="pip" class="mx-auto my-0 rounded-md" />
&lt;/figure>
&lt;/p>
&lt;h3 id="six" class="relative group">&lt;a href="https://github.com/benjaminp/six" target="_blank" rel="noreferrer">six&lt;/a> &lt;span class="absolute top-0 w-6 transition-opacity opacity-0 -start-6 not-prose group-hover:opacity-100">&lt;a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700" style="text-decoration-line: none !important;" href="#six" aria-label="Anchor">#&lt;/a>&lt;/span>&lt;/h3>&lt;p>Python 2 and 3 compatibility library&lt;/p>
&lt;p>






 
 
&lt;figure>&lt;img src="https://user-images.githubusercontent.com/1324225/71643630-b62f8080-2cc4-11ea-9461-1204f4dd117e.png" alt="six" class="mx-auto my-0 rounded-md" />
&lt;/figure>
&lt;/p>
&lt;h3 id="numpy" class="relative group">&lt;a href="https://github.com/numpy/numpy" target="_blank" rel="noreferrer">NumPy&lt;/a> &lt;span class="absolute top-0 w-6 transition-opacity opacity-0 -start-6 not-prose group-hover:opacity-100">&lt;a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700" style="text-decoration-line: none !important;" href="#numpy" aria-label="Anchor">#&lt;/a>&lt;/span>&lt;/h3>&lt;p>Scientific computing library&lt;/p>
&lt;p>






 
 
&lt;figure>&lt;img src="https://user-images.githubusercontent.com/1324225/71643635-bb8ccb00-2cc4-11ea-9c4f-7095b15210f6.png" alt="numpy" class="mx-auto my-0 rounded-md" />
&lt;/figure>
&lt;/p>
&lt;h3 id="pytest" class="relative group">&lt;a href="https://github.com/pytest-dev/pytest" target="_blank" rel="noreferrer">pytest&lt;/a> &lt;span class="absolute top-0 w-6 transition-opacity opacity-0 -start-6 not-prose group-hover:opacity-100">&lt;a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700" style="text-decoration-line: none !important;" href="#pytest" aria-label="Anchor">#&lt;/a>&lt;/span>&lt;/h3>&lt;p>Testing framework&lt;/p>
&lt;p>






 
 
&lt;figure>&lt;img src="https://user-images.githubusercontent.com/1324225/71643639-c0ea1580-2cc4-11ea-9aef-2a0d9cf816ae.png" alt="pytest" class="mx-auto my-0 rounded-md" />
&lt;/figure>
&lt;/p>
&lt;h3 id="pandas" class="relative group">&lt;a href="https://github.com/pandas-dev/pandas" target="_blank" rel="noreferrer">pandas&lt;/a> &lt;span class="absolute top-0 w-6 transition-opacity opacity-0 -start-6 not-prose group-hover:opacity-100">&lt;a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700" style="text-decoration-line: none !important;" href="#pandas" aria-label="Anchor">#&lt;/a>&lt;/span>&lt;/h3>&lt;p>Data analysis toolkit&lt;/p>
&lt;p>






 
 
&lt;figure>&lt;img src="https://user-images.githubusercontent.com/1324225/71643641-c8a9ba00-2cc4-11ea-8f58-9c244ff958aa.png" alt="pandas" class="mx-auto my-0 rounded-md" />
&lt;/figure>
&lt;/p>
&lt;h3 id="coveragepy" class="relative group">&lt;a href="https://github.com/nedbat/coveragepy" target="_blank" rel="noreferrer">Coverage.py&lt;/a> &lt;span class="absolute top-0 w-6 transition-opacity opacity-0 -start-6 not-prose group-hover:opacity-100">&lt;a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700" style="text-decoration-line: none !important;" href="#coveragepy" aria-label="Anchor">#&lt;/a>&lt;/span>&lt;/h3>&lt;p>Code coverage testing&lt;/p>
&lt;p>






 
 
&lt;figure>&lt;img src="https://user-images.githubusercontent.com/1324225/71643645-ce070480-2cc4-11ea-85b5-e408ea682e31.png" alt="coverage" class="mx-auto my-0 rounded-md" />
&lt;/figure>
&lt;/p>
&lt;h3 id="pillow" class="relative group">&lt;a href="https://github.com/python-pillow/Pillow" target="_blank" rel="noreferrer">Pillow&lt;/a> &lt;span class="absolute top-0 w-6 transition-opacity opacity-0 -start-6 not-prose group-hover:opacity-100">&lt;a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700" style="text-decoration-line: none !important;" href="#pillow" aria-label="Anchor">#&lt;/a>&lt;/span>&lt;/h3>&lt;p>Imaging library&lt;/p>
&lt;p>






 
 
&lt;figure>&lt;img src="https://user-images.githubusercontent.com/1324225/71643648-d3644f00-2cc4-11ea-9b3e-7271788d1f5d.png" alt="pillow" class="mx-auto my-0 rounded-md" />
&lt;/figure>
&lt;/p>
&lt;h3 id="django" class="relative group">&lt;a href="https://github.com/python-pillow/Pillow" target="_blank" rel="noreferrer">Django&lt;/a> &lt;span class="absolute top-0 w-6 transition-opacity opacity-0 -start-6 not-prose group-hover:opacity-100">&lt;a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700" style="text-decoration-line: none !important;" href="#django" aria-label="Anchor">#&lt;/a>&lt;/span>&lt;/h3>&lt;p>Web framework&lt;/p>
&lt;p>






 
 
&lt;figure>&lt;img src="https://user-images.githubusercontent.com/1324225/71643651-d95a3000-2cc4-11ea-891e-a218090c5db9.png" alt="django" class="mx-auto my-0 rounded-md" />
&lt;/figure>
&lt;/p>
&lt;h3 id="matplotlib" class="relative group">&lt;a href="https://github.com/matplotlib/matplotlib" target="_blank" rel="noreferrer">Matplotlib&lt;/a> &lt;span class="absolute top-0 w-6 transition-opacity opacity-0 -start-6 not-prose group-hover:opacity-100">&lt;a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700" style="text-decoration-line: none !important;" href="#matplotlib" aria-label="Anchor">#&lt;/a>&lt;/span>&lt;/h3>&lt;p>2D plotting library&lt;/p>
&lt;p>






 
 
&lt;figure>&lt;img src="https://user-images.githubusercontent.com/1324225/71643656-e6771f00-2cc4-11ea-808a-464ee01f88b5.png" alt="matplotlib" class="mx-auto my-0 rounded-md" />
&lt;/figure>
&lt;/p>
&lt;h3 id="flake8" class="relative group">&lt;a href="https://gitlab.com/pycqa/flake8" target="_blank" rel="noreferrer">Flake8&lt;/a> &lt;span class="absolute top-0 w-6 transition-opacity opacity-0 -start-6 not-prose group-hover:opacity-100">&lt;a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700" style="text-decoration-line: none !important;" href="#flake8" aria-label="Anchor">#&lt;/a>&lt;/span>&lt;/h3>&lt;p>Linter&lt;/p>
&lt;p>






 
 
&lt;figure>&lt;img src="https://user-images.githubusercontent.com/1324225/71643661-ec6d0000-2cc4-11ea-9ef8-f5da11826684.png" alt="flake8" class="mx-auto my-0 rounded-md" />
&lt;/figure>
&lt;/p>
&lt;h3 id="pylint" class="relative group">&lt;a href="https://github.com/PyCQA/pylint/" target="_blank" rel="noreferrer">Pylint&lt;/a> &lt;span class="absolute top-0 w-6 transition-opacity opacity-0 -start-6 not-prose group-hover:opacity-100">&lt;a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700" style="text-decoration-line: none !important;" href="#pylint" aria-label="Anchor">#&lt;/a>&lt;/span>&lt;/h3>&lt;p>Linter&lt;/p>
&lt;p>






 
 
&lt;figure>&lt;img src="https://user-images.githubusercontent.com/1324225/71643663-f42ca480-2cc4-11ea-9588-7290df0fa003.png" alt="pylint" class="mx-auto my-0 rounded-md" />
&lt;/figure>
&lt;/p>
&lt;h3 id="tensorflow" class="relative group">&lt;a href="https://github.com/tensorflow/tensorflow/" target="_blank" rel="noreferrer">TensorFlow&lt;/a> &lt;span class="absolute top-0 w-6 transition-opacity opacity-0 -start-6 not-prose group-hover:opacity-100">&lt;a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700" style="text-decoration-line: none !important;" href="#tensorflow" aria-label="Anchor">#&lt;/a>&lt;/span>&lt;/h3>&lt;p>Machine learning library&lt;/p>
&lt;p>






 
 
&lt;figure>&lt;img src="https://user-images.githubusercontent.com/1324225/71645996-1506f100-2ce9-11ea-80d8-43b499348a54.png" alt="tensorflow" class="mx-auto my-0 rounded-md" />
&lt;/figure>
&lt;/p>
&lt;h3 id="pylast" class="relative group">&lt;a href="https://github.com/pylast/pylast" target="_blank" rel="noreferrer">pylast&lt;/a> &lt;span class="absolute top-0 w-6 transition-opacity opacity-0 -start-6 not-prose group-hover:opacity-100">&lt;a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700" style="text-decoration-line: none !important;" href="#pylast" aria-label="Anchor">#&lt;/a>&lt;/span>&lt;/h3>&lt;p>Interface to Last.fm&lt;/p>
&lt;p>






 
 
&lt;figure>&lt;img src="https://user-images.githubusercontent.com/1324225/71643665-f989ef00-2cc4-11ea-921e-1d705524151c.png" alt="pylast" class="mx-auto my-0 rounded-md" />
&lt;/figure>
&lt;/p>
&lt;h2 id="how" class="relative group">How &lt;span class="absolute top-0 w-6 transition-opacity opacity-0 -start-6 not-prose group-hover:opacity-100">&lt;a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700" style="text-decoration-line: none !important;" href="#how" aria-label="Anchor">#&lt;/a>&lt;/span>&lt;/h2>&lt;p>Statistics were collected using
&lt;a href="https://github.com/hugovk/pypi-tools/blob/master/pypi-trends.py" target="_blank" rel="noreferrer">pypi-trends.py&lt;/a>, a
wrapper around &lt;a href="https://github.com/ofek/pypinfo" target="_blank" rel="noreferrer">pypinfo&lt;/a> and
&lt;a href="https://github.com/hugovk/pypistats" target="_blank" rel="noreferrer">pypistats&lt;/a> to fetch all monthly downloads from the
PyPI database on Google BigQuery and save them as JSON files. Data was downloaded over
several days as getting all months uses up a lot of free BigQuery quota. Then
&lt;a href="https://github.com/hugovk/pypi-tools/blob/master/jsons2csv.py" target="_blank" rel="noreferrer">jsons2csv.py&lt;/a> plots a
chart using &lt;a href="https://github.com/matplotlib/matplotlib" target="_blank" rel="noreferrer">matplotlib&lt;/a>. Raw JSON data is in
the &lt;a href="https://github.com/hugovk/pypi-tools/tree/master/data" target="_blank" rel="noreferrer">repo&lt;/a>.&lt;/p>
&lt;h2 id="see-also" class="relative group">See also &lt;span class="absolute top-0 w-6 transition-opacity opacity-0 -start-6 not-prose group-hover:opacity-100">&lt;a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700" style="text-decoration-line: none !important;" href="#see-also" aria-label="Anchor">#&lt;/a>&lt;/span>&lt;/h2>&lt;ul>
&lt;li>&lt;a href="https://langui.sh/2016/12/09/data-driven-decisions/" target="_blank" rel="noreferrer">Data Driven Decisions Using PyPI Download Statistics&lt;/a>&lt;/li>
&lt;li>&lt;a href="https://hugovk.dev/blog/2018/python-version-share-over-time-1/">Python version share over time,
1&lt;/a> (January
2016â€Šâ€”â€ŠJune 2018)&lt;/li>
&lt;li>&lt;a href="https://hugovk.dev/blog/2018/python-version-share-over-time-2/">Python version share over time,
2&lt;/a> (January
2016â€Šâ€”â€ŠOctober 2018)&lt;/li>
&lt;li>&lt;a href="../../2019/python-version-share-over-time-3/">Python version share over time, 3&lt;/a>
(January 2016â€Šâ€”â€ŠDecember 2018)&lt;/li>
&lt;li>&lt;a href="../../2019/python-version-share-over-time-4/">Python version share over time, 4&lt;/a>
(January 2016â€Šâ€”â€ŠMarch 2019)&lt;/li>
&lt;li>&lt;a href="../../2019/python-version-share-over-time-5/">Python version share over time, 5&lt;/a>
(January 2016â€Šâ€”â€ŠOctober 2019)&lt;/li>
&lt;li>&lt;a href="https://pypistats.org/" target="_blank" rel="noreferrer">PyPI Stats&lt;/a>: See package download data for the past 180 days,
without needing to sign up for BigQuery&lt;/li>
&lt;li>&lt;a href="https://github.com/hugovk/pypistats" target="_blank" rel="noreferrer">pypistats&lt;/a>: A command-line tool to access data
from PyPI Stats&lt;/li>
&lt;/ul></description></item><item><title>Python version share over time, 5</title><link>https://hugovk.dev/blog/2019/python-version-share-over-time-5/</link><pubDate>Mon, 04 Nov 2019 14:40:48 +0000</pubDate><guid>https://hugovk.dev/blog/2019/python-version-share-over-time-5/</guid><description>&lt;h2 id="january-2016--october-2019" class="relative group">January 2016 â€” October 2019 &lt;span class="absolute top-0 w-6 transition-opacity opacity-0 -start-6 not-prose group-hover:opacity-100">&lt;a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700" style="text-decoration-line: none !important;" href="#january-2016--october-2019" aria-label="Anchor">#&lt;/a>&lt;/span>&lt;/h2>&lt;p>To celebrate the release of
&lt;a href="https://discuss.python.org/t/python-3-8-0-is-now-available/2478?u=hugovk" target="_blank" rel="noreferrer">Python 3.8.0&lt;/a>
on &lt;a href="https://peps.python.org/pep-0569/" target="_blank" rel="noreferrer">14th October 2019&lt;/a>, and with
&lt;a href="https://python2woop.pw/" target="_blank" rel="noreferrer">less than two months left for Python 2&lt;/a>, hereâ€™s some
statistics showing how much different Python versions have been used over nearly four
years.&lt;/p>
&lt;p>Hereâ€™s the pip installs for all packages from the
&lt;a href="https://pypi.org/" target="_blank" rel="noreferrer">Python Package Index (PyPI)&lt;/a>, between January 2016 and October 2019:&lt;/p>
&lt;p>





&lt;figure>
 
 








 
 &lt;picture
 class="mx-auto my-0 rounded-md"
 
 >
 
 
 
 
 &lt;source
 
 srcset="https://hugovk.dev/blog/2019/python-version-share-over-time-5/pypi_hu_495d148c3371a75d.webp 330w,/blog/2019/python-version-share-over-time-5/pypi_hu_843de8b721d4f9af.webp 660w
 
 ,/blog/2019/python-version-share-over-time-5/pypi_hu_bb66432800e9e784.webp 1024w
 
 
 ,/blog/2019/python-version-share-over-time-5/pypi_hu_e88e84a076a5df9e.webp 1320w
 "
 
 sizes="100vw"
 type="image/webp"
 />
 
 &lt;img
 width="1536"
 height="1152"
 class="mx-auto my-0 rounded-md"
 alt="pypi"
 loading="lazy" decoding="async"
 
 src="https://hugovk.dev/blog/2019/python-version-share-over-time-5/pypi_hu_a52a9377ea705e2e.png"
 srcset="https://hugovk.dev/blog/2019/python-version-share-over-time-5/pypi_hu_1ea6f3a6f8f14c12.png 330w,/blog/2019/python-version-share-over-time-5/pypi_hu_a52a9377ea705e2e.png 660w
 
 ,/blog/2019/python-version-share-over-time-5/pypi_hu_c87dcb7588d38064.png 1024w
 
 
 ,/blog/2019/python-version-share-over-time-5/pypi_hu_ee0a3a072e593e7a.png 1320w
 "
 sizes="100vw"
 
 />
 &lt;/picture>
 


&lt;/figure>
&lt;/p>
&lt;h3 id="pip" class="relative group">&lt;a href="https://github.com/pypa/pip" target="_blank" rel="noreferrer">pip&lt;/a> &lt;span class="absolute top-0 w-6 transition-opacity opacity-0 -start-6 not-prose group-hover:opacity-100">&lt;a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700" style="text-decoration-line: none !important;" href="#pip" aria-label="Anchor">#&lt;/a>&lt;/span>&lt;/h3>&lt;p>The package installer&lt;/p>
&lt;p>






 
 
&lt;figure>&lt;img src="https://user-images.githubusercontent.com/1324225/68128596-ab54ab80-ff20-11e9-96fa-867b403efc89.png" alt="pip" class="mx-auto my-0 rounded-md" />
&lt;/figure>
&lt;/p>
&lt;h3 id="six" class="relative group">&lt;a href="https://github.com/benjaminp/six" target="_blank" rel="noreferrer">six&lt;/a> &lt;span class="absolute top-0 w-6 transition-opacity opacity-0 -start-6 not-prose group-hover:opacity-100">&lt;a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700" style="text-decoration-line: none !important;" href="#six" aria-label="Anchor">#&lt;/a>&lt;/span>&lt;/h3>&lt;p>Python 2 and 3 compatibility library&lt;/p>
&lt;p>






 
 
&lt;figure>&lt;img src="https://user-images.githubusercontent.com/1324225/68128614-b60f4080-ff20-11e9-92e3-892f29ecceea.png" alt="six" class="mx-auto my-0 rounded-md" />
&lt;/figure>
&lt;/p>
&lt;h3 id="numpy" class="relative group">&lt;a href="https://github.com/numpy/numpy" target="_blank" rel="noreferrer">NumPy&lt;/a> &lt;span class="absolute top-0 w-6 transition-opacity opacity-0 -start-6 not-prose group-hover:opacity-100">&lt;a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700" style="text-decoration-line: none !important;" href="#numpy" aria-label="Anchor">#&lt;/a>&lt;/span>&lt;/h3>&lt;p>Scientific computing library&lt;/p>
&lt;p>






 
 
&lt;figure>&lt;img src="https://user-images.githubusercontent.com/1324225/68128663-d0491e80-ff20-11e9-9442-0546e1a9843c.png" alt="numpy" class="mx-auto my-0 rounded-md" />
&lt;/figure>
&lt;/p>
&lt;h3 id="pytest" class="relative group">&lt;a href="https://github.com/pytest-dev/pytest" target="_blank" rel="noreferrer">pytest&lt;/a> &lt;span class="absolute top-0 w-6 transition-opacity opacity-0 -start-6 not-prose group-hover:opacity-100">&lt;a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700" style="text-decoration-line: none !important;" href="#pytest" aria-label="Anchor">#&lt;/a>&lt;/span>&lt;/h3>&lt;p>Testing framework&lt;/p>
&lt;p>






 
 
&lt;figure>&lt;img src="https://user-images.githubusercontent.com/1324225/68128691-e0f99480-ff20-11e9-9bd8-87e12318d149.png" alt="pytest" class="mx-auto my-0 rounded-md" />
&lt;/figure>
&lt;/p>
&lt;h3 id="pandas" class="relative group">&lt;a href="https://github.com/pandas-dev/pandas" target="_blank" rel="noreferrer">pandas&lt;/a> &lt;span class="absolute top-0 w-6 transition-opacity opacity-0 -start-6 not-prose group-hover:opacity-100">&lt;a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700" style="text-decoration-line: none !important;" href="#pandas" aria-label="Anchor">#&lt;/a>&lt;/span>&lt;/h3>&lt;p>Data analysis toolkit&lt;/p>
&lt;p>






 
 
&lt;figure>&lt;img src="https://user-images.githubusercontent.com/1324225/68142151-9cc5be80-ff37-11e9-93d9-72edd2e35e6b.png" alt="pandas" class="mx-auto my-0 rounded-md" />
&lt;/figure>
&lt;/p>
&lt;h3 id="coveragepy" class="relative group">&lt;a href="https://github.com/nedbat/coveragepy" target="_blank" rel="noreferrer">Coverage.py&lt;/a> &lt;span class="absolute top-0 w-6 transition-opacity opacity-0 -start-6 not-prose group-hover:opacity-100">&lt;a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700" style="text-decoration-line: none !important;" href="#coveragepy" aria-label="Anchor">#&lt;/a>&lt;/span>&lt;/h3>&lt;p>Code coverage testing&lt;/p>
&lt;p>






 
 
&lt;figure>&lt;img src="https://user-images.githubusercontent.com/1324225/68128715-ea82fc80-ff20-11e9-80a9-515c4b5265c2.png" alt="coverage" class="mx-auto my-0 rounded-md" />
&lt;/figure>
&lt;/p>
&lt;h3 id="pillow" class="relative group">&lt;a href="https://github.com/python-pillow/Pillow" target="_blank" rel="noreferrer">Pillow&lt;/a> &lt;span class="absolute top-0 w-6 transition-opacity opacity-0 -start-6 not-prose group-hover:opacity-100">&lt;a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700" style="text-decoration-line: none !important;" href="#pillow" aria-label="Anchor">#&lt;/a>&lt;/span>&lt;/h3>&lt;p>Imaging library&lt;/p>
&lt;p>






 
 
&lt;figure>&lt;img src="https://user-images.githubusercontent.com/1324225/68128908-49e10c80-ff21-11e9-977e-f25dfa13b2d4.png" alt="pillow" class="mx-auto my-0 rounded-md" />
&lt;/figure>
&lt;/p>
&lt;h3 id="django" class="relative group">&lt;a href="https://github.com/python-pillow/Pillow" target="_blank" rel="noreferrer">Django&lt;/a> &lt;span class="absolute top-0 w-6 transition-opacity opacity-0 -start-6 not-prose group-hover:opacity-100">&lt;a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700" style="text-decoration-line: none !important;" href="#django" aria-label="Anchor">#&lt;/a>&lt;/span>&lt;/h3>&lt;p>Web framework&lt;/p>
&lt;p>






 
 
&lt;figure>&lt;img src="https://user-images.githubusercontent.com/1324225/68128927-52394780-ff21-11e9-80d6-1dadf2525ebc.png" alt="django" class="mx-auto my-0 rounded-md" />
&lt;/figure>
&lt;/p>
&lt;h3 id="matplotlib" class="relative group">&lt;a href="https://github.com/matplotlib/matplotlib" target="_blank" rel="noreferrer">Matplotlib&lt;/a> &lt;span class="absolute top-0 w-6 transition-opacity opacity-0 -start-6 not-prose group-hover:opacity-100">&lt;a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700" style="text-decoration-line: none !important;" href="#matplotlib" aria-label="Anchor">#&lt;/a>&lt;/span>&lt;/h3>&lt;p>2D plotting library&lt;/p>
&lt;p>






 
 
&lt;figure>&lt;img src="https://user-images.githubusercontent.com/1324225/68128947-5b2a1900-ff21-11e9-9386-d366a030fe7c.png" alt="matplotlib" class="mx-auto my-0 rounded-md" />
&lt;/figure>
&lt;/p>
&lt;h3 id="flake8" class="relative group">&lt;a href="https://gitlab.com/pycqa/flake8" target="_blank" rel="noreferrer">Flake8&lt;/a> &lt;span class="absolute top-0 w-6 transition-opacity opacity-0 -start-6 not-prose group-hover:opacity-100">&lt;a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700" style="text-decoration-line: none !important;" href="#flake8" aria-label="Anchor">#&lt;/a>&lt;/span>&lt;/h3>&lt;p>Linter&lt;/p>
&lt;p>






 
 
&lt;figure>&lt;img src="https://user-images.githubusercontent.com/1324225/68128961-62e9bd80-ff21-11e9-8a45-001c7ae06c1d.png" alt="flake8" class="mx-auto my-0 rounded-md" />
&lt;/figure>
&lt;/p>
&lt;h3 id="pylint" class="relative group">&lt;a href="https://github.com/PyCQA/pylint/" target="_blank" rel="noreferrer">Pylint&lt;/a> &lt;span class="absolute top-0 w-6 transition-opacity opacity-0 -start-6 not-prose group-hover:opacity-100">&lt;a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700" style="text-decoration-line: none !important;" href="#pylint" aria-label="Anchor">#&lt;/a>&lt;/span>&lt;/h3>&lt;p>Linter&lt;/p>
&lt;p>






 
 
&lt;figure>&lt;img src="https://user-images.githubusercontent.com/1324225/68128981-6bda8f00-ff21-11e9-9a97-903892a47823.png" alt="pylint" class="mx-auto my-0 rounded-md" />
&lt;/figure>
&lt;/p>
&lt;h3 id="pylast" class="relative group">&lt;a href="https://github.com/pylast/pylast" target="_blank" rel="noreferrer">pylast&lt;/a> &lt;span class="absolute top-0 w-6 transition-opacity opacity-0 -start-6 not-prose group-hover:opacity-100">&lt;a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700" style="text-decoration-line: none !important;" href="#pylast" aria-label="Anchor">#&lt;/a>&lt;/span>&lt;/h3>&lt;p>Interface to Last.fm&lt;/p>
&lt;p>






 
 
&lt;figure>&lt;img src="https://user-images.githubusercontent.com/1324225/68128999-77c65100-ff21-11e9-9ac0-7f9c6071b07a.png" alt="pylast" class="mx-auto my-0 rounded-md" />
&lt;/figure>
&lt;/p>
&lt;h2 id="how" class="relative group">How &lt;span class="absolute top-0 w-6 transition-opacity opacity-0 -start-6 not-prose group-hover:opacity-100">&lt;a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700" style="text-decoration-line: none !important;" href="#how" aria-label="Anchor">#&lt;/a>&lt;/span>&lt;/h2>&lt;p>Statistics were collected using
&lt;a href="https://github.com/hugovk/pypi-tools/blob/master/pypi-trends.py" target="_blank" rel="noreferrer">pypi-trends.py&lt;/a>, a
wrapper around &lt;a href="https://github.com/ofek/pypinfo" target="_blank" rel="noreferrer">pypinfo&lt;/a> and
&lt;a href="https://github.com/hugovk/pypistats" target="_blank" rel="noreferrer">pypistats&lt;/a> to fetch all monthly downloads from the
PyPI database on Google BigQuery and save them as JSON files. Data was downloaded over
several days as getting all months uses up a lot of free BigQuery quota. Then
&lt;a href="https://github.com/hugovk/pypi-tools/blob/master/jsons2csv.py" target="_blank" rel="noreferrer">jsons2csv.py&lt;/a> plots a
chart using &lt;a href="https://github.com/matplotlib/matplotlib" target="_blank" rel="noreferrer">matplotlib&lt;/a>. Raw JSON data is in
the &lt;a href="https://github.com/hugovk/pypi-tools/tree/master/data" target="_blank" rel="noreferrer">repo&lt;/a>.&lt;/p>
&lt;h2 id="see-also" class="relative group">See also &lt;span class="absolute top-0 w-6 transition-opacity opacity-0 -start-6 not-prose group-hover:opacity-100">&lt;a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700" style="text-decoration-line: none !important;" href="#see-also" aria-label="Anchor">#&lt;/a>&lt;/span>&lt;/h2>&lt;ul>
&lt;li>&lt;a href="https://langui.sh/2016/12/09/data-driven-decisions/" target="_blank" rel="noreferrer">Data Driven Decisions Using PyPI Download Statistics&lt;/a>&lt;/li>
&lt;li>&lt;a href="https://hugovk.dev/blog/2018/python-version-share-over-time-1/">Python version share over time,
1&lt;/a> (January
2016â€Šâ€”â€ŠJune 2018)&lt;/li>
&lt;li>&lt;a href="https://hugovk.dev/blog/2018/python-version-share-over-time-2/">Python version share over time,
2&lt;/a> (January
2016â€Šâ€”â€ŠOctober 2018)&lt;/li>
&lt;li>&lt;a href="../../2019/python-version-share-over-time-3/">Python version share over time, 3&lt;/a>
(January 2016â€Šâ€”â€ŠDecember 2018)&lt;/li>
&lt;li>&lt;a href="../../2019/python-version-share-over-time-4/">Python version share over time, 4&lt;/a>
(January 2016â€Šâ€”â€ŠMarch 2019)&lt;/li>
&lt;li>&lt;a href="https://pypistats.org/" target="_blank" rel="noreferrer">PyPI Stats&lt;/a>: See package download data for the past 180 days,
without needing to sign up for BigQuery&lt;/li>
&lt;li>&lt;a href="https://github.com/hugovk/pypistats" target="_blank" rel="noreferrer">pypistats&lt;/a>: A command-line tool to access data
from PyPI Stats&lt;/li>
&lt;/ul></description></item><item><title>Python version share over time, 4</title><link>https://hugovk.dev/blog/2019/python-version-share-over-time-4/</link><pubDate>Thu, 04 Apr 2019 14:58:18 +0000</pubDate><guid>https://hugovk.dev/blog/2019/python-version-share-over-time-4/</guid><description>&lt;h2 id="january-2016--march-2019" class="relative group">January 2016 â€” March 2019 &lt;span class="absolute top-0 w-6 transition-opacity opacity-0 -start-6 not-prose group-hover:opacity-100">&lt;a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700" style="text-decoration-line: none !important;" href="#january-2016--march-2019" aria-label="Anchor">#&lt;/a>&lt;/span>&lt;/h2>&lt;p>To celebrate the release of
&lt;a href="https://www.python.org/downloads/release/python-373/" target="_blank" rel="noreferrer">Python 3.7.3&lt;/a> on
&lt;a href="https://peps.python.org/pep-0537/" target="_blank" rel="noreferrer">25th March 2019&lt;/a>, and with under
&lt;a href="https://python2woop.pw/" target="_blank" rel="noreferrer">nine months left for Python 2&lt;/a>, hereâ€™s some statistics showing
how much different Python versions have been used over the past three years.&lt;/p>
&lt;p>Hereâ€™s the pip installs for all packages from the
&lt;a href="https://pypi.org/" target="_blank" rel="noreferrer">Python Package Index (PyPI)&lt;/a>, between January 2016 and March 2019:&lt;/p>
&lt;p>





&lt;figure>
 
 








 
 &lt;picture
 class="mx-auto my-0 rounded-md"
 
 >
 
 
 
 
 &lt;source
 
 srcset="https://hugovk.dev/blog/2019/python-version-share-over-time-4/4wqa702ngppsv6dxh3zq_hu_c5cd6c7d471873f4.webp 330w,/blog/2019/python-version-share-over-time-4/4wqa702ngppsv6dxh3zq_hu_12ecdcaf0ad0eba.webp 660w
 
 ,/blog/2019/python-version-share-over-time-4/4wqa702ngppsv6dxh3zq_hu_5e80b5a559aa592f.webp 1024w
 
 
 ,/blog/2019/python-version-share-over-time-4/4wqa702ngppsv6dxh3zq_hu_5ace049b93775910.webp 1320w
 "
 
 sizes="100vw"
 type="image/webp"
 />
 
 &lt;img
 width="1536"
 height="1152"
 class="mx-auto my-0 rounded-md"
 alt="pypi"
 loading="lazy" decoding="async"
 
 src="https://hugovk.dev/blog/2019/python-version-share-over-time-4/4wqa702ngppsv6dxh3zq_hu_b82c3db598d56e21.png"
 srcset="https://hugovk.dev/blog/2019/python-version-share-over-time-4/4wqa702ngppsv6dxh3zq_hu_d02c4bc8aac8b03b.png 330w,/blog/2019/python-version-share-over-time-4/4wqa702ngppsv6dxh3zq_hu_b82c3db598d56e21.png 660w
 
 ,/blog/2019/python-version-share-over-time-4/4wqa702ngppsv6dxh3zq_hu_5367fa292a58ba66.png 1024w
 
 
 ,/blog/2019/python-version-share-over-time-4/4wqa702ngppsv6dxh3zq_hu_3eb0210d016ad031.png 1320w
 "
 sizes="100vw"
 
 />
 &lt;/picture>
 


&lt;/figure>
&lt;/p>
&lt;h3 id="pip" class="relative group">&lt;a href="https://github.com/pypa/pip" target="_blank" rel="noreferrer">pip&lt;/a> &lt;span class="absolute top-0 w-6 transition-opacity opacity-0 -start-6 not-prose group-hover:opacity-100">&lt;a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700" style="text-decoration-line: none !important;" href="#pip" aria-label="Anchor">#&lt;/a>&lt;/span>&lt;/h3>&lt;p>The package installer&lt;/p>
&lt;p>





&lt;figure>
 
 








 
 &lt;picture
 class="mx-auto my-0 rounded-md"
 
 >
 
 
 
 
 &lt;source
 
 srcset="https://hugovk.dev/blog/2019/python-version-share-over-time-4/2kncm0d1gnytc8dox1vr_hu_514113c621779f69.webp 330w,/blog/2019/python-version-share-over-time-4/2kncm0d1gnytc8dox1vr_hu_7d911d01f76db597.webp 660w
 
 ,/blog/2019/python-version-share-over-time-4/2kncm0d1gnytc8dox1vr_hu_dc6638b513e5756e.webp 1024w
 
 
 ,/blog/2019/python-version-share-over-time-4/2kncm0d1gnytc8dox1vr_hu_96e2bad407888cdc.webp 1320w
 "
 
 sizes="100vw"
 type="image/webp"
 />
 
 &lt;img
 width="1536"
 height="1152"
 class="mx-auto my-0 rounded-md"
 alt="pip"
 loading="lazy" decoding="async"
 
 src="https://hugovk.dev/blog/2019/python-version-share-over-time-4/2kncm0d1gnytc8dox1vr_hu_3550d560575cdfb7.png"
 srcset="https://hugovk.dev/blog/2019/python-version-share-over-time-4/2kncm0d1gnytc8dox1vr_hu_381122f753cc2141.png 330w,/blog/2019/python-version-share-over-time-4/2kncm0d1gnytc8dox1vr_hu_3550d560575cdfb7.png 660w
 
 ,/blog/2019/python-version-share-over-time-4/2kncm0d1gnytc8dox1vr_hu_17a9746b18764451.png 1024w
 
 
 ,/blog/2019/python-version-share-over-time-4/2kncm0d1gnytc8dox1vr_hu_455003a89c2578ab.png 1320w
 "
 sizes="100vw"
 
 />
 &lt;/picture>
 


&lt;/figure>
&lt;/p>
&lt;h3 id="six" class="relative group">&lt;a href="https://github.com/benjaminp/six" target="_blank" rel="noreferrer">six&lt;/a> &lt;span class="absolute top-0 w-6 transition-opacity opacity-0 -start-6 not-prose group-hover:opacity-100">&lt;a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700" style="text-decoration-line: none !important;" href="#six" aria-label="Anchor">#&lt;/a>&lt;/span>&lt;/h3>&lt;p>Python 2 and 3 compatibility library&lt;/p>
&lt;p>





&lt;figure>
 
 








 
 &lt;picture
 class="mx-auto my-0 rounded-md"
 
 >
 
 
 
 
 &lt;source
 
 srcset="https://hugovk.dev/blog/2019/python-version-share-over-time-4/2s8ienw3purly7d563g3_hu_44dcaadd9970129d.webp 330w,/blog/2019/python-version-share-over-time-4/2s8ienw3purly7d563g3_hu_1fd9e5bf6e92dbd0.webp 660w
 
 ,/blog/2019/python-version-share-over-time-4/2s8ienw3purly7d563g3_hu_fba59333a8bbf190.webp 1024w
 
 
 ,/blog/2019/python-version-share-over-time-4/2s8ienw3purly7d563g3_hu_e3da59426f6c7a10.webp 1320w
 "
 
 sizes="100vw"
 type="image/webp"
 />
 
 &lt;img
 width="1536"
 height="1152"
 class="mx-auto my-0 rounded-md"
 alt="six"
 loading="lazy" decoding="async"
 
 src="https://hugovk.dev/blog/2019/python-version-share-over-time-4/2s8ienw3purly7d563g3_hu_debe466f9d44acfd.png"
 srcset="https://hugovk.dev/blog/2019/python-version-share-over-time-4/2s8ienw3purly7d563g3_hu_511f5439866e3458.png 330w,/blog/2019/python-version-share-over-time-4/2s8ienw3purly7d563g3_hu_debe466f9d44acfd.png 660w
 
 ,/blog/2019/python-version-share-over-time-4/2s8ienw3purly7d563g3_hu_b23cb8dc1a9fc084.png 1024w
 
 
 ,/blog/2019/python-version-share-over-time-4/2s8ienw3purly7d563g3_hu_9e628f6a0d39ba7c.png 1320w
 "
 sizes="100vw"
 
 />
 &lt;/picture>
 


&lt;/figure>
&lt;/p>
&lt;h3 id="numpy" class="relative group">&lt;a href="https://github.com/numpy/numpy" target="_blank" rel="noreferrer">NumPy&lt;/a> &lt;span class="absolute top-0 w-6 transition-opacity opacity-0 -start-6 not-prose group-hover:opacity-100">&lt;a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700" style="text-decoration-line: none !important;" href="#numpy" aria-label="Anchor">#&lt;/a>&lt;/span>&lt;/h3>&lt;p>Scientific computing library&lt;/p>
&lt;p>





&lt;figure>
 
 








 
 &lt;picture
 class="mx-auto my-0 rounded-md"
 
 >
 
 
 
 
 &lt;source
 
 srcset="https://hugovk.dev/blog/2019/python-version-share-over-time-4/slcl0es81ltkdlduthea_hu_bb79c7caf32fcad.webp 330w,/blog/2019/python-version-share-over-time-4/slcl0es81ltkdlduthea_hu_63394c77eba0e1e1.webp 660w
 
 ,/blog/2019/python-version-share-over-time-4/slcl0es81ltkdlduthea_hu_748f4aac579d3821.webp 1024w
 
 
 ,/blog/2019/python-version-share-over-time-4/slcl0es81ltkdlduthea_hu_272d570610c07871.webp 1320w
 "
 
 sizes="100vw"
 type="image/webp"
 />
 
 &lt;img
 width="1536"
 height="1152"
 class="mx-auto my-0 rounded-md"
 alt="NumPy"
 loading="lazy" decoding="async"
 
 src="https://hugovk.dev/blog/2019/python-version-share-over-time-4/slcl0es81ltkdlduthea_hu_e01e27c447836b5c.png"
 srcset="https://hugovk.dev/blog/2019/python-version-share-over-time-4/slcl0es81ltkdlduthea_hu_a1678d6590f11175.png 330w,/blog/2019/python-version-share-over-time-4/slcl0es81ltkdlduthea_hu_e01e27c447836b5c.png 660w
 
 ,/blog/2019/python-version-share-over-time-4/slcl0es81ltkdlduthea_hu_d22f21b8de50c36b.png 1024w
 
 
 ,/blog/2019/python-version-share-over-time-4/slcl0es81ltkdlduthea_hu_6739114f7f932cd8.png 1320w
 "
 sizes="100vw"
 
 />
 &lt;/picture>
 


&lt;/figure>
&lt;/p>
&lt;h3 id="pytest" class="relative group">&lt;a href="https://github.com/pytest-dev/pytest" target="_blank" rel="noreferrer">pytest&lt;/a> &lt;span class="absolute top-0 w-6 transition-opacity opacity-0 -start-6 not-prose group-hover:opacity-100">&lt;a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700" style="text-decoration-line: none !important;" href="#pytest" aria-label="Anchor">#&lt;/a>&lt;/span>&lt;/h3>&lt;p>Testing framework&lt;/p>
&lt;p>





&lt;figure>
 
 








 
 &lt;picture
 class="mx-auto my-0 rounded-md"
 
 >
 
 
 
 
 &lt;source
 
 srcset="https://hugovk.dev/blog/2019/python-version-share-over-time-4/x9u45cebj930u52lhob2_hu_9153fa8275467df0.webp 330w,/blog/2019/python-version-share-over-time-4/x9u45cebj930u52lhob2_hu_e9c3b5c856ab8767.webp 660w
 
 ,/blog/2019/python-version-share-over-time-4/x9u45cebj930u52lhob2_hu_4aa45705d7508116.webp 1024w
 
 
 ,/blog/2019/python-version-share-over-time-4/x9u45cebj930u52lhob2_hu_47fd0171d2f7c209.webp 1320w
 "
 
 sizes="100vw"
 type="image/webp"
 />
 
 &lt;img
 width="1536"
 height="1152"
 class="mx-auto my-0 rounded-md"
 alt="pytest"
 loading="lazy" decoding="async"
 
 src="https://hugovk.dev/blog/2019/python-version-share-over-time-4/x9u45cebj930u52lhob2_hu_909c2a4df08c4257.png"
 srcset="https://hugovk.dev/blog/2019/python-version-share-over-time-4/x9u45cebj930u52lhob2_hu_1ace3bf583da86c0.png 330w,/blog/2019/python-version-share-over-time-4/x9u45cebj930u52lhob2_hu_909c2a4df08c4257.png 660w
 
 ,/blog/2019/python-version-share-over-time-4/x9u45cebj930u52lhob2_hu_ca4b5fc4699c51c3.png 1024w
 
 
 ,/blog/2019/python-version-share-over-time-4/x9u45cebj930u52lhob2_hu_7ca8c2168bc1f25.png 1320w
 "
 sizes="100vw"
 
 />
 &lt;/picture>
 


&lt;/figure>
&lt;/p>
&lt;h3 id="coveragepy" class="relative group">&lt;a href="https://github.com/nedbat/coveragepy" target="_blank" rel="noreferrer">Coverage.py&lt;/a> &lt;span class="absolute top-0 w-6 transition-opacity opacity-0 -start-6 not-prose group-hover:opacity-100">&lt;a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700" style="text-decoration-line: none !important;" href="#coveragepy" aria-label="Anchor">#&lt;/a>&lt;/span>&lt;/h3>&lt;p>Code coverage testing&lt;/p>
&lt;p>





&lt;figure>
 
 








 
 &lt;picture
 class="mx-auto my-0 rounded-md"
 
 >
 
 
 
 
 &lt;source
 
 srcset="https://hugovk.dev/blog/2019/python-version-share-over-time-4/lacortkwvi92z4zw0m6b_hu_8412ab77594ffb3d.webp 330w,/blog/2019/python-version-share-over-time-4/lacortkwvi92z4zw0m6b_hu_9f58a8c4dcd46a74.webp 660w
 
 ,/blog/2019/python-version-share-over-time-4/lacortkwvi92z4zw0m6b_hu_1a65f620cbfa2770.webp 1024w
 
 
 ,/blog/2019/python-version-share-over-time-4/lacortkwvi92z4zw0m6b_hu_51eebda769563b70.webp 1320w
 "
 
 sizes="100vw"
 type="image/webp"
 />
 
 &lt;img
 width="1536"
 height="1152"
 class="mx-auto my-0 rounded-md"
 alt="coverage"
 loading="lazy" decoding="async"
 
 src="https://hugovk.dev/blog/2019/python-version-share-over-time-4/lacortkwvi92z4zw0m6b_hu_368692d139ff9e78.png"
 srcset="https://hugovk.dev/blog/2019/python-version-share-over-time-4/lacortkwvi92z4zw0m6b_hu_690163b6852f2f56.png 330w,/blog/2019/python-version-share-over-time-4/lacortkwvi92z4zw0m6b_hu_368692d139ff9e78.png 660w
 
 ,/blog/2019/python-version-share-over-time-4/lacortkwvi92z4zw0m6b_hu_183fdc1db3172050.png 1024w
 
 
 ,/blog/2019/python-version-share-over-time-4/lacortkwvi92z4zw0m6b_hu_46ef600b5c1a495.png 1320w
 "
 sizes="100vw"
 
 />
 &lt;/picture>
 


&lt;/figure>
&lt;/p>
&lt;h3 id="pillow" class="relative group">&lt;a href="https://github.com/python-pillow/Pillow" target="_blank" rel="noreferrer">Pillow&lt;/a> &lt;span class="absolute top-0 w-6 transition-opacity opacity-0 -start-6 not-prose group-hover:opacity-100">&lt;a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700" style="text-decoration-line: none !important;" href="#pillow" aria-label="Anchor">#&lt;/a>&lt;/span>&lt;/h3>&lt;p>Imaging library&lt;/p>
&lt;p>





&lt;figure>
 
 








 
 &lt;picture
 class="mx-auto my-0 rounded-md"
 
 >
 
 
 
 
 &lt;source
 
 srcset="https://hugovk.dev/blog/2019/python-version-share-over-time-4/msqm643wek2w0qmgdxlu_hu_1f034d6908cb6018.webp 330w,/blog/2019/python-version-share-over-time-4/msqm643wek2w0qmgdxlu_hu_a5be124613a7027f.webp 660w
 
 ,/blog/2019/python-version-share-over-time-4/msqm643wek2w0qmgdxlu_hu_fc5e905e59a6d45.webp 1024w
 
 
 ,/blog/2019/python-version-share-over-time-4/msqm643wek2w0qmgdxlu_hu_8d085ad9fcbaaec8.webp 1320w
 "
 
 sizes="100vw"
 type="image/webp"
 />
 
 &lt;img
 width="1536"
 height="1152"
 class="mx-auto my-0 rounded-md"
 alt="pillow"
 loading="lazy" decoding="async"
 
 src="https://hugovk.dev/blog/2019/python-version-share-over-time-4/msqm643wek2w0qmgdxlu_hu_d633fbe7fcc802df.png"
 srcset="https://hugovk.dev/blog/2019/python-version-share-over-time-4/msqm643wek2w0qmgdxlu_hu_abb3f8e82ec7c923.png 330w,/blog/2019/python-version-share-over-time-4/msqm643wek2w0qmgdxlu_hu_d633fbe7fcc802df.png 660w
 
 ,/blog/2019/python-version-share-over-time-4/msqm643wek2w0qmgdxlu_hu_6d6d6c78d733ec58.png 1024w
 
 
 ,/blog/2019/python-version-share-over-time-4/msqm643wek2w0qmgdxlu_hu_7f06df2086d688ba.png 1320w
 "
 sizes="100vw"
 
 />
 &lt;/picture>
 


&lt;/figure>
&lt;/p>
&lt;h3 id="django" class="relative group">&lt;a href="https://github.com/python-pillow/Pillow" target="_blank" rel="noreferrer">Django&lt;/a> &lt;span class="absolute top-0 w-6 transition-opacity opacity-0 -start-6 not-prose group-hover:opacity-100">&lt;a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700" style="text-decoration-line: none !important;" href="#django" aria-label="Anchor">#&lt;/a>&lt;/span>&lt;/h3>&lt;p>Web framework&lt;/p>
&lt;p>





&lt;figure>
 
 








 
 &lt;picture
 class="mx-auto my-0 rounded-md"
 
 >
 
 
 
 
 &lt;source
 
 srcset="https://hugovk.dev/blog/2019/python-version-share-over-time-4/omjea829j1h83fxp65ge_hu_3e08aae2fbf5fd3d.webp 330w,/blog/2019/python-version-share-over-time-4/omjea829j1h83fxp65ge_hu_bf900a5506e47867.webp 660w
 
 ,/blog/2019/python-version-share-over-time-4/omjea829j1h83fxp65ge_hu_e26d3213f72c40bb.webp 1024w
 
 
 ,/blog/2019/python-version-share-over-time-4/omjea829j1h83fxp65ge_hu_aa9c70a187f800b3.webp 1320w
 "
 
 sizes="100vw"
 type="image/webp"
 />
 
 &lt;img
 width="1536"
 height="1152"
 class="mx-auto my-0 rounded-md"
 alt="django"
 loading="lazy" decoding="async"
 
 src="https://hugovk.dev/blog/2019/python-version-share-over-time-4/omjea829j1h83fxp65ge_hu_64e0af6f90f1e02a.png"
 srcset="https://hugovk.dev/blog/2019/python-version-share-over-time-4/omjea829j1h83fxp65ge_hu_88a49f295ef95169.png 330w,/blog/2019/python-version-share-over-time-4/omjea829j1h83fxp65ge_hu_64e0af6f90f1e02a.png 660w
 
 ,/blog/2019/python-version-share-over-time-4/omjea829j1h83fxp65ge_hu_d3a99848589d7bef.png 1024w
 
 
 ,/blog/2019/python-version-share-over-time-4/omjea829j1h83fxp65ge_hu_496103cf2c1ebd06.png 1320w
 "
 sizes="100vw"
 
 />
 &lt;/picture>
 


&lt;/figure>
&lt;/p>
&lt;h3 id="matplotlib" class="relative group">&lt;a href="https://github.com/matplotlib/matplotlib" target="_blank" rel="noreferrer">Matplotlib&lt;/a> &lt;span class="absolute top-0 w-6 transition-opacity opacity-0 -start-6 not-prose group-hover:opacity-100">&lt;a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700" style="text-decoration-line: none !important;" href="#matplotlib" aria-label="Anchor">#&lt;/a>&lt;/span>&lt;/h3>&lt;p>2D plotting library&lt;/p>
&lt;p>





&lt;figure>
 
 








 
 &lt;picture
 class="mx-auto my-0 rounded-md"
 
 >
 
 
 
 
 &lt;source
 
 srcset="https://hugovk.dev/blog/2019/python-version-share-over-time-4/7kqrb64d2lmrnm2jw2lu_hu_525ce9cfbeed8465.webp 330w,/blog/2019/python-version-share-over-time-4/7kqrb64d2lmrnm2jw2lu_hu_a3a3d49a8f82e9fd.webp 660w
 
 ,/blog/2019/python-version-share-over-time-4/7kqrb64d2lmrnm2jw2lu_hu_a3377c91ca12f8c7.webp 1024w
 
 
 ,/blog/2019/python-version-share-over-time-4/7kqrb64d2lmrnm2jw2lu_hu_25f2729ea1335671.webp 1320w
 "
 
 sizes="100vw"
 type="image/webp"
 />
 
 &lt;img
 width="1536"
 height="1152"
 class="mx-auto my-0 rounded-md"
 alt="matplotlib"
 loading="lazy" decoding="async"
 
 src="https://hugovk.dev/blog/2019/python-version-share-over-time-4/7kqrb64d2lmrnm2jw2lu_hu_3c3002ea60f25a1.png"
 srcset="https://hugovk.dev/blog/2019/python-version-share-over-time-4/7kqrb64d2lmrnm2jw2lu_hu_8736cdb13c360cbf.png 330w,/blog/2019/python-version-share-over-time-4/7kqrb64d2lmrnm2jw2lu_hu_3c3002ea60f25a1.png 660w
 
 ,/blog/2019/python-version-share-over-time-4/7kqrb64d2lmrnm2jw2lu_hu_3b55312504adbdab.png 1024w
 
 
 ,/blog/2019/python-version-share-over-time-4/7kqrb64d2lmrnm2jw2lu_hu_d301e03c380aa53b.png 1320w
 "
 sizes="100vw"
 
 />
 &lt;/picture>
 


&lt;/figure>
&lt;/p>
&lt;h3 id="flake8" class="relative group">&lt;a href="https://gitlab.com/pycqa/flake8" target="_blank" rel="noreferrer">Flake8&lt;/a> &lt;span class="absolute top-0 w-6 transition-opacity opacity-0 -start-6 not-prose group-hover:opacity-100">&lt;a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700" style="text-decoration-line: none !important;" href="#flake8" aria-label="Anchor">#&lt;/a>&lt;/span>&lt;/h3>&lt;p>Linter&lt;/p>
&lt;p>





&lt;figure>
 
 








 
 &lt;picture
 class="mx-auto my-0 rounded-md"
 
 >
 
 
 
 
 &lt;source
 
 srcset="https://hugovk.dev/blog/2019/python-version-share-over-time-4/102lu27lpme6gtdb3q9i_hu_898025b3a0825fe5.webp 330w,/blog/2019/python-version-share-over-time-4/102lu27lpme6gtdb3q9i_hu_a9cded5cee3e02ce.webp 660w
 
 ,/blog/2019/python-version-share-over-time-4/102lu27lpme6gtdb3q9i_hu_812a69ff93bc4858.webp 1024w
 
 
 ,/blog/2019/python-version-share-over-time-4/102lu27lpme6gtdb3q9i_hu_7c9a76fc719dbcf1.webp 1320w
 "
 
 sizes="100vw"
 type="image/webp"
 />
 
 &lt;img
 width="1536"
 height="1152"
 class="mx-auto my-0 rounded-md"
 alt="flake8"
 loading="lazy" decoding="async"
 
 src="https://hugovk.dev/blog/2019/python-version-share-over-time-4/102lu27lpme6gtdb3q9i_hu_9cf229a9a2dce157.png"
 srcset="https://hugovk.dev/blog/2019/python-version-share-over-time-4/102lu27lpme6gtdb3q9i_hu_3f5fbada7e2d16f5.png 330w,/blog/2019/python-version-share-over-time-4/102lu27lpme6gtdb3q9i_hu_9cf229a9a2dce157.png 660w
 
 ,/blog/2019/python-version-share-over-time-4/102lu27lpme6gtdb3q9i_hu_8647a155dfbdee5.png 1024w
 
 
 ,/blog/2019/python-version-share-over-time-4/102lu27lpme6gtdb3q9i_hu_b530bdf1610f94ae.png 1320w
 "
 sizes="100vw"
 
 />
 &lt;/picture>
 


&lt;/figure>
&lt;/p>
&lt;h3 id="pylint" class="relative group">&lt;a href="https://github.com/PyCQA/pylint/" target="_blank" rel="noreferrer">Pylint&lt;/a> &lt;span class="absolute top-0 w-6 transition-opacity opacity-0 -start-6 not-prose group-hover:opacity-100">&lt;a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700" style="text-decoration-line: none !important;" href="#pylint" aria-label="Anchor">#&lt;/a>&lt;/span>&lt;/h3>&lt;p>Linter&lt;/p>
&lt;p>





&lt;figure>
 
 








 
 &lt;picture
 class="mx-auto my-0 rounded-md"
 
 >
 
 
 
 
 &lt;source
 
 srcset="https://hugovk.dev/blog/2019/python-version-share-over-time-4/yxc1911cdltvfrjs0eop_hu_3c0b454f39f5400a.webp 330w,/blog/2019/python-version-share-over-time-4/yxc1911cdltvfrjs0eop_hu_1243f84ec253dcf3.webp 660w
 
 ,/blog/2019/python-version-share-over-time-4/yxc1911cdltvfrjs0eop_hu_555fcb395797040a.webp 1024w
 
 
 ,/blog/2019/python-version-share-over-time-4/yxc1911cdltvfrjs0eop_hu_342cdade45e84b58.webp 1320w
 "
 
 sizes="100vw"
 type="image/webp"
 />
 
 &lt;img
 width="1536"
 height="1152"
 class="mx-auto my-0 rounded-md"
 alt="pylint"
 loading="lazy" decoding="async"
 
 src="https://hugovk.dev/blog/2019/python-version-share-over-time-4/yxc1911cdltvfrjs0eop_hu_15c46b68b9c973b6.png"
 srcset="https://hugovk.dev/blog/2019/python-version-share-over-time-4/yxc1911cdltvfrjs0eop_hu_4d917618885d8024.png 330w,/blog/2019/python-version-share-over-time-4/yxc1911cdltvfrjs0eop_hu_15c46b68b9c973b6.png 660w
 
 ,/blog/2019/python-version-share-over-time-4/yxc1911cdltvfrjs0eop_hu_753cfb06e3e1c2b4.png 1024w
 
 
 ,/blog/2019/python-version-share-over-time-4/yxc1911cdltvfrjs0eop_hu_f051390b2d9fc430.png 1320w
 "
 sizes="100vw"
 
 />
 &lt;/picture>
 


&lt;/figure>
&lt;/p>
&lt;h3 id="pylast" class="relative group">&lt;a href="https://github.com/pylast/pylast" target="_blank" rel="noreferrer">pylast&lt;/a> &lt;span class="absolute top-0 w-6 transition-opacity opacity-0 -start-6 not-prose group-hover:opacity-100">&lt;a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700" style="text-decoration-line: none !important;" href="#pylast" aria-label="Anchor">#&lt;/a>&lt;/span>&lt;/h3>&lt;p>Interface to Last.fm&lt;/p>
&lt;p>





&lt;figure>
 
 








 
 &lt;picture
 class="mx-auto my-0 rounded-md"
 
 >
 
 
 
 
 &lt;source
 
 srcset="https://hugovk.dev/blog/2019/python-version-share-over-time-4/ulztdisgv3zmuzif8nbf_hu_fd7719e6d352bff2.webp 330w,/blog/2019/python-version-share-over-time-4/ulztdisgv3zmuzif8nbf_hu_3d3cc97393235516.webp 660w
 
 ,/blog/2019/python-version-share-over-time-4/ulztdisgv3zmuzif8nbf_hu_30a7545259631cca.webp 1024w
 
 
 ,/blog/2019/python-version-share-over-time-4/ulztdisgv3zmuzif8nbf_hu_5175d782ad57bee5.webp 1320w
 "
 
 sizes="100vw"
 type="image/webp"
 />
 
 &lt;img
 width="1536"
 height="1152"
 class="mx-auto my-0 rounded-md"
 alt="pylast"
 loading="lazy" decoding="async"
 
 src="https://hugovk.dev/blog/2019/python-version-share-over-time-4/ulztdisgv3zmuzif8nbf_hu_99feddaf17d1ede4.png"
 srcset="https://hugovk.dev/blog/2019/python-version-share-over-time-4/ulztdisgv3zmuzif8nbf_hu_cac8c44cce39d2b0.png 330w,/blog/2019/python-version-share-over-time-4/ulztdisgv3zmuzif8nbf_hu_99feddaf17d1ede4.png 660w
 
 ,/blog/2019/python-version-share-over-time-4/ulztdisgv3zmuzif8nbf_hu_a3bb2739e91bcc03.png 1024w
 
 
 ,/blog/2019/python-version-share-over-time-4/ulztdisgv3zmuzif8nbf_hu_e4bf0063b7f61e9a.png 1320w
 "
 sizes="100vw"
 
 />
 &lt;/picture>
 


&lt;/figure>
&lt;/p>
&lt;h2 id="how" class="relative group">How &lt;span class="absolute top-0 w-6 transition-opacity opacity-0 -start-6 not-prose group-hover:opacity-100">&lt;a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700" style="text-decoration-line: none !important;" href="#how" aria-label="Anchor">#&lt;/a>&lt;/span>&lt;/h2>&lt;p>Statistics were collected using
&lt;a href="https://github.com/hugovk/pypi-tools/blob/master/pypi-trends.py" target="_blank" rel="noreferrer">pypi-trends.py&lt;/a>, a
wrapper around &lt;a href="https://github.com/ofek/pypinfo" target="_blank" rel="noreferrer">pypinfo&lt;/a> to fetch all monthly downloads
from the PyPI database on Google BigQuery and save them as JSON files. Data was
downloaded over several days as getting all months uses up a lot of free BigQuery quota.
Then &lt;a href="https://github.com/hugovk/pypi-tools/blob/master/jsons2csv.py" target="_blank" rel="noreferrer">jsons2csv.py&lt;/a> plots
a chart using &lt;a href="https://github.com/matplotlib/matplotlib" target="_blank" rel="noreferrer">matplotlib&lt;/a>. Raw JSON data is
in the &lt;a href="https://github.com/hugovk/pypi-tools/tree/master/data" target="_blank" rel="noreferrer">repo&lt;/a>.&lt;/p>
&lt;h2 id="see-also" class="relative group">See also &lt;span class="absolute top-0 w-6 transition-opacity opacity-0 -start-6 not-prose group-hover:opacity-100">&lt;a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700" style="text-decoration-line: none !important;" href="#see-also" aria-label="Anchor">#&lt;/a>&lt;/span>&lt;/h2>&lt;ul>
&lt;li>&lt;a href="https://langui.sh/2016/12/09/data-driven-decisions/" target="_blank" rel="noreferrer">Data Driven Decisions Using PyPI Download Statistics&lt;/a>&lt;/li>
&lt;li>&lt;a href="https://hugovk.dev/blog/2018/python-version-share-over-time-1/">Python version share over time,
1&lt;/a> (January
2016â€Šâ€”â€ŠJune 2018)&lt;/li>
&lt;li>&lt;a href="https://hugovk.dev/blog/2018/python-version-share-over-time-2/">Python version share over time,
2&lt;/a> (January
2016â€Šâ€”â€ŠOctober 2018)&lt;/li>
&lt;li>&lt;a href="../../2019/python-version-share-over-time-3/">Python version share over time, 3&lt;/a>
(January 2016â€Šâ€”â€ŠDecember 2018)&lt;/li>
&lt;li>&lt;a href="https://pypistats.org/" target="_blank" rel="noreferrer">PyPI Stats&lt;/a>: See package download data for the past 180 days,
without needing to sign up for BigQuery&lt;/li>
&lt;li>&lt;a href="https://github.com/hugovk/pypistats" target="_blank" rel="noreferrer">pypistats&lt;/a>: A command-line tool to access data
from PyPI Stats&lt;/li>
&lt;/ul></description></item><item><title>Python version share over time, 3</title><link>https://hugovk.dev/blog/2019/python-version-share-over-time-3/</link><pubDate>Tue, 01 Jan 2019 14:40:48 +0000</pubDate><guid>https://hugovk.dev/blog/2019/python-version-share-over-time-3/</guid><description>&lt;h2 id="january-2016--december-2018" class="relative group">January 2016 â€” December 2018 &lt;span class="absolute top-0 w-6 transition-opacity opacity-0 -start-6 not-prose group-hover:opacity-100">&lt;a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700" style="text-decoration-line: none !important;" href="#january-2016--december-2018" aria-label="Anchor">#&lt;/a>&lt;/span>&lt;/h2>&lt;p>To celebrate the release of
&lt;a href="https://www.python.org/downloads/release/python-372/" target="_blank" rel="noreferrer">Python 3.7.2&lt;/a> on
&lt;a href="https://peps.python.org/pep-0537/" target="_blank" rel="noreferrer">Christmas Eve 2018&lt;/a>, and with
u&lt;a href="https://hugovk.github.io/python2-progress-bar/" target="_blank" rel="noreferrer">nder a year left for Python 2&lt;/a>, here&amp;rsquo;s
some statistics showing how much different Python versions have been used over the past
three years.&lt;/p>
&lt;p>Here&amp;rsquo;s the pip installs for all packages from the
&lt;a href="https://pypi.org/" target="_blank" rel="noreferrer">Python Package Index (PyPI)&lt;/a>, between January 2016 and December
2018:&lt;/p>
&lt;p>





&lt;figure>
 
 








 
 &lt;picture
 class="mx-auto my-0 rounded-md"
 
 >
 
 
 
 
 &lt;source
 
 srcset="https://hugovk.dev/blog/2019/python-version-share-over-time-3/pypi_hu_4a689e0ad267b046.webp 330w,/blog/2019/python-version-share-over-time-3/pypi_hu_8225a6be3a6b66b5.webp 660w
 
 ,/blog/2019/python-version-share-over-time-3/pypi_hu_3a056cb36b64d69b.webp 1024w
 
 
 ,/blog/2019/python-version-share-over-time-3/pypi_hu_9e4ad33c6200efb8.webp 1320w
 "
 
 sizes="100vw"
 type="image/webp"
 />
 
 &lt;img
 width="1536"
 height="1152"
 class="mx-auto my-0 rounded-md"
 alt="pypi"
 loading="lazy" decoding="async"
 
 src="https://hugovk.dev/blog/2019/python-version-share-over-time-3/pypi_hu_8995d20d19513fc9.png"
 srcset="https://hugovk.dev/blog/2019/python-version-share-over-time-3/pypi_hu_6ff6af2473a430ab.png 330w,/blog/2019/python-version-share-over-time-3/pypi_hu_8995d20d19513fc9.png 660w
 
 ,/blog/2019/python-version-share-over-time-3/pypi_hu_b0790e34fc2905dd.png 1024w
 
 
 ,/blog/2019/python-version-share-over-time-3/pypi_hu_2747f4fc86123e03.png 1320w
 "
 sizes="100vw"
 
 />
 &lt;/picture>
 


&lt;/figure>
&lt;/p>
&lt;p>For the &lt;a href="https://github.com/numpy/numpy" target="_blank" rel="noreferrer">NumPy&lt;/a> scientific computing library:&lt;/p>
&lt;p>





&lt;figure>
 
 








 
 &lt;picture
 class="mx-auto my-0 rounded-md"
 
 >
 
 
 
 
 &lt;source
 
 srcset="https://hugovk.dev/blog/2019/python-version-share-over-time-3/numpy_hu_ba1c7ce10fae1f12.webp 330w,/blog/2019/python-version-share-over-time-3/numpy_hu_3eb0b09aa9043b73.webp 660w
 
 ,/blog/2019/python-version-share-over-time-3/numpy_hu_13dbb2d4220343e9.webp 1024w
 
 
 ,/blog/2019/python-version-share-over-time-3/numpy_hu_d53922fa228dd5ae.webp 1320w
 "
 
 sizes="100vw"
 type="image/webp"
 />
 
 &lt;img
 width="1536"
 height="1152"
 class="mx-auto my-0 rounded-md"
 alt="NumPy"
 loading="lazy" decoding="async"
 
 src="https://hugovk.dev/blog/2019/python-version-share-over-time-3/numpy_hu_9cd6bd7fddeb1b67.png"
 srcset="https://hugovk.dev/blog/2019/python-version-share-over-time-3/numpy_hu_a7eadceb40da6edd.png 330w,/blog/2019/python-version-share-over-time-3/numpy_hu_9cd6bd7fddeb1b67.png 660w
 
 ,/blog/2019/python-version-share-over-time-3/numpy_hu_6a4ccfefb5860b2.png 1024w
 
 
 ,/blog/2019/python-version-share-over-time-3/numpy_hu_918fad5c6a3bfdae.png 1320w
 "
 sizes="100vw"
 
 />
 &lt;/picture>
 


&lt;/figure>
&lt;/p>
&lt;p>For the &lt;a href="https://github.com/pytest-dev/pytest" target="_blank" rel="noreferrer">pytest&lt;/a> testing framework:&lt;/p>
&lt;p>





&lt;figure>
 
 








 
 &lt;picture
 class="mx-auto my-0 rounded-md"
 
 >
 
 
 
 
 &lt;source
 
 srcset="https://hugovk.dev/blog/2019/python-version-share-over-time-3/pytest_hu_60d844b15bc42779.webp 330w,/blog/2019/python-version-share-over-time-3/pytest_hu_9461ef46f6f50a17.webp 660w
 
 ,/blog/2019/python-version-share-over-time-3/pytest_hu_e33e459d347f817c.webp 1024w
 
 
 ,/blog/2019/python-version-share-over-time-3/pytest_hu_2441da52624e3e48.webp 1320w
 "
 
 sizes="100vw"
 type="image/webp"
 />
 
 &lt;img
 width="1536"
 height="1152"
 class="mx-auto my-0 rounded-md"
 alt="pytest"
 loading="lazy" decoding="async"
 
 src="https://hugovk.dev/blog/2019/python-version-share-over-time-3/pytest_hu_bcf5754a24c2b8be.png"
 srcset="https://hugovk.dev/blog/2019/python-version-share-over-time-3/pytest_hu_d5de9be1fe7d1eea.png 330w,/blog/2019/python-version-share-over-time-3/pytest_hu_bcf5754a24c2b8be.png 660w
 
 ,/blog/2019/python-version-share-over-time-3/pytest_hu_45416459f7c73305.png 1024w
 
 
 ,/blog/2019/python-version-share-over-time-3/pytest_hu_96679ce672bbf24c.png 1320w
 "
 sizes="100vw"
 
 />
 &lt;/picture>
 


&lt;/figure>
&lt;/p>
&lt;p>For the &lt;a href="https://github.com/python-pillow/Pillow" target="_blank" rel="noreferrer">Pillow&lt;/a> imaging library:&lt;/p>
&lt;p>





&lt;figure>
 
 








 
 &lt;picture
 class="mx-auto my-0 rounded-md"
 
 >
 
 
 
 
 &lt;source
 
 srcset="https://hugovk.dev/blog/2019/python-version-share-over-time-3/pillow_hu_2c7cefdb2395a78.webp 330w,/blog/2019/python-version-share-over-time-3/pillow_hu_755fffe744738a29.webp 660w
 
 ,/blog/2019/python-version-share-over-time-3/pillow_hu_586f36cc8515aa02.webp 1024w
 
 
 ,/blog/2019/python-version-share-over-time-3/pillow_hu_4c57f0ba93eb3e1a.webp 1320w
 "
 
 sizes="100vw"
 type="image/webp"
 />
 
 &lt;img
 width="1536"
 height="1152"
 class="mx-auto my-0 rounded-md"
 alt="pillow"
 loading="lazy" decoding="async"
 
 src="https://hugovk.dev/blog/2019/python-version-share-over-time-3/pillow_hu_c88f87cab151b1f.png"
 srcset="https://hugovk.dev/blog/2019/python-version-share-over-time-3/pillow_hu_8244849205311641.png 330w,/blog/2019/python-version-share-over-time-3/pillow_hu_c88f87cab151b1f.png 660w
 
 ,/blog/2019/python-version-share-over-time-3/pillow_hu_c43a6d411850fec.png 1024w
 
 
 ,/blog/2019/python-version-share-over-time-3/pillow_hu_6af0c333c0207c29.png 1320w
 "
 sizes="100vw"
 
 />
 &lt;/picture>
 


&lt;/figure>
&lt;/p>
&lt;p>For the &lt;a href="https://github.com/django/django" target="_blank" rel="noreferrer">Django&lt;/a> web framework:&lt;/p>
&lt;p>





&lt;figure>
 
 








 
 &lt;picture
 class="mx-auto my-0 rounded-md"
 
 >
 
 
 
 
 &lt;source
 
 srcset="https://hugovk.dev/blog/2019/python-version-share-over-time-3/django_hu_d451a4fbe5251d6b.webp 330w,/blog/2019/python-version-share-over-time-3/django_hu_5b2cccd0683d416d.webp 660w
 
 ,/blog/2019/python-version-share-over-time-3/django_hu_f0350753c0f47428.webp 1024w
 
 
 ,/blog/2019/python-version-share-over-time-3/django_hu_8c7b01649e925d86.webp 1320w
 "
 
 sizes="100vw"
 type="image/webp"
 />
 
 &lt;img
 width="1536"
 height="1152"
 class="mx-auto my-0 rounded-md"
 alt="django"
 loading="lazy" decoding="async"
 
 src="https://hugovk.dev/blog/2019/python-version-share-over-time-3/django_hu_5b650ecfeb239de7.png"
 srcset="https://hugovk.dev/blog/2019/python-version-share-over-time-3/django_hu_29d11b8ba2d86494.png 330w,/blog/2019/python-version-share-over-time-3/django_hu_5b650ecfeb239de7.png 660w
 
 ,/blog/2019/python-version-share-over-time-3/django_hu_9b04e7da8928731.png 1024w
 
 
 ,/blog/2019/python-version-share-over-time-3/django_hu_f95c3bb4d08c3f88.png 1320w
 "
 sizes="100vw"
 
 />
 &lt;/picture>
 


&lt;/figure>
&lt;/p>
&lt;p>For the &lt;a href="https://github.com/matplotlib/matplotlib" target="_blank" rel="noreferrer">matplotlib&lt;/a> 2D plotting library:&lt;/p>
&lt;p>





&lt;figure>
 
 








 
 &lt;picture
 class="mx-auto my-0 rounded-md"
 
 >
 
 
 
 
 &lt;source
 
 srcset="https://hugovk.dev/blog/2019/python-version-share-over-time-3/matplotlib_hu_6012c2c88d060167.webp 330w,/blog/2019/python-version-share-over-time-3/matplotlib_hu_84243fb80142c484.webp 660w
 
 ,/blog/2019/python-version-share-over-time-3/matplotlib_hu_49df3d6e8150face.webp 1024w
 
 
 ,/blog/2019/python-version-share-over-time-3/matplotlib_hu_4fcb4f648e589dab.webp 1320w
 "
 
 sizes="100vw"
 type="image/webp"
 />
 
 &lt;img
 width="1536"
 height="1152"
 class="mx-auto my-0 rounded-md"
 alt="matplotlib"
 loading="lazy" decoding="async"
 
 src="https://hugovk.dev/blog/2019/python-version-share-over-time-3/matplotlib_hu_6ee07fecb26ef778.png"
 srcset="https://hugovk.dev/blog/2019/python-version-share-over-time-3/matplotlib_hu_b95bf696ad24f9f4.png 330w,/blog/2019/python-version-share-over-time-3/matplotlib_hu_6ee07fecb26ef778.png 660w
 
 ,/blog/2019/python-version-share-over-time-3/matplotlib_hu_ae5ff17c226e6f1f.png 1024w
 
 
 ,/blog/2019/python-version-share-over-time-3/matplotlib_hu_c69c84e08e63d6cd.png 1320w
 "
 sizes="100vw"
 
 />
 &lt;/picture>
 


&lt;/figure>
&lt;/p>
&lt;p>For the &lt;a href="https://github.com/PyCQA/pylint" target="_blank" rel="noreferrer">Pylint&lt;/a> linter:&lt;/p>
&lt;p>





&lt;figure>
 
 








 
 &lt;picture
 class="mx-auto my-0 rounded-md"
 
 >
 
 
 
 
 &lt;source
 
 srcset="https://hugovk.dev/blog/2019/python-version-share-over-time-3/pylint_hu_5f7409ba2481f04d.webp 330w,/blog/2019/python-version-share-over-time-3/pylint_hu_7bd3214e992ed776.webp 660w
 
 ,/blog/2019/python-version-share-over-time-3/pylint_hu_9d62215d2fd1fda.webp 1024w
 
 
 ,/blog/2019/python-version-share-over-time-3/pylint_hu_58d529bbb9be2a1f.webp 1320w
 "
 
 sizes="100vw"
 type="image/webp"
 />
 
 &lt;img
 width="1536"
 height="1152"
 class="mx-auto my-0 rounded-md"
 alt="pylint"
 loading="lazy" decoding="async"
 
 src="https://hugovk.dev/blog/2019/python-version-share-over-time-3/pylint_hu_a0d467c797fa4fc9.png"
 srcset="https://hugovk.dev/blog/2019/python-version-share-over-time-3/pylint_hu_465604ba20bbb538.png 330w,/blog/2019/python-version-share-over-time-3/pylint_hu_a0d467c797fa4fc9.png 660w
 
 ,/blog/2019/python-version-share-over-time-3/pylint_hu_c6b8845c0c42d414.png 1024w
 
 
 ,/blog/2019/python-version-share-over-time-3/pylint_hu_ea835cdca72322f.png 1320w
 "
 sizes="100vw"
 
 />
 &lt;/picture>
 


&lt;/figure>
&lt;/p>
&lt;p>And for the &lt;a href="https://github.com/pylast/pylast" target="_blank" rel="noreferrer">pylast&lt;/a> interface to Last.fm:&lt;/p>
&lt;p>





&lt;figure>
 
 








 
 &lt;picture
 class="mx-auto my-0 rounded-md"
 
 >
 
 
 
 
 &lt;source
 
 srcset="https://hugovk.dev/blog/2019/python-version-share-over-time-3/pylast_hu_e3ad4e87436285d7.webp 330w,/blog/2019/python-version-share-over-time-3/pylast_hu_46556b32293cdd86.webp 660w
 
 ,/blog/2019/python-version-share-over-time-3/pylast_hu_d19e6713806331bd.webp 1024w
 
 
 ,/blog/2019/python-version-share-over-time-3/pylast_hu_a00a302d964c83e4.webp 1320w
 "
 
 sizes="100vw"
 type="image/webp"
 />
 
 &lt;img
 width="1536"
 height="1152"
 class="mx-auto my-0 rounded-md"
 alt="pylast"
 loading="lazy" decoding="async"
 
 src="https://hugovk.dev/blog/2019/python-version-share-over-time-3/pylast_hu_b1689ba891e7422c.png"
 srcset="https://hugovk.dev/blog/2019/python-version-share-over-time-3/pylast_hu_41166968e74cce87.png 330w,/blog/2019/python-version-share-over-time-3/pylast_hu_b1689ba891e7422c.png 660w
 
 ,/blog/2019/python-version-share-over-time-3/pylast_hu_cc64ddcc0d3af36.png 1024w
 
 
 ,/blog/2019/python-version-share-over-time-3/pylast_hu_be4e58a39e8ab45c.png 1320w
 "
 sizes="100vw"
 
 />
 &lt;/picture>
 


&lt;/figure>
&lt;/p>
&lt;h2 id="how" class="relative group">How &lt;span class="absolute top-0 w-6 transition-opacity opacity-0 -start-6 not-prose group-hover:opacity-100">&lt;a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700" style="text-decoration-line: none !important;" href="#how" aria-label="Anchor">#&lt;/a>&lt;/span>&lt;/h2>&lt;p>Statistics were collected using
&lt;a href="https://github.com/hugovk/pypi-tools/blob/master/pypi-trends.py" target="_blank" rel="noreferrer">pypi-trends.py&lt;/a> a
wrapper around &lt;a href="https://github.com/ofek/pypinfo" target="_blank" rel="noreferrer">pypinfo&lt;/a> to fetch all monthly downloads
from the PyPI database on Google BigQuery and save them as JSON files. Data was
downloaded over several days as getting all months uses up a lot of free BigQuery quota.
Then &lt;a href="https://github.com/hugovk/pypi-tools/blob/master/jsons2csv.py" target="_blank" rel="noreferrer">jsons2csv.py&lt;/a> plots
a chart using &lt;a href="https://github.com/matplotlib/matplotlib" target="_blank" rel="noreferrer">matplotlib&lt;/a>. Raw JSON data is
in the &lt;a href="https://github.com/hugovk/pypi-tools/tree/master/data" target="_blank" rel="noreferrer">repo&lt;/a>.&lt;/p>
&lt;h2 id="see-also" class="relative group">See also &lt;span class="absolute top-0 w-6 transition-opacity opacity-0 -start-6 not-prose group-hover:opacity-100">&lt;a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700" style="text-decoration-line: none !important;" href="#see-also" aria-label="Anchor">#&lt;/a>&lt;/span>&lt;/h2>&lt;ul>
&lt;li>&lt;a href="https://langui.sh/2016/12/09/data-driven-decisions/" target="_blank" rel="noreferrer">Data Driven Decisions Using PyPI Download Statistics&lt;/a>&lt;/li>
&lt;li>&lt;a href="https://hugovk.dev/blog/2018/python-version-share-over-time-1/">Python version share over time,
1&lt;/a> (January
2016â€Šâ€”â€ŠJune 2018)&lt;/li>
&lt;li>&lt;a href="https://hugovk.dev/blog/2018/python-version-share-over-time-2/">Python version share over time,
2&lt;/a> (January
2016â€Šâ€”â€ŠOctober 2018)&lt;/li>
&lt;li>&lt;a href="https://pypistats.org/" target="_blank" rel="noreferrer">PyPI Stats&lt;/a>: See package download data for the past 180 days,
without needing to sign up for BigQuery&lt;/li>
&lt;li>&lt;a href="https://github.com/hugovk/pypistats" target="_blank" rel="noreferrer">pypistats&lt;/a>: A command-line tool to access data
from PyPI Stats&lt;/li>
&lt;/ul></description></item><item><title>Python version share over time, 2</title><link>https://hugovk.dev/blog/2018/python-version-share-over-time-2/</link><pubDate>Sat, 03 Nov 2018 14:40:48 +0000</pubDate><guid>https://hugovk.dev/blog/2018/python-version-share-over-time-2/</guid><description>&lt;h2 id="january-2016--october-2018" class="relative group">January 2016 â€” October 2018 &lt;span class="absolute top-0 w-6 transition-opacity opacity-0 -start-6 not-prose group-hover:opacity-100">&lt;a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700" style="text-decoration-line: none !important;" href="#january-2016--october-2018" aria-label="Anchor">#&lt;/a>&lt;/span>&lt;/h2>&lt;p>To celebrate the release of
&lt;a href="https://www.python.org/downloads/release/python-371/" target="_blank" rel="noreferrer">Python 3.7.1&lt;/a> on
&lt;a href="https://peps.python.org/pep-0537/" target="_blank" rel="noreferrer">20th October 2018&lt;/a>, hereâ€™s some statistics showing
how much different Python versions have been used over the past two and five-sixths
years.&lt;/p>
&lt;p>Here&amp;rsquo;s the pip installs for all packages from the
&lt;a href="https://pypi.org/" target="_blank" rel="noreferrer">Python Package Index (PyPI)&lt;/a>, between January 2016 and October 2018:&lt;/p>
&lt;p>





&lt;figure>
 
 








 
 &lt;picture
 class="mx-auto my-0 rounded-md"
 
 >
 
 
 
 
 &lt;source
 
 srcset="https://hugovk.dev/blog/2018/python-version-share-over-time-2/pypi_hu_5d07b4ab7e763984.webp 330w,/blog/2018/python-version-share-over-time-2/pypi_hu_c531d8e32dcaf5d1.webp 660w
 
 ,/blog/2018/python-version-share-over-time-2/pypi_hu_773ece93e04d9abb.webp 1024w
 
 
 ,/blog/2018/python-version-share-over-time-2/pypi_hu_cacfa4e0064184a8.webp 1320w
 "
 
 sizes="100vw"
 type="image/webp"
 />
 
 &lt;img
 width="1536"
 height="1152"
 class="mx-auto my-0 rounded-md"
 alt="pypi"
 loading="lazy" decoding="async"
 
 src="https://hugovk.dev/blog/2018/python-version-share-over-time-2/pypi_hu_fe166f604ab66134.png"
 srcset="https://hugovk.dev/blog/2018/python-version-share-over-time-2/pypi_hu_bfeda3a035caf152.png 330w,/blog/2018/python-version-share-over-time-2/pypi_hu_fe166f604ab66134.png 660w
 
 ,/blog/2018/python-version-share-over-time-2/pypi_hu_afd9cdbb5c2bd33b.png 1024w
 
 
 ,/blog/2018/python-version-share-over-time-2/pypi_hu_f68ea95983030f63.png 1320w
 "
 sizes="100vw"
 
 />
 &lt;/picture>
 


&lt;/figure>
&lt;/p>
&lt;center>&lt;small>pip installs from PyPI over time, by Python version&lt;/small>&lt;/center>
&lt;p>For the &lt;a href="https://github.com/numpy/numpy" target="_blank" rel="noreferrer">NumPy&lt;/a> scientific computing library:&lt;/p>
&lt;p>





&lt;figure>
 
 








 
 &lt;picture
 class="mx-auto my-0 rounded-md"
 
 >
 
 
 
 
 &lt;source
 
 srcset="https://hugovk.dev/blog/2018/python-version-share-over-time-2/numpy_hu_2349f95a01747e69.webp 330w,/blog/2018/python-version-share-over-time-2/numpy_hu_72645cf398230ef8.webp 660w
 
 ,/blog/2018/python-version-share-over-time-2/numpy_hu_bb3751e2aa3e2ef4.webp 1024w
 
 
 ,/blog/2018/python-version-share-over-time-2/numpy_hu_c43eb302686be2ea.webp 1320w
 "
 
 sizes="100vw"
 type="image/webp"
 />
 
 &lt;img
 width="1536"
 height="1152"
 class="mx-auto my-0 rounded-md"
 alt="NumPy"
 loading="lazy" decoding="async"
 
 src="https://hugovk.dev/blog/2018/python-version-share-over-time-2/numpy_hu_2efc21f8696030e.png"
 srcset="https://hugovk.dev/blog/2018/python-version-share-over-time-2/numpy_hu_57a5b2a8e1c571fe.png 330w,/blog/2018/python-version-share-over-time-2/numpy_hu_2efc21f8696030e.png 660w
 
 ,/blog/2018/python-version-share-over-time-2/numpy_hu_4e5d9671fc7e8199.png 1024w
 
 
 ,/blog/2018/python-version-share-over-time-2/numpy_hu_59c5d4d7952e1d77.png 1320w
 "
 sizes="100vw"
 
 />
 &lt;/picture>
 


&lt;/figure>
&lt;/p>
&lt;center>&lt;small>Numpy's pip installs from PyPI over time, by Python version&lt;/small>&lt;/center>
&lt;p>For the &lt;a href="https://github.com/python-pillow/Pillow" target="_blank" rel="noreferrer">Pillow&lt;/a> imaging library:&lt;/p>
&lt;p>





&lt;figure>
 
 








 
 &lt;picture
 class="mx-auto my-0 rounded-md"
 
 >
 
 
 
 
 &lt;source
 
 srcset="https://hugovk.dev/blog/2018/python-version-share-over-time-2/pillow_hu_14a62f1749b643.webp 330w,/blog/2018/python-version-share-over-time-2/pillow_hu_85e89dafe0b3452.webp 660w
 
 ,/blog/2018/python-version-share-over-time-2/pillow_hu_c02f595a2a0ffdf5.webp 1024w
 
 
 ,/blog/2018/python-version-share-over-time-2/pillow_hu_735101e7dc05f0dd.webp 1320w
 "
 
 sizes="100vw"
 type="image/webp"
 />
 
 &lt;img
 width="1536"
 height="1152"
 class="mx-auto my-0 rounded-md"
 alt="pillow"
 loading="lazy" decoding="async"
 
 src="https://hugovk.dev/blog/2018/python-version-share-over-time-2/pillow_hu_ffc842aa2b200f54.png"
 srcset="https://hugovk.dev/blog/2018/python-version-share-over-time-2/pillow_hu_a85a75624a360db1.png 330w,/blog/2018/python-version-share-over-time-2/pillow_hu_ffc842aa2b200f54.png 660w
 
 ,/blog/2018/python-version-share-over-time-2/pillow_hu_94a91ae8c96c687f.png 1024w
 
 
 ,/blog/2018/python-version-share-over-time-2/pillow_hu_23600a5b378f7ad0.png 1320w
 "
 sizes="100vw"
 
 />
 &lt;/picture>
 


&lt;/figure>
&lt;/p>
&lt;center>&lt;small>Pillow's pip installs from PyPI over time, by Python version&lt;/small>&lt;/center>
&lt;p>For the &lt;a href="https://github.com/django/django" target="_blank" rel="noreferrer">Django&lt;/a> web framework:&lt;/p>
&lt;p>





&lt;figure>
 
 








 
 &lt;picture
 class="mx-auto my-0 rounded-md"
 
 >
 
 
 
 
 &lt;source
 
 srcset="https://hugovk.dev/blog/2018/python-version-share-over-time-2/django_hu_3b362abd36fd61a2.webp 330w,/blog/2018/python-version-share-over-time-2/django_hu_7986bca138b1d55c.webp 660w
 
 ,/blog/2018/python-version-share-over-time-2/django_hu_accc41705cd53749.webp 1024w
 
 
 ,/blog/2018/python-version-share-over-time-2/django_hu_e1db37ec55ce2d98.webp 1320w
 "
 
 sizes="100vw"
 type="image/webp"
 />
 
 &lt;img
 width="1536"
 height="1152"
 class="mx-auto my-0 rounded-md"
 alt="django"
 loading="lazy" decoding="async"
 
 src="https://hugovk.dev/blog/2018/python-version-share-over-time-2/django_hu_e53edb51cddaa6a9.png"
 srcset="https://hugovk.dev/blog/2018/python-version-share-over-time-2/django_hu_191027bc2186f86e.png 330w,/blog/2018/python-version-share-over-time-2/django_hu_e53edb51cddaa6a9.png 660w
 
 ,/blog/2018/python-version-share-over-time-2/django_hu_d2257c7506de8e7.png 1024w
 
 
 ,/blog/2018/python-version-share-over-time-2/django_hu_df73b8303674cef8.png 1320w
 "
 sizes="100vw"
 
 />
 &lt;/picture>
 


&lt;/figure>
&lt;/p>
&lt;center>&lt;small>pylast's pip installs from PyPI over time, by Python version&lt;/small>&lt;/center>
&lt;p>And for the &lt;a href="https://github.com/pylast/pylast" target="_blank" rel="noreferrer">pylast&lt;/a> interface to Last.fm:&lt;/p>
&lt;p>





&lt;figure>
 
 








 
 &lt;picture
 class="mx-auto my-0 rounded-md"
 
 >
 
 
 
 
 &lt;source
 
 srcset="https://hugovk.dev/blog/2018/python-version-share-over-time-2/pylast_hu_7a5309acb2fb2452.webp 330w,/blog/2018/python-version-share-over-time-2/pylast_hu_348c278f1ae14f3d.webp 660w
 
 ,/blog/2018/python-version-share-over-time-2/pylast_hu_c65f9dbaabc7ab10.webp 1024w
 
 
 ,/blog/2018/python-version-share-over-time-2/pylast_hu_971948368d890b43.webp 1320w
 "
 
 sizes="100vw"
 type="image/webp"
 />
 
 &lt;img
 width="1536"
 height="1152"
 class="mx-auto my-0 rounded-md"
 alt="pylast"
 loading="lazy" decoding="async"
 
 src="https://hugovk.dev/blog/2018/python-version-share-over-time-2/pylast_hu_dcc5e86ee04b50dc.png"
 srcset="https://hugovk.dev/blog/2018/python-version-share-over-time-2/pylast_hu_ecc8bcd2574ac4ba.png 330w,/blog/2018/python-version-share-over-time-2/pylast_hu_dcc5e86ee04b50dc.png 660w
 
 ,/blog/2018/python-version-share-over-time-2/pylast_hu_dfedd8e3e98f21d6.png 1024w
 
 
 ,/blog/2018/python-version-share-over-time-2/pylast_hu_66bfdd1f1f62ec43.png 1320w
 "
 sizes="100vw"
 
 />
 &lt;/picture>
 


&lt;/figure>
&lt;/p>
&lt;center>&lt;small>Pillow's pip installs from PyPI over time, by Python version&lt;/small>&lt;/center>
&lt;h2 id="how" class="relative group">How &lt;span class="absolute top-0 w-6 transition-opacity opacity-0 -start-6 not-prose group-hover:opacity-100">&lt;a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700" style="text-decoration-line: none !important;" href="#how" aria-label="Anchor">#&lt;/a>&lt;/span>&lt;/h2>&lt;p>Statistics were collected using
&lt;a href="https://github.com/hugovk/pypi-tools/blob/master/pypi-trends.py" target="_blank" rel="noreferrer">pypi-trends.py&lt;/a>, a
wrapper around &lt;a href="https://github.com/ofek/pypinfo" target="_blank" rel="noreferrer">pypinfo&lt;/a> to fetch all monthly downloads
from the PyPI database on Google BigQuery and save them as JSON files. Data was
downloaded over several days as getting all months uses up a lot of free BigQuery quota.
Then &lt;a href="https://github.com/hugovk/pypi-tools/blob/master/jsons2csv.py" target="_blank" rel="noreferrer">jsons2csv.py&lt;/a> plots
a chart using &lt;a href="https://github.com/matplotlib/matplotlib" target="_blank" rel="noreferrer">matplotlib&lt;/a>. Raw JSON data is
in the &lt;a href="https://github.com/hugovk/pypi-tools/tree/master/data" target="_blank" rel="noreferrer">repo&lt;/a>.&lt;/p>
&lt;h2 id="see-also" class="relative group">See also &lt;span class="absolute top-0 w-6 transition-opacity opacity-0 -start-6 not-prose group-hover:opacity-100">&lt;a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700" style="text-decoration-line: none !important;" href="#see-also" aria-label="Anchor">#&lt;/a>&lt;/span>&lt;/h2>&lt;ul>
&lt;li>&lt;a href="https://langui.sh/2016/12/09/data-driven-decisions/" target="_blank" rel="noreferrer">Data Driven Decisions Using PyPI Download Statistics&lt;/a>&lt;/li>
&lt;li>&lt;a href="https://hugovk.dev/blog/2018/python-version-share-over-time-1/">Python version share over time,
1&lt;/a> (January
2016â€Šâ€”â€ŠJune 2018)&lt;/li>
&lt;li>&lt;a href="https://pypistats.org/" target="_blank" rel="noreferrer">PyPI Stats&lt;/a>: See package download data for the past 180 days,
without needing to sign up for BigQuery&lt;/li>
&lt;li>&lt;a href="https://github.com/hugovk/pypistats" target="_blank" rel="noreferrer">pypistats&lt;/a>: A command-line tool to access data
from PyPI Stats&lt;/li>
&lt;/ul></description></item><item><title>Python version share over time, 1</title><link>https://hugovk.dev/blog/2018/python-version-share-over-time-1/</link><pubDate>Thu, 05 Jul 2018 14:40:48 +0000</pubDate><guid>https://hugovk.dev/blog/2018/python-version-share-over-time-1/</guid><description>&lt;h2 id="january-2016--june-2018" class="relative group">January 2016 â€” June 2018 &lt;span class="absolute top-0 w-6 transition-opacity opacity-0 -start-6 not-prose group-hover:opacity-100">&lt;a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700" style="text-decoration-line: none !important;" href="#january-2016--june-2018" aria-label="Anchor">#&lt;/a>&lt;/span>&lt;/h2>&lt;p>To celebrate the release of &lt;a href="https://realpython.com/python37-new-features/" target="_blank" rel="noreferrer">Python 3.7&lt;/a>
on &lt;a href="https://peps.python.org/pep-0537/" target="_blank" rel="noreferrer">27th June 2018&lt;/a>, hereâ€™s some statistics showing
how much different Python versions have been used over the past two and a half years.&lt;/p>
&lt;p>Here&amp;rsquo;s the pip installs for all packages from the
&lt;a href="https://pypi.org/" target="_blank" rel="noreferrer">Python Package Index (PyPI)&lt;/a>, between January 2016 and June 2018:&lt;/p>
&lt;p>





&lt;figure>
 
 








 
 &lt;picture
 class="mx-auto my-0 rounded-md"
 
 >
 
 
 
 
 &lt;source
 
 srcset="https://hugovk.dev/blog/2018/python-version-share-over-time-1/pypi_hu_3c6d689f8973a45e.webp 330w,/blog/2018/python-version-share-over-time-1/pypi_hu_84a9c9c9e3c0058b.webp 660w
 
 ,/blog/2018/python-version-share-over-time-1/pypi_hu_e10eb4c4b75a075.webp 1024w
 
 
 ,/blog/2018/python-version-share-over-time-1/pypi_hu_b1db35120f78b790.webp 1320w
 "
 
 sizes="100vw"
 type="image/webp"
 />
 
 &lt;img
 width="1756"
 height="1093"
 class="mx-auto my-0 rounded-md"
 alt="pypi"
 loading="lazy" decoding="async"
 
 src="https://hugovk.dev/blog/2018/python-version-share-over-time-1/pypi_hu_59ce2501c259cd9f.png"
 srcset="https://hugovk.dev/blog/2018/python-version-share-over-time-1/pypi_hu_9ad8ed6392da4958.png 330w,/blog/2018/python-version-share-over-time-1/pypi_hu_59ce2501c259cd9f.png 660w
 
 ,/blog/2018/python-version-share-over-time-1/pypi_hu_5d04cd009e3974b1.png 1024w
 
 
 ,/blog/2018/python-version-share-over-time-1/pypi_hu_a2bfe488f75e5c34.png 1320w
 "
 sizes="100vw"
 
 />
 &lt;/picture>
 


&lt;/figure>
&lt;/p>
&lt;center>&lt;small>pip installs from PyPI over time, by Python version&lt;/small>&lt;/center>
&lt;p>And for the &lt;a href="https://github.com/python-pillow/Pillow" target="_blank" rel="noreferrer">Pillow&lt;/a> imaging library:&lt;/p>
&lt;p>





&lt;figure>
 
 








 
 &lt;picture
 class="mx-auto my-0 rounded-md"
 
 >
 
 
 
 
 &lt;source
 
 srcset="https://hugovk.dev/blog/2018/python-version-share-over-time-1/pillow_hu_d91d1d21ab45374b.webp 330w,/blog/2018/python-version-share-over-time-1/pillow_hu_9fdc9550a21b96c4.webp 660w
 
 ,/blog/2018/python-version-share-over-time-1/pillow_hu_4a243948c75809fb.webp 1024w
 
 
 ,/blog/2018/python-version-share-over-time-1/pillow_hu_ce30edacaa7a5be0.webp 1320w
 "
 
 sizes="100vw"
 type="image/webp"
 />
 
 &lt;img
 width="1495"
 height="1093"
 class="mx-auto my-0 rounded-md"
 alt="pillow"
 loading="lazy" decoding="async"
 
 src="https://hugovk.dev/blog/2018/python-version-share-over-time-1/pillow_hu_a0320f6ebc9ebdce.png"
 srcset="https://hugovk.dev/blog/2018/python-version-share-over-time-1/pillow_hu_19b8ec0eb5175db7.png 330w,/blog/2018/python-version-share-over-time-1/pillow_hu_a0320f6ebc9ebdce.png 660w
 
 ,/blog/2018/python-version-share-over-time-1/pillow_hu_55b156ccbecdac8d.png 1024w
 
 
 ,/blog/2018/python-version-share-over-time-1/pillow_hu_1e095fc356862a6b.png 1320w
 "
 sizes="100vw"
 
 />
 &lt;/picture>
 


&lt;/figure>
&lt;/p>
&lt;center>&lt;small>Pillow's pip installs from PyPI over time, by Python version&lt;/small>&lt;/center>
&lt;h2 id="how" class="relative group">How &lt;span class="absolute top-0 w-6 transition-opacity opacity-0 -start-6 not-prose group-hover:opacity-100">&lt;a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700" style="text-decoration-line: none !important;" href="#how" aria-label="Anchor">#&lt;/a>&lt;/span>&lt;/h2>&lt;p>Statistics were collected using
&lt;a href="https://github.com/hugovk/pypi-tools/blob/master/pypi-trends.py" target="_blank" rel="noreferrer">pypi-trends.py&lt;/a>, a
wrapper around &lt;a href="https://github.com/ofek/pypinfo" target="_blank" rel="noreferrer">pypinfo&lt;/a> to fetch all monthly downloads
from the PyPI database on Google BigQuery and save them as JSON files. Data was
downloaded over three or four days as getting all months uses up a lot of free BigQuery
quota. Then
&lt;a href="https://github.com/hugovk/pypi-tools/blob/master/jsons2csv.py" target="_blank" rel="noreferrer">jsons2csv.py&lt;/a> converts
them into a single CSV file for chart-wrangling in Excel. Raw CSV and JSON data is in
the &lt;a href="https://github.com/hugovk/pypi-tools/tree/master/data" target="_blank" rel="noreferrer">repo&lt;/a>.&lt;/p>
&lt;h2 id="see-also" class="relative group">See also &lt;span class="absolute top-0 w-6 transition-opacity opacity-0 -start-6 not-prose group-hover:opacity-100">&lt;a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700" style="text-decoration-line: none !important;" href="#see-also" aria-label="Anchor">#&lt;/a>&lt;/span>&lt;/h2>&lt;p>Paul Kehrer fetched similar stats from BigQuery in December 2016, writing in
&lt;a href="https://langui.sh/2016/12/09/data-driven-decisions/" target="_blank" rel="noreferrer">Data Driven Decisions Using PyPI Download Statistics&lt;/a>:&lt;/p>
&lt;blockquote>
&lt;p>Data ingestion into the BigQuery data set was spotty prior to June 2016*, but you can
see a significant uptick in Python 3 based downloads over 2016.
&lt;a href="https://frinkiac.com/caption/S08E11/289555" target="_blank" rel="noreferrer">If these trends continueâ€¦&lt;/a>&lt;/p>
&lt;p>* But it shouldnâ€™t be biased, so these percentages are likely to be accurate.&lt;/p>&lt;/blockquote></description></item></channel></rss>